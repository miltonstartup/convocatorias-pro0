var AA=Object.defineProperty;var s0=e=>{throw TypeError(e)};var RA=(e,t,r)=>t in e?AA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var a0=(e,t,r)=>RA(e,typeof t!="symbol"?t+"":t,r),Vh=(e,t,r)=>t.has(e)||s0("Cannot "+r);var $=(e,t,r)=>(Vh(e,t,"read from private field"),r?r.call(e):t.get(e)),Te=(e,t,r)=>t.has(e)?s0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ve=(e,t,r,n)=>(Vh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),mt=(e,t,r)=>(Vh(e,t,"access private method"),r);var xu=(e,t,r,n)=>({set _(s){ve(e,t,s,r)},get _(){return $(e,t,n)}});function MA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var X1={exports:{}},Mf={},Q1={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),IA=Symbol.for("react.portal"),OA=Symbol.for("react.fragment"),LA=Symbol.for("react.strict_mode"),$A=Symbol.for("react.profiler"),FA=Symbol.for("react.provider"),zA=Symbol.for("react.context"),VA=Symbol.for("react.forward_ref"),UA=Symbol.for("react.suspense"),BA=Symbol.for("react.memo"),WA=Symbol.for("react.lazy"),i0=Symbol.iterator;function qA(e){return e===null||typeof e!="object"?null:(e=i0&&e[i0]||e["@@iterator"],typeof e=="function"?e:null)}var J1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eN=Object.assign,tN={};function Qo(e,t,r){this.props=e,this.context=t,this.refs=tN,this.updater=r||J1}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rN(){}rN.prototype=Qo.prototype;function iv(e,t,r){this.props=e,this.context=t,this.refs=tN,this.updater=r||J1}var ov=iv.prototype=new rN;ov.constructor=iv;eN(ov,Qo.prototype);ov.isPureReactComponent=!0;var o0=Array.isArray,nN=Object.prototype.hasOwnProperty,lv={current:null},sN={key:!0,ref:!0,__self:!0,__source:!0};function aN(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)nN.call(t,n)&&!sN.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:qc,type:e,key:i,ref:o,props:s,_owner:lv.current}}function HA(e,t){return{$$typeof:qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cv(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc}function GA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var l0=/\/+/g;function Uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GA(""+e.key):t.toString(36)}function od(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qc:case IA:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Uh(o,0):n,o0(s)?(r="",e!=null&&(r=e.replace(l0,"$&/")+"/"),od(s,t,r,"",function(u){return u})):s!=null&&(cv(s)&&(s=HA(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(l0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",o0(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Uh(i,l);o+=od(i,t,r,c,s)}else if(c=qA(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Uh(i,l++),o+=od(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(e,t,r){if(e==null)return e;var n=[],s=0;return od(e,n,"","",function(i){return t.call(r,i,s++)}),n}function KA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},ld={transition:null},ZA={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:ld,ReactCurrentOwner:lv};function iN(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:yu,forEach:function(e,t,r){yu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yu(e,function(){t++}),t},toArray:function(e){return yu(e,function(t){return t})||[]},only:function(e){if(!cv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Qo;Re.Fragment=OA;Re.Profiler=$A;Re.PureComponent=iv;Re.StrictMode=LA;Re.Suspense=UA;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZA;Re.act=iN;Re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eN({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=lv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nN.call(t,c)&&!sN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:qc,type:e.type,key:s,ref:i,props:n,_owner:o}};Re.createContext=function(e){return e={$$typeof:zA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FA,_context:e},e.Consumer=e};Re.createElement=aN;Re.createFactory=function(e){var t=aN.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:VA,render:e}};Re.isValidElement=cv;Re.lazy=function(e){return{$$typeof:WA,_payload:{_status:-1,_result:e},_init:KA}};Re.memo=function(e,t){return{$$typeof:BA,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=ld.transition;ld.transition={};try{e()}finally{ld.transition=t}};Re.unstable_act=iN;Re.useCallback=function(e,t){return pr.current.useCallback(e,t)};Re.useContext=function(e){return pr.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};Re.useEffect=function(e,t){return pr.current.useEffect(e,t)};Re.useId=function(){return pr.current.useId()};Re.useImperativeHandle=function(e,t,r){return pr.current.useImperativeHandle(e,t,r)};Re.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return pr.current.useMemo(e,t)};Re.useReducer=function(e,t,r){return pr.current.useReducer(e,t,r)};Re.useRef=function(e){return pr.current.useRef(e)};Re.useState=function(e){return pr.current.useState(e)};Re.useSyncExternalStore=function(e,t,r){return pr.current.useSyncExternalStore(e,t,r)};Re.useTransition=function(){return pr.current.useTransition()};Re.version="18.3.1";Q1.exports=Re;var g=Q1.exports;const q=Y1(g),uv=MA({__proto__:null,default:q},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA=g,XA=Symbol.for("react.element"),QA=Symbol.for("react.fragment"),JA=Object.prototype.hasOwnProperty,eR=YA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tR={key:!0,ref:!0,__self:!0,__source:!0};function oN(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)JA.call(t,n)&&!tR.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:XA,type:e,key:i,ref:o,props:s,_owner:eR.current}}Mf.Fragment=QA;Mf.jsx=oN;Mf.jsxs=oN;X1.exports=Mf;var a=X1.exports,Jm={},lN={exports:{}},zr={},cN={exports:{}},uN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,I){var G=D.length;D.push(I);e:for(;0<G;){var oe=G-1>>>1,we=D[oe];if(0<s(we,I))D[oe]=I,D[G]=we,G=oe;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var I=D[0],G=D.pop();if(G!==I){D[0]=G;e:for(var oe=0,we=D.length,pe=we>>>1;oe<pe;){var be=2*(oe+1)-1,Se=D[be],De=be+1,le=D[De];if(0>s(Se,G))De<we&&0>s(le,Se)?(D[oe]=le,D[De]=G,oe=De):(D[oe]=Se,D[be]=G,oe=be);else if(De<we&&0>s(le,G))D[oe]=le,D[De]=G,oe=De;else break e}}return I}function s(D,I){var G=D.sortIndex-I.sortIndex;return G!==0?G:D.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,w=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=D)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function j(D){if(p=!1,b(D),!w)if(r(c)!==null)w=!0,V(N);else{var I=r(u);I!==null&&z(j,I.startTime-D)}}function N(D,I){w=!1,p&&(p=!1,y(E),E=-1),m=!0;var G=h;try{for(b(I),f=r(c);f!==null&&(!(f.expirationTime>I)||D&&!A());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var we=oe(f.expirationTime<=I);I=e.unstable_now(),typeof we=="function"?f.callback=we:f===r(c)&&n(c),b(I)}else n(c);f=r(c)}if(f!==null)var pe=!0;else{var be=r(u);be!==null&&z(j,be.startTime-I),pe=!1}return pe}finally{f=null,h=G,m=!1}}var k=!1,S=null,E=-1,P=5,C=-1;function A(){return!(e.unstable_now()-C<P)}function M(){if(S!==null){var D=e.unstable_now();C=D;var I=!0;try{I=S(!0,D)}finally{I?R():(k=!1,S=null)}}else k=!1}var R;if(typeof x=="function")R=function(){x(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=M,R=function(){U.postMessage(null)}}else R=function(){v(M,0)};function V(D){S=D,k||(k=!0,R())}function z(D,I){E=v(function(){D(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,V(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var G=h;h=I;try{return D()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=h;h=D;try{return I()}finally{h=G}},e.unstable_scheduleCallback=function(D,I,G){var oe=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,D){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=G+we,D={id:d++,callback:I,priorityLevel:D,startTime:G,expirationTime:we,sortIndex:-1},G>oe?(D.sortIndex=G,t(u,D),r(c)===null&&D===r(u)&&(p?(y(E),E=-1):p=!0,z(j,G-oe))):(D.sortIndex=we,t(c,D),w||m||(w=!0,V(N))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var I=h;return function(){var G=h;h=I;try{return D.apply(this,arguments)}finally{h=G}}}})(uN);cN.exports=uN;var rR=cN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=g,$r=rR;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dN=new Set,cc={};function Ci(e,t){Io(e,t),Io(e+"Capture",t)}function Io(e,t){for(cc[e]=t,e=0;e<t.length;e++)dN.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=Object.prototype.hasOwnProperty,sR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c0={},u0={};function aR(e){return ep.call(u0,e)?!0:ep.call(c0,e)?!1:sR.test(e)?u0[e]=!0:(c0[e]=!0,!1)}function iR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oR(e,t,r,n){if(t===null||typeof t>"u"||iR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var dv=/[\-:]([a-z])/g;function fv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dv,fv);Qt[t]=new gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dv,fv);Qt[t]=new gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dv,fv);Qt[t]=new gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new gr(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function hv(e,t,r,n){var s=Qt.hasOwnProperty(t)?Qt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oR(t,r,s,n)&&(r=null),n||s===null?aR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var As=nR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),mv=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),fN=Symbol.for("react.provider"),hN=Symbol.for("react.context"),pv=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),gv=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),mN=Symbol.for("react.offscreen"),d0=Symbol.iterator;function xl(e){return e===null||typeof e!="object"?null:(e=d0&&e[d0]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,Bh;function Il(e){if(Bh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bh=t&&t[1]||""}return`
`+Bh+e}var Wh=!1;function qh(e,t){if(!e||Wh)return"";Wh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Wh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Il(e):""}function lR(e){switch(e.tag){case 5:return Il(e.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return e=qh(e.type,!1),e;case 11:return e=qh(e.type.render,!1),e;case 1:return e=qh(e.type,!0),e;default:return""}}function sp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case Zi:return"Portal";case tp:return"Profiler";case mv:return"StrictMode";case rp:return"Suspense";case np:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hN:return(e.displayName||"Context")+".Consumer";case fN:return(e._context.displayName||"Context")+".Provider";case pv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gv:return t=e.displayName||null,t!==null?t:sp(e.type)||"Memo";case Gs:t=e._payload,e=e._init;try{return sp(e(t))}catch{}}return null}function cR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sp(t);case 8:return t===mv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uR(e){var t=pN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bu(e){e._valueTracker||(e._valueTracker=uR(e))}function gN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ad(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ap(e,t){var r=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function f0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ja(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vN(e,t){t=t.checked,t!=null&&hv(e,"checked",t,!1)}function ip(e,t){vN(e,t);var r=ja(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?op(e,t.type,r):t.hasOwnProperty("defaultValue")&&op(e,t.type,ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function op(e,t,r){(t!=="number"||Ad(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ol=Array.isArray;function po(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ja(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function lp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(Ol(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ja(r)}}function xN(e,t){var r=ja(t.value),n=ja(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function p0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ju,wN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dR=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){dR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function bN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function jN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=bN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fR=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(e,t){if(t){if(fR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function dp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fp=null;function vv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hp=null,go=null,vo=null;function g0(e){if(e=Kc(e)){if(typeof hp!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=$f(t),hp(e.stateNode,e.type,t))}}function NN(e){go?vo?vo.push(e):vo=[e]:go=e}function _N(){if(go){var e=go,t=vo;if(vo=go=null,g0(e),t)for(e=0;e<t.length;e++)g0(t[e])}}function SN(e,t){return e(t)}function CN(){}var Hh=!1;function EN(e,t,r){if(Hh)return e(t,r);Hh=!0;try{return SN(e,t,r)}finally{Hh=!1,(go!==null||vo!==null)&&(CN(),_N())}}function dc(e,t){var r=e.stateNode;if(r===null)return null;var n=$f(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var mp=!1;if(js)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){mp=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{mp=!1}function hR(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Wl=!1,Rd=null,Md=!1,pp=null,mR={onError:function(e){Wl=!0,Rd=e}};function pR(e,t,r,n,s,i,o,l,c){Wl=!1,Rd=null,hR.apply(mR,arguments)}function gR(e,t,r,n,s,i,o,l,c){if(pR.apply(this,arguments),Wl){if(Wl){var u=Rd;Wl=!1,Rd=null}else throw Error(Z(198));Md||(Md=!0,pp=u)}}function Ei(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v0(e){if(Ei(e)!==e)throw Error(Z(188))}function vR(e){var t=e.alternate;if(!t){if(t=Ei(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return v0(s),e;if(i===n)return v0(s),t;i=i.sibling}throw Error(Z(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function PN(e){return e=vR(e),e!==null?TN(e):null}function TN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=TN(e);if(t!==null)return t;e=e.sibling}return null}var AN=$r.unstable_scheduleCallback,x0=$r.unstable_cancelCallback,xR=$r.unstable_shouldYield,yR=$r.unstable_requestPaint,xt=$r.unstable_now,wR=$r.unstable_getCurrentPriorityLevel,xv=$r.unstable_ImmediatePriority,RN=$r.unstable_UserBlockingPriority,Dd=$r.unstable_NormalPriority,bR=$r.unstable_LowPriority,MN=$r.unstable_IdlePriority,Df=null,Kn=null;function jR(e){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Df,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:SR,NR=Math.log,_R=Math.LN2;function SR(e){return e>>>=0,e===0?32:31-(NR(e)/_R|0)|0}var Nu=64,_u=4194304;function Ll(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Id(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ll(l):(i&=o,i!==0&&(n=Ll(i)))}else o=r&~s,o!==0?n=Ll(o):i!==0&&(n=Ll(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_n(t),s=1<<r,n|=e[r],t&=~s;return n}function CR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ER(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-_n(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=CR(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function gp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function DN(){var e=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),e}function Gh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=r}function kR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-_n(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function yv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_n(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var We=0;function IN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ON,wv,LN,$N,FN,vp=!1,Su=[],fa=null,ha=null,ma=null,fc=new Map,hc=new Map,Zs=[],PR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y0(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function wl(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Kc(t),t!==null&&wv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function TR(e,t,r,n,s){switch(t){case"focusin":return fa=wl(fa,e,t,r,n,s),!0;case"dragenter":return ha=wl(ha,e,t,r,n,s),!0;case"mouseover":return ma=wl(ma,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return fc.set(i,wl(fc.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,hc.set(i,wl(hc.get(i)||null,e,t,r,n,s)),!0}return!1}function zN(e){var t=Qa(e.target);if(t!==null){var r=Ei(t);if(r!==null){if(t=r.tag,t===13){if(t=kN(r),t!==null){e.blockedOn=t,FN(e.priority,function(){LN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);fp=n,r.target.dispatchEvent(n),fp=null}else return t=Kc(r),t!==null&&wv(t),e.blockedOn=r,!1;t.shift()}return!0}function w0(e,t,r){cd(e)&&r.delete(t)}function AR(){vp=!1,fa!==null&&cd(fa)&&(fa=null),ha!==null&&cd(ha)&&(ha=null),ma!==null&&cd(ma)&&(ma=null),fc.forEach(w0),hc.forEach(w0)}function bl(e,t){e.blockedOn===t&&(e.blockedOn=null,vp||(vp=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,AR)))}function mc(e){function t(s){return bl(s,e)}if(0<Su.length){bl(Su[0],e);for(var r=1;r<Su.length;r++){var n=Su[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fa!==null&&bl(fa,e),ha!==null&&bl(ha,e),ma!==null&&bl(ma,e),fc.forEach(t),hc.forEach(t),r=0;r<Zs.length;r++)n=Zs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)zN(r),r.blockedOn===null&&Zs.shift()}var xo=As.ReactCurrentBatchConfig,Od=!0;function RR(e,t,r,n){var s=We,i=xo.transition;xo.transition=null;try{We=1,bv(e,t,r,n)}finally{We=s,xo.transition=i}}function MR(e,t,r,n){var s=We,i=xo.transition;xo.transition=null;try{We=4,bv(e,t,r,n)}finally{We=s,xo.transition=i}}function bv(e,t,r,n){if(Od){var s=xp(e,t,r,n);if(s===null)nm(e,t,n,Ld,r),y0(e,n);else if(TR(s,e,t,r,n))n.stopPropagation();else if(y0(e,n),t&4&&-1<PR.indexOf(e)){for(;s!==null;){var i=Kc(s);if(i!==null&&ON(i),i=xp(e,t,r,n),i===null&&nm(e,t,n,Ld,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else nm(e,t,n,null,r)}}var Ld=null;function xp(e,t,r,n){if(Ld=null,e=vv(n),e=Qa(e),e!==null)if(t=Ei(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ld=e,null}function VN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wR()){case xv:return 1;case RN:return 4;case Dd:case bR:return 16;case MN:return 536870912;default:return 16}default:return 16}}var ia=null,jv=null,ud=null;function UN(){if(ud)return ud;var e,t=jv,r=t.length,n,s="value"in ia?ia.value:ia.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ud=s.slice(e,1<n?1-n:void 0)}function dd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cu(){return!0}function b0(){return!1}function Vr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cu:b0,this.isPropagationStopped=b0,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),t}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nv=Vr(Jo),Gc=ct({},Jo,{view:0,detail:0}),DR=Vr(Gc),Kh,Zh,jl,If=ct({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_v,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(Kh=e.screenX-jl.screenX,Zh=e.screenY-jl.screenY):Zh=Kh=0,jl=e),Kh)},movementY:function(e){return"movementY"in e?e.movementY:Zh}}),j0=Vr(If),IR=ct({},If,{dataTransfer:0}),OR=Vr(IR),LR=ct({},Gc,{relatedTarget:0}),Yh=Vr(LR),$R=ct({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),FR=Vr($R),zR=ct({},Jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VR=Vr(zR),UR=ct({},Jo,{data:0}),N0=Vr(UR),BR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qR[e])?!!t[e]:!1}function _v(){return HR}var GR=ct({},Gc,{key:function(e){if(e.key){var t=BR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_v,charCode:function(e){return e.type==="keypress"?dd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KR=Vr(GR),ZR=ct({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_0=Vr(ZR),YR=ct({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_v}),XR=Vr(YR),QR=ct({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JR=Vr(QR),eM=ct({},If,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tM=Vr(eM),rM=[9,13,27,32],Sv=js&&"CompositionEvent"in window,ql=null;js&&"documentMode"in document&&(ql=document.documentMode);var nM=js&&"TextEvent"in window&&!ql,BN=js&&(!Sv||ql&&8<ql&&11>=ql),S0=" ",C0=!1;function WN(e,t){switch(e){case"keyup":return rM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function sM(e,t){switch(e){case"compositionend":return qN(t);case"keypress":return t.which!==32?null:(C0=!0,S0);case"textInput":return e=t.data,e===S0&&C0?null:e;default:return null}}function aM(e,t){if(Xi)return e==="compositionend"||!Sv&&WN(e,t)?(e=UN(),ud=jv=ia=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BN&&t.locale!=="ko"?null:t.data;default:return null}}var iM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iM[e.type]:t==="textarea"}function HN(e,t,r,n){NN(n),t=$d(t,"onChange"),0<t.length&&(r=new Nv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hl=null,pc=null;function oM(e){n_(e,0)}function Of(e){var t=eo(e);if(gN(t))return e}function lM(e,t){if(e==="change")return t}var GN=!1;if(js){var Xh;if(js){var Qh="oninput"in document;if(!Qh){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),Qh=typeof k0.oninput=="function"}Xh=Qh}else Xh=!1;GN=Xh&&(!document.documentMode||9<document.documentMode)}function P0(){Hl&&(Hl.detachEvent("onpropertychange",KN),pc=Hl=null)}function KN(e){if(e.propertyName==="value"&&Of(pc)){var t=[];HN(t,pc,e,vv(e)),EN(oM,t)}}function cM(e,t,r){e==="focusin"?(P0(),Hl=t,pc=r,Hl.attachEvent("onpropertychange",KN)):e==="focusout"&&P0()}function uM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Of(pc)}function dM(e,t){if(e==="click")return Of(t)}function fM(e,t){if(e==="input"||e==="change")return Of(t)}function hM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:hM;function gc(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ep.call(t,s)||!Cn(e[s],t[s]))return!1}return!0}function T0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function A0(e,t){var r=T0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=T0(r)}}function ZN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YN(){for(var e=window,t=Ad();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ad(e.document)}return t}function Cv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mM(e){var t=YN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ZN(r.ownerDocument.documentElement,r)){if(n!==null&&Cv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=A0(r,i);var o=A0(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pM=js&&"documentMode"in document&&11>=document.documentMode,Qi=null,yp=null,Gl=null,wp=!1;function R0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wp||Qi==null||Qi!==Ad(n)||(n=Qi,"selectionStart"in n&&Cv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gl&&gc(Gl,n)||(Gl=n,n=$d(yp,"onSelect"),0<n.length&&(t=new Nv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qi)))}function Eu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ji={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},Jh={},XN={};js&&(XN=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function Lf(e){if(Jh[e])return Jh[e];if(!Ji[e])return e;var t=Ji[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in XN)return Jh[e]=t[r];return e}var QN=Lf("animationend"),JN=Lf("animationiteration"),e_=Lf("animationstart"),t_=Lf("transitionend"),r_=new Map,M0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){r_.set(e,t),Ci(t,[e])}for(var em=0;em<M0.length;em++){var tm=M0[em],gM=tm.toLowerCase(),vM=tm[0].toUpperCase()+tm.slice(1);Aa(gM,"on"+vM)}Aa(QN,"onAnimationEnd");Aa(JN,"onAnimationIteration");Aa(e_,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(t_,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xM=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function D0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gR(n,t,void 0,e),e.currentTarget=null}function n_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;D0(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;D0(s,l,u),i=c}}}if(Md)throw e=pp,Md=!1,pp=null,e}function Je(e,t){var r=t[Sp];r===void 0&&(r=t[Sp]=new Set);var n=e+"__bubble";r.has(n)||(s_(t,e,2,!1),r.add(n))}function rm(e,t,r){var n=0;t&&(n|=4),s_(r,e,n,t)}var ku="_reactListening"+Math.random().toString(36).slice(2);function vc(e){if(!e[ku]){e[ku]=!0,dN.forEach(function(r){r!=="selectionchange"&&(xM.has(r)||rm(r,!1,e),rm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ku]||(t[ku]=!0,rm("selectionchange",!1,t))}}function s_(e,t,r,n){switch(VN(t)){case 1:var s=RR;break;case 4:s=MR;break;default:s=bv}r=s.bind(null,t,r,e),s=void 0,!mp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function nm(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Qa(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}EN(function(){var u=i,d=vv(r),f=[];e:{var h=r_.get(e);if(h!==void 0){var m=Nv,w=e;switch(e){case"keypress":if(dd(r)===0)break e;case"keydown":case"keyup":m=KR;break;case"focusin":w="focus",m=Yh;break;case"focusout":w="blur",m=Yh;break;case"beforeblur":case"afterblur":m=Yh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=j0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=OR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=XR;break;case QN:case JN:case e_:m=FR;break;case t_:m=JR;break;case"scroll":m=DR;break;case"wheel":m=tM;break;case"copy":case"cut":case"paste":m=VR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_0}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=dc(x,y),j!=null&&p.push(xc(x,j,b)))),v)break;x=x.return}0<p.length&&(h=new m(h,w,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==fp&&(w=r.relatedTarget||r.fromElement)&&(Qa(w)||w[Ns]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?Qa(w):null,w!==null&&(v=Ei(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(p=j0,j="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=_0,j="onPointerLeave",y="onPointerEnter",x="pointer"),v=m==null?h:eo(m),b=w==null?h:eo(w),h=new p(j,x+"leave",m,r,d),h.target=v,h.relatedTarget=b,j=null,Qa(d)===u&&(p=new p(y,x+"enter",w,r,d),p.target=b,p.relatedTarget=v,j=p),v=j,m&&w)t:{for(p=m,y=w,x=0,b=p;b;b=Ii(b))x++;for(b=0,j=y;j;j=Ii(j))b++;for(;0<x-b;)p=Ii(p),x--;for(;0<b-x;)y=Ii(y),b--;for(;x--;){if(p===y||y!==null&&p===y.alternate)break t;p=Ii(p),y=Ii(y)}p=null}else p=null;m!==null&&I0(f,h,m,p,!1),w!==null&&v!==null&&I0(f,v,w,p,!0)}}e:{if(h=u?eo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=lM;else if(E0(h))if(GN)N=fM;else{N=uM;var k=cM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=dM);if(N&&(N=N(e,u))){HN(f,N,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&op(h,"number",h.value)}switch(k=u?eo(u):window,e){case"focusin":(E0(k)||k.contentEditable==="true")&&(Qi=k,yp=u,Gl=null);break;case"focusout":Gl=yp=Qi=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,R0(f,r,d);break;case"selectionchange":if(pM)break;case"keydown":case"keyup":R0(f,r,d)}var S;if(Sv)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Xi?WN(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(BN&&r.locale!=="ko"&&(Xi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Xi&&(S=UN()):(ia=d,jv="value"in ia?ia.value:ia.textContent,Xi=!0)),k=$d(u,E),0<k.length&&(E=new N0(E,e,null,r,d),f.push({event:E,listeners:k}),S?E.data=S:(S=qN(r),S!==null&&(E.data=S)))),(S=nM?sM(e,r):aM(e,r))&&(u=$d(u,"onBeforeInput"),0<u.length&&(d=new N0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}n_(f,t)})}function xc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $d(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=dc(e,r),i!=null&&n.unshift(xc(e,i,s)),i=dc(e,t),i!=null&&n.push(xc(e,i,s))),e=e.return}return n}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I0(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=dc(r,i),c!=null&&o.unshift(xc(r,c,l))):s||(c=dc(r,i),c!=null&&o.push(xc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var yM=/\r\n?/g,wM=/\u0000|\uFFFD/g;function O0(e){return(typeof e=="string"?e:""+e).replace(yM,`
`).replace(wM,"")}function Pu(e,t,r){if(t=O0(t),O0(e)!==t&&r)throw Error(Z(425))}function Fd(){}var bp=null,jp=null;function Np(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,bM=typeof clearTimeout=="function"?clearTimeout:void 0,L0=typeof Promise=="function"?Promise:void 0,jM=typeof queueMicrotask=="function"?queueMicrotask:typeof L0<"u"?function(e){return L0.resolve(null).then(e).catch(NM)}:_p;function NM(e){setTimeout(function(){throw e})}function sm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),mc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);mc(t)}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var el=Math.random().toString(36).slice(2),Un="__reactFiber$"+el,yc="__reactProps$"+el,Ns="__reactContainer$"+el,Sp="__reactEvents$"+el,_M="__reactListeners$"+el,SM="__reactHandles$"+el;function Qa(e){var t=e[Un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ns]||r[Un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$0(e);e!==null;){if(r=e[Un])return r;e=$0(e)}return t}e=r,r=e.parentNode}return null}function Kc(e){return e=e[Un]||e[Ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function $f(e){return e[yc]||null}var Cp=[],to=-1;function Ra(e){return{current:e}}function et(e){0>to||(e.current=Cp[to],Cp[to]=null,to--)}function Ye(e,t){to++,Cp[to]=e.current,e.current=t}var Na={},ir=Ra(Na),Sr=Ra(!1),mi=Na;function Oo(e,t){var r=e.type.contextTypes;if(!r)return Na;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Cr(e){return e=e.childContextTypes,e!=null}function zd(){et(Sr),et(ir)}function F0(e,t,r){if(ir.current!==Na)throw Error(Z(168));Ye(ir,t),Ye(Sr,r)}function a_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Z(108,cR(e)||"Unknown",s));return ct({},r,n)}function Vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,mi=ir.current,Ye(ir,e),Ye(Sr,Sr.current),!0}function z0(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=a_(e,t,mi),n.__reactInternalMemoizedMergedChildContext=e,et(Sr),et(ir),Ye(ir,e)):et(Sr),Ye(Sr,r)}var hs=null,Ff=!1,am=!1;function i_(e){hs===null?hs=[e]:hs.push(e)}function CM(e){Ff=!0,i_(e)}function Ma(){if(!am&&hs!==null){am=!0;var e=0,t=We;try{var r=hs;for(We=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hs=null,Ff=!1}catch(s){throw hs!==null&&(hs=hs.slice(e+1)),AN(xv,Ma),s}finally{We=t,am=!1}}return null}var ro=[],no=0,Ud=null,Bd=0,Kr=[],Zr=0,pi=null,gs=1,vs="";function Ha(e,t){ro[no++]=Bd,ro[no++]=Ud,Ud=e,Bd=t}function o_(e,t,r){Kr[Zr++]=gs,Kr[Zr++]=vs,Kr[Zr++]=pi,pi=e;var n=gs;e=vs;var s=32-_n(n)-1;n&=~(1<<s),r+=1;var i=32-_n(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,gs=1<<32-_n(t)+s|r<<s|n,vs=i+e}else gs=1<<i|r<<s|n,vs=e}function Ev(e){e.return!==null&&(Ha(e,1),o_(e,1,0))}function kv(e){for(;e===Ud;)Ud=ro[--no],ro[no]=null,Bd=ro[--no],ro[no]=null;for(;e===pi;)pi=Kr[--Zr],Kr[Zr]=null,vs=Kr[--Zr],Kr[Zr]=null,gs=Kr[--Zr],Kr[Zr]=null}var Ir=null,Mr=null,rt=!1,bn=null;function l_(e,t){var r=Yr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function V0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ir=e,Mr=pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ir=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pi!==null?{id:gs,overflow:vs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ir=e,Mr=null,!0):!1;default:return!1}}function Ep(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kp(e){if(rt){var t=Mr;if(t){var r=t;if(!V0(e,t)){if(Ep(e))throw Error(Z(418));t=pa(r.nextSibling);var n=Ir;t&&V0(e,t)?l_(n,r):(e.flags=e.flags&-4097|2,rt=!1,Ir=e)}}else{if(Ep(e))throw Error(Z(418));e.flags=e.flags&-4097|2,rt=!1,Ir=e}}}function U0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ir=e}function Tu(e){if(e!==Ir)return!1;if(!rt)return U0(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Np(e.type,e.memoizedProps)),t&&(t=Mr)){if(Ep(e))throw c_(),Error(Z(418));for(;t;)l_(e,t),t=pa(t.nextSibling)}if(U0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mr=pa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=Ir?pa(e.stateNode.nextSibling):null;return!0}function c_(){for(var e=Mr;e;)e=pa(e.nextSibling)}function Lo(){Mr=Ir=null,rt=!1}function Pv(e){bn===null?bn=[e]:bn.push(e)}var EM=As.ReactCurrentBatchConfig;function Nl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function Au(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function B0(e){var t=e._init;return t(e._payload)}function u_(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=ya(y,x),y.index=0,y.sibling=null,y}function i(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,j){return x===null||x.tag!==6?(x=fm(b,y.mode,j),x.return=y,x):(x=s(x,b),x.return=y,x)}function c(y,x,b,j){var N=b.type;return N===Yi?d(y,x,b.props.children,j,b.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gs&&B0(N)===x.type)?(j=s(x,b.props),j.ref=Nl(y,x,b),j.return=y,j):(j=xd(b.type,b.key,b.props,null,y.mode,j),j.ref=Nl(y,x,b),j.return=y,j)}function u(y,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=hm(b,y.mode,j),x.return=y,x):(x=s(x,b.children||[]),x.return=y,x)}function d(y,x,b,j,N){return x===null||x.tag!==7?(x=ui(b,y.mode,j,N),x.return=y,x):(x=s(x,b),x.return=y,x)}function f(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=fm(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wu:return b=xd(x.type,x.key,x.props,null,y.mode,b),b.ref=Nl(y,null,x),b.return=y,b;case Zi:return x=hm(x,y.mode,b),x.return=y,x;case Gs:var j=x._init;return f(y,j(x._payload),b)}if(Ol(x)||xl(x))return x=ui(x,y.mode,b,null),x.return=y,x;Au(y,x)}return null}function h(y,x,b,j){var N=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wu:return b.key===N?c(y,x,b,j):null;case Zi:return b.key===N?u(y,x,b,j):null;case Gs:return N=b._init,h(y,x,N(b._payload),j)}if(Ol(b)||xl(b))return N!==null?null:d(y,x,b,j,null);Au(y,b)}return null}function m(y,x,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(x,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case wu:return y=y.get(j.key===null?b:j.key)||null,c(x,y,j,N);case Zi:return y=y.get(j.key===null?b:j.key)||null,u(x,y,j,N);case Gs:var k=j._init;return m(y,x,b,k(j._payload),N)}if(Ol(j)||xl(j))return y=y.get(b)||null,d(x,y,j,N,null);Au(x,j)}return null}function w(y,x,b,j){for(var N=null,k=null,S=x,E=x=0,P=null;S!==null&&E<b.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var C=h(y,S,b[E],j);if(C===null){S===null&&(S=P);break}e&&S&&C.alternate===null&&t(y,S),x=i(C,x,E),k===null?N=C:k.sibling=C,k=C,S=P}if(E===b.length)return r(y,S),rt&&Ha(y,E),N;if(S===null){for(;E<b.length;E++)S=f(y,b[E],j),S!==null&&(x=i(S,x,E),k===null?N=S:k.sibling=S,k=S);return rt&&Ha(y,E),N}for(S=n(y,S);E<b.length;E++)P=m(S,y,E,b[E],j),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?E:P.key),x=i(P,x,E),k===null?N=P:k.sibling=P,k=P);return e&&S.forEach(function(A){return t(y,A)}),rt&&Ha(y,E),N}function p(y,x,b,j){var N=xl(b);if(typeof N!="function")throw Error(Z(150));if(b=N.call(b),b==null)throw Error(Z(151));for(var k=N=null,S=x,E=x=0,P=null,C=b.next();S!==null&&!C.done;E++,C=b.next()){S.index>E?(P=S,S=null):P=S.sibling;var A=h(y,S,C.value,j);if(A===null){S===null&&(S=P);break}e&&S&&A.alternate===null&&t(y,S),x=i(A,x,E),k===null?N=A:k.sibling=A,k=A,S=P}if(C.done)return r(y,S),rt&&Ha(y,E),N;if(S===null){for(;!C.done;E++,C=b.next())C=f(y,C.value,j),C!==null&&(x=i(C,x,E),k===null?N=C:k.sibling=C,k=C);return rt&&Ha(y,E),N}for(S=n(y,S);!C.done;E++,C=b.next())C=m(S,y,E,C.value,j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),x=i(C,x,E),k===null?N=C:k.sibling=C,k=C);return e&&S.forEach(function(M){return t(y,M)}),rt&&Ha(y,E),N}function v(y,x,b,j){if(typeof b=="object"&&b!==null&&b.type===Yi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wu:e:{for(var N=b.key,k=x;k!==null;){if(k.key===N){if(N=b.type,N===Yi){if(k.tag===7){r(y,k.sibling),x=s(k,b.props.children),x.return=y,y=x;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gs&&B0(N)===k.type){r(y,k.sibling),x=s(k,b.props),x.ref=Nl(y,k,b),x.return=y,y=x;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Yi?(x=ui(b.props.children,y.mode,j,b.key),x.return=y,y=x):(j=xd(b.type,b.key,b.props,null,y.mode,j),j.ref=Nl(y,x,b),j.return=y,y=j)}return o(y);case Zi:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=s(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=hm(b,y.mode,j),x.return=y,y=x}return o(y);case Gs:return k=b._init,v(y,x,k(b._payload),j)}if(Ol(b))return w(y,x,b,j);if(xl(b))return p(y,x,b,j);Au(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,b),x.return=y,y=x):(r(y,x),x=fm(b,y.mode,j),x.return=y,y=x),o(y)):r(y,x)}return v}var $o=u_(!0),d_=u_(!1),Wd=Ra(null),qd=null,so=null,Tv=null;function Av(){Tv=so=qd=null}function Rv(e){var t=Wd.current;et(Wd),e._currentValue=t}function Pp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yo(e,t){qd=e,Tv=so=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(Tv!==e)if(e={context:e,memoizedValue:t,next:null},so===null){if(qd===null)throw Error(Z(308));so=e,qd.dependencies={lanes:0,firstContext:e}}else so=so.next=e;return t}var Ja=null;function Mv(e){Ja===null?Ja=[e]:Ja.push(e)}function f_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Mv(t)):(r.next=s.next,s.next=r),t.interleaved=r,_s(e,n)}function _s(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ks=!1;function Dv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ga(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_s(e,r)}return s=n.interleaved,s===null?(t.next=t,Mv(n)):(t.next=s.next,s.next=t),n.interleaved=t,_s(e,r)}function fd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yv(e,r)}}function W0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hd(e,t,r,n){var s=e.updateQueue;Ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,p=l;switch(h=t,m=r,p.tag){case 1:if(w=p.payload,typeof w=="function"){f=w.call(m,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=p.payload,h=typeof w=="function"?w.call(m,f,h):w,h==null)break e;f=ct({},f,h);break e;case 2:Ks=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vi|=o,e.lanes=o,e.memoizedState=f}}function q0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Z(191,s));s.call(n)}}}var Zc={},Zn=Ra(Zc),wc=Ra(Zc),bc=Ra(Zc);function ei(e){if(e===Zc)throw Error(Z(174));return e}function Iv(e,t){switch(Ye(bc,t),Ye(wc,e),Ye(Zn,Zc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cp(t,e)}et(Zn),Ye(Zn,t)}function Fo(){et(Zn),et(wc),et(bc)}function m_(e){ei(bc.current);var t=ei(Zn.current),r=cp(t,e.type);t!==r&&(Ye(wc,e),Ye(Zn,r))}function Ov(e){wc.current===e&&(et(Zn),et(wc))}var it=Ra(0);function Gd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var im=[];function Lv(){for(var e=0;e<im.length;e++)im[e]._workInProgressVersionPrimary=null;im.length=0}var hd=As.ReactCurrentDispatcher,om=As.ReactCurrentBatchConfig,gi=0,lt=null,Mt=null,Ft=null,Kd=!1,Kl=!1,jc=0,kM=0;function tr(){throw Error(Z(321))}function $v(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cn(e[r],t[r]))return!1;return!0}function Fv(e,t,r,n,s,i){if(gi=i,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hd.current=e===null||e.memoizedState===null?RM:MM,e=r(n,s),Kl){i=0;do{if(Kl=!1,jc=0,25<=i)throw Error(Z(301));i+=1,Ft=Mt=null,t.updateQueue=null,hd.current=DM,e=r(n,s)}while(Kl)}if(hd.current=Zd,t=Mt!==null&&Mt.next!==null,gi=0,Ft=Mt=lt=null,Kd=!1,t)throw Error(Z(300));return e}function zv(){var e=jc!==0;return jc=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?lt.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function nn(){if(Mt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=Ft===null?lt.memoizedState:Ft.next;if(t!==null)Ft=t,Mt=e;else{if(e===null)throw Error(Z(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ft===null?lt.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function Nc(e,t){return typeof t=="function"?t(e):t}function lm(e){var t=nn(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=Mt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((gi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,lt.lanes|=d,vi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Cn(n,t.memoizedState)||(Nr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,lt.lanes|=i,vi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cm(e){var t=nn(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Cn(i,t.memoizedState)||(Nr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function p_(){}function g_(e,t){var r=lt,n=nn(),s=t(),i=!Cn(n.memoizedState,s);if(i&&(n.memoizedState=s,Nr=!0),n=n.queue,Vv(y_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ft!==null&&Ft.memoizedState.tag&1){if(r.flags|=2048,_c(9,x_.bind(null,r,n,s,t),void 0,null),zt===null)throw Error(Z(349));gi&30||v_(r,t,s)}return s}function v_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function x_(e,t,r,n){t.value=r,t.getSnapshot=n,w_(t)&&b_(e)}function y_(e,t,r){return r(function(){w_(t)&&b_(e)})}function w_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cn(e,r)}catch{return!0}}function b_(e){var t=_s(e,1);t!==null&&Sn(t,e,1,-1)}function H0(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:e},t.queue=e,e=e.dispatch=AM.bind(null,lt,e),[t.memoizedState,e]}function _c(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function j_(){return nn().memoizedState}function md(e,t,r,n){var s=On();lt.flags|=e,s.memoizedState=_c(1|t,r,void 0,n===void 0?null:n)}function zf(e,t,r,n){var s=nn();n=n===void 0?null:n;var i=void 0;if(Mt!==null){var o=Mt.memoizedState;if(i=o.destroy,n!==null&&$v(n,o.deps)){s.memoizedState=_c(t,r,i,n);return}}lt.flags|=e,s.memoizedState=_c(1|t,r,i,n)}function G0(e,t){return md(8390656,8,e,t)}function Vv(e,t){return zf(2048,8,e,t)}function N_(e,t){return zf(4,2,e,t)}function __(e,t){return zf(4,4,e,t)}function S_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function C_(e,t,r){return r=r!=null?r.concat([e]):null,zf(4,4,S_.bind(null,t,e),r)}function Uv(){}function E_(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$v(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function k_(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$v(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function P_(e,t,r){return gi&21?(Cn(r,t)||(r=DN(),lt.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=r)}function PM(e,t){var r=We;We=r!==0&&4>r?r:4,e(!0);var n=om.transition;om.transition={};try{e(!1),t()}finally{We=r,om.transition=n}}function T_(){return nn().memoizedState}function TM(e,t,r){var n=xa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},A_(e))R_(t,r);else if(r=f_(e,t,r,n),r!==null){var s=hr();Sn(r,e,n,s),M_(r,t,n)}}function AM(e,t,r){var n=xa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(A_(e))R_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Cn(l,o)){var c=t.interleaved;c===null?(s.next=s,Mv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=f_(e,t,s,n),r!==null&&(s=hr(),Sn(r,e,n,s),M_(r,t,n))}}function A_(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function R_(e,t){Kl=Kd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function M_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yv(e,r)}}var Zd={readContext:rn,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},RM={readContext:rn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:G0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,md(4194308,4,S_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return md(4194308,4,e,t)},useInsertionEffect:function(e,t){return md(4,2,e,t)},useMemo:function(e,t){var r=On();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=On();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=TM.bind(null,lt,e),[n.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:H0,useDebugValue:Uv,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=H0(!1),t=e[0];return e=PM.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lt,s=On();if(rt){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),zt===null)throw Error(Z(349));gi&30||v_(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,G0(y_.bind(null,n,i,e),[e]),n.flags|=2048,_c(9,x_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=On(),t=zt.identifierPrefix;if(rt){var r=vs,n=gs;r=(n&~(1<<32-_n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MM={readContext:rn,useCallback:E_,useContext:rn,useEffect:Vv,useImperativeHandle:C_,useInsertionEffect:N_,useLayoutEffect:__,useMemo:k_,useReducer:lm,useRef:j_,useState:function(){return lm(Nc)},useDebugValue:Uv,useDeferredValue:function(e){var t=nn();return P_(t,Mt.memoizedState,e)},useTransition:function(){var e=lm(Nc)[0],t=nn().memoizedState;return[e,t]},useMutableSource:p_,useSyncExternalStore:g_,useId:T_,unstable_isNewReconciler:!1},DM={readContext:rn,useCallback:E_,useContext:rn,useEffect:Vv,useImperativeHandle:C_,useInsertionEffect:N_,useLayoutEffect:__,useMemo:k_,useReducer:cm,useRef:j_,useState:function(){return cm(Nc)},useDebugValue:Uv,useDeferredValue:function(e){var t=nn();return Mt===null?t.memoizedState=e:P_(t,Mt.memoizedState,e)},useTransition:function(){var e=cm(Nc)[0],t=nn().memoizedState;return[e,t]},useMutableSource:p_,useSyncExternalStore:g_,useId:T_,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Tp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ct({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vf={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),s=xa(e),i=xs(n,s);i.payload=t,r!=null&&(i.callback=r),t=ga(e,i,s),t!==null&&(Sn(t,e,s,n),fd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),s=xa(e),i=xs(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ga(e,i,s),t!==null&&(Sn(t,e,s,n),fd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=xa(e),s=xs(r,n);s.tag=2,t!=null&&(s.callback=t),t=ga(e,s,n),t!==null&&(Sn(t,e,n,r),fd(t,e,n))}};function K0(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!gc(r,n)||!gc(s,i):!0}function D_(e,t,r){var n=!1,s=Na,i=t.contextType;return typeof i=="object"&&i!==null?i=rn(i):(s=Cr(t)?mi:ir.current,n=t.contextTypes,i=(n=n!=null)?Oo(e,s):Na),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Z0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vf.enqueueReplaceState(t,t.state,null)}function Ap(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Dv(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rn(i):(i=Cr(t)?mi:ir.current,s.context=Oo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Tp(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vf.enqueueReplaceState(s,s.state,null),Hd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zo(e,t){try{var r="",n=t;do r+=lR(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function um(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var IM=typeof WeakMap=="function"?WeakMap:Map;function I_(e,t,r){r=xs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xd||(Xd=!0,Up=n),Rp(e,t)},r}function O_(e,t,r){r=xs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Rp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Rp(e,t),typeof n!="function"&&(va===null?va=new Set([this]):va.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Y0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new IM;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=ZM.bind(null,e,t,r),t.then(e,e))}function X0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Q0(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xs(-1,1),t.tag=2,ga(r,t,1))),r.lanes|=1),e)}var OM=As.ReactCurrentOwner,Nr=!1;function ur(e,t,r,n){t.child=e===null?d_(t,null,r,n):$o(t,e.child,r,n)}function J0(e,t,r,n,s){r=r.render;var i=t.ref;return yo(t,s),n=Fv(e,t,r,n,i,s),r=zv(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ss(e,t,s)):(rt&&r&&Ev(t),t.flags|=1,ur(e,t,n,s),t.child)}function ew(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Yv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,L_(e,t,i,n,s)):(e=xd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gc,r(o,n)&&e.ref===t.ref)return Ss(e,t,s)}return t.flags|=1,e=ya(i,n),e.ref=t.ref,e.return=t,t.child=e}function L_(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(gc(i,n)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,Ss(e,t,s)}return Mp(e,t,r,n,s)}function $_(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(io,Ar),Ar|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(io,Ar),Ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ye(io,Ar),Ar|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ye(io,Ar),Ar|=n;return ur(e,t,s,r),t.child}function F_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mp(e,t,r,n,s){var i=Cr(r)?mi:ir.current;return i=Oo(t,i),yo(t,s),r=Fv(e,t,r,n,i,s),n=zv(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ss(e,t,s)):(rt&&n&&Ev(t),t.flags|=1,ur(e,t,r,s),t.child)}function tw(e,t,r,n,s){if(Cr(r)){var i=!0;Vd(t)}else i=!1;if(yo(t,s),t.stateNode===null)pd(e,t),D_(t,r,n),Ap(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Cr(r)?mi:ir.current,u=Oo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Z0(t,o,n,u),Ks=!1;var h=t.memoizedState;o.state=h,Hd(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Sr.current||Ks?(typeof d=="function"&&(Tp(t,r,d,n),c=t.memoizedState),(l=Ks||K0(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,h_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=rn(c):(c=Cr(r)?mi:ir.current,c=Oo(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Z0(t,o,n,c),Ks=!1,h=t.memoizedState,o.state=h,Hd(t,n,o,s);var w=t.memoizedState;l!==f||h!==w||Sr.current||Ks?(typeof m=="function"&&(Tp(t,r,m,n),w=t.memoizedState),(u=Ks||K0(t,r,u,n,h,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Dp(e,t,r,n,i,s)}function Dp(e,t,r,n,s,i){F_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&z0(t,r,!1),Ss(e,t,i);n=t.stateNode,OM.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=$o(t,e.child,null,i),t.child=$o(t,null,l,i)):ur(e,t,l,i),t.memoizedState=n.state,s&&z0(t,r,!0),t.child}function z_(e){var t=e.stateNode;t.pendingContext?F0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&F0(e,t.context,!1),Iv(e,t.containerInfo)}function rw(e,t,r,n,s){return Lo(),Pv(s),t.flags|=256,ur(e,t,r,n),t.child}var Ip={dehydrated:null,treeContext:null,retryLane:0};function Op(e){return{baseLanes:e,cachePool:null,transitions:null}}function V_(e,t,r){var n=t.pendingProps,s=it.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ye(it,s&1),e===null)return kp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wf(o,n,0,null),e=ui(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Op(r),t.memoizedState=Ip,e):Bv(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return LM(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ya(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ya(l,i):(i=ui(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Op(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ip,n}return i=e.child,e=i.sibling,n=ya(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bv(e,t){return t=Wf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ru(e,t,r,n){return n!==null&&Pv(n),$o(t,e.child,null,r),e=Bv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LM(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=um(Error(Z(422))),Ru(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Wf({mode:"visible",children:n.children},s,0,null),i=ui(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&$o(t,e.child,null,o),t.child.memoizedState=Op(o),t.memoizedState=Ip,i);if(!(t.mode&1))return Ru(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Z(419)),n=um(i,n,void 0),Ru(e,t,o,n)}if(l=(o&e.childLanes)!==0,Nr||l){if(n=zt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_s(e,s),Sn(n,e,s,-1))}return Zv(),n=um(Error(Z(421))),Ru(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=YM.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Mr=pa(s.nextSibling),Ir=t,rt=!0,bn=null,e!==null&&(Kr[Zr++]=gs,Kr[Zr++]=vs,Kr[Zr++]=pi,gs=e.id,vs=e.overflow,pi=t),t=Bv(t,n.children),t.flags|=4096,t)}function nw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pp(e.return,t,r)}function dm(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function U_(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ur(e,t,n.children,r),n=it.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nw(e,r,t);else if(e.tag===19)nw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ye(it,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),dm(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}dm(t,!0,r,null,i);break;case"together":dm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ss(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=ya(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ya(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $M(e,t,r){switch(t.tag){case 3:z_(t),Lo();break;case 5:m_(t);break;case 1:Cr(t.type)&&Vd(t);break;case 4:Iv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ye(Wd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ye(it,it.current&1),t.flags|=128,null):r&t.child.childLanes?V_(e,t,r):(Ye(it,it.current&1),e=Ss(e,t,r),e!==null?e.sibling:null);Ye(it,it.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return U_(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ye(it,it.current),n)break;return null;case 22:case 23:return t.lanes=0,$_(e,t,r)}return Ss(e,t,r)}var B_,Lp,W_,q_;B_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lp=function(){};W_=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ei(Zn.current);var i=null;switch(r){case"input":s=ap(e,s),n=ap(e,n),i=[];break;case"select":s=ct({},s,{value:void 0}),n=ct({},n,{value:void 0}),i=[];break;case"textarea":s=lp(e,s),n=lp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fd)}up(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Je("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};q_=function(e,t,r,n){r!==n&&(t.flags|=4)};function _l(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FM(e,t,r){var n=t.pendingProps;switch(kv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(t),null;case 1:return Cr(t.type)&&zd(),rr(t),null;case 3:return n=t.stateNode,Fo(),et(Sr),et(ir),Lv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(qp(bn),bn=null))),Lp(e,t),rr(t),null;case 5:Ov(t);var s=ei(bc.current);if(r=t.type,e!==null&&t.stateNode!=null)W_(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return rr(t),null}if(e=ei(Zn.current),Tu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Un]=t,n[yc]=i,e=(t.mode&1)!==0,r){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(s=0;s<$l.length;s++)Je($l[s],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":f0(n,i),Je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Je("invalid",n);break;case"textarea":m0(n,i),Je("invalid",n)}up(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Pu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Pu(n.textContent,l,e),s=["children",""+l]):cc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Je("scroll",n)}switch(r){case"input":bu(n),h0(n,i,!0);break;case"textarea":bu(n),p0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Un]=t,e[yc]=n,B_(e,t,!1,!1),t.stateNode=e;e:{switch(o=dp(r,n),r){case"dialog":Je("cancel",e),Je("close",e),s=n;break;case"iframe":case"object":case"embed":Je("load",e),s=n;break;case"video":case"audio":for(s=0;s<$l.length;s++)Je($l[s],e);s=n;break;case"source":Je("error",e),s=n;break;case"img":case"image":case"link":Je("error",e),Je("load",e),s=n;break;case"details":Je("toggle",e),s=n;break;case"input":f0(e,n),s=ap(e,n),Je("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ct({},n,{value:void 0}),Je("invalid",e);break;case"textarea":m0(e,n),s=lp(e,n),Je("invalid",e);break;default:s=n}up(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?jN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wN(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&uc(e,c):typeof c=="number"&&uc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Je("scroll",e):c!=null&&hv(e,i,c,o))}switch(r){case"input":bu(e),h0(e,n,!1);break;case"textarea":bu(e),p0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ja(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?po(e,!!n.multiple,i,!1):n.defaultValue!=null&&po(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rr(t),null;case 6:if(e&&t.stateNode!=null)q_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=ei(bc.current),ei(Zn.current),Tu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Un]=t,(i=n.nodeValue!==r)&&(e=Ir,e!==null))switch(e.tag){case 3:Pu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=t,t.stateNode=n}return rr(t),null;case 13:if(et(it),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&Mr!==null&&t.mode&1&&!(t.flags&128))c_(),Lo(),t.flags|=98560,i=!1;else if(i=Tu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Un]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rr(t),i=!1}else bn!==null&&(qp(bn),bn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?Dt===0&&(Dt=3):Zv())),t.updateQueue!==null&&(t.flags|=4),rr(t),null);case 4:return Fo(),Lp(e,t),e===null&&vc(t.stateNode.containerInfo),rr(t),null;case 10:return Rv(t.type._context),rr(t),null;case 17:return Cr(t.type)&&zd(),rr(t),null;case 19:if(et(it),i=t.memoizedState,i===null)return rr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)_l(i,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gd(e),o!==null){for(t.flags|=128,_l(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ye(it,it.current&1|2),t.child}e=e.sibling}i.tail!==null&&xt()>Vo&&(t.flags|=128,n=!0,_l(i,!1),t.lanes=4194304)}else{if(!n)if(e=Gd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rt)return rr(t),null}else 2*xt()-i.renderingStartTime>Vo&&r!==1073741824&&(t.flags|=128,n=!0,_l(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xt(),t.sibling=null,r=it.current,Ye(it,n?r&1|2:r&1),t):(rr(t),null);case 22:case 23:return Kv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ar&1073741824&&(rr(t),t.subtreeFlags&6&&(t.flags|=8192)):rr(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function zM(e,t){switch(kv(t),t.tag){case 1:return Cr(t.type)&&zd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),et(Sr),et(ir),Lv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ov(t),null;case 13:if(et(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(it),null;case 4:return Fo(),null;case 10:return Rv(t.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var Mu=!1,sr=!1,VM=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ao(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ht(e,t,n)}else r.current=null}function $p(e,t,r){try{r()}catch(n){ht(e,t,n)}}var sw=!1;function UM(e,t){if(bp=Od,e=YN(),Cv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(jp={focusedElem:e,selectionRange:r},Od=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var p=w.memoizedProps,v=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:gn(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){ht(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return w=sw,sw=!1,w}function Zl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&$p(t,r,i)}s=s.next}while(s!==n)}}function Uf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Fp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function H_(e){var t=e.alternate;t!==null&&(e.alternate=null,H_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[yc],delete t[Sp],delete t[_M],delete t[SM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G_(e){return e.tag===5||e.tag===3||e.tag===4}function aw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fd));else if(n!==4&&(e=e.child,e!==null))for(zp(e,t,r),e=e.sibling;e!==null;)zp(e,t,r),e=e.sibling}function Vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Vp(e,t,r),e=e.sibling;e!==null;)Vp(e,t,r),e=e.sibling}var qt=null,yn=!1;function Ls(e,t,r){for(r=r.child;r!==null;)K_(e,t,r),r=r.sibling}function K_(e,t,r){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Df,r)}catch{}switch(r.tag){case 5:sr||ao(r,t);case 6:var n=qt,s=yn;qt=null,Ls(e,t,r),qt=n,yn=s,qt!==null&&(yn?(e=qt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qt.removeChild(r.stateNode));break;case 18:qt!==null&&(yn?(e=qt,r=r.stateNode,e.nodeType===8?sm(e.parentNode,r):e.nodeType===1&&sm(e,r),mc(e)):sm(qt,r.stateNode));break;case 4:n=qt,s=yn,qt=r.stateNode.containerInfo,yn=!0,Ls(e,t,r),qt=n,yn=s;break;case 0:case 11:case 14:case 15:if(!sr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$p(r,t,o),s=s.next}while(s!==n)}Ls(e,t,r);break;case 1:if(!sr&&(ao(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ht(r,t,l)}Ls(e,t,r);break;case 21:Ls(e,t,r);break;case 22:r.mode&1?(sr=(n=sr)||r.memoizedState!==null,Ls(e,t,r),sr=n):Ls(e,t,r);break;default:Ls(e,t,r)}}function iw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new VM),t.forEach(function(n){var s=XM.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function fn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:qt=l.stateNode,yn=!1;break e;case 3:qt=l.stateNode.containerInfo,yn=!0;break e;case 4:qt=l.stateNode.containerInfo,yn=!0;break e}l=l.return}if(qt===null)throw Error(Z(160));K_(i,o,s),qt=null,yn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ht(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z_(t,e),t=t.sibling}function Z_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),Dn(e),n&4){try{Zl(3,e,e.return),Uf(3,e)}catch(p){ht(e,e.return,p)}try{Zl(5,e,e.return)}catch(p){ht(e,e.return,p)}}break;case 1:fn(t,e),Dn(e),n&512&&r!==null&&ao(r,r.return);break;case 5:if(fn(t,e),Dn(e),n&512&&r!==null&&ao(r,r.return),e.flags&32){var s=e.stateNode;try{uc(s,"")}catch(p){ht(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&vN(s,i),dp(l,o);var u=dp(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?jN(s,f):d==="dangerouslySetInnerHTML"?wN(s,f):d==="children"?uc(s,f):hv(s,d,f,u)}switch(l){case"input":ip(s,i);break;case"textarea":xN(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?po(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?po(s,!!i.multiple,i.defaultValue,!0):po(s,!!i.multiple,i.multiple?[]:"",!1))}s[yc]=i}catch(p){ht(e,e.return,p)}}break;case 6:if(fn(t,e),Dn(e),n&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){ht(e,e.return,p)}}break;case 3:if(fn(t,e),Dn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mc(t.containerInfo)}catch(p){ht(e,e.return,p)}break;case 4:fn(t,e),Dn(e);break;case 13:fn(t,e),Dn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hv=xt())),n&4&&iw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(sr=(u=sr)||d,fn(t,e),sr=u):fn(t,e),Dn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ce=e,d=e.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zl(4,h,h.return);break;case 1:ao(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(p){ht(n,r,p)}}break;case 5:ao(h,h.return);break;case 22:if(h.memoizedState!==null){lw(f);continue}}m!==null?(m.return=h,ce=m):lw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bN("display",o))}catch(p){ht(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){ht(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(t,e),Dn(e),n&4&&iw(e);break;case 21:break;default:fn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(G_(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(uc(s,""),n.flags&=-33);var i=aw(e);Vp(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=aw(e);zp(e,l,o);break;default:throw Error(Z(161))}}catch(c){ht(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BM(e,t,r){ce=e,Y_(e)}function Y_(e,t,r){for(var n=(e.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Mu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||sr;l=Mu;var u=sr;if(Mu=o,(sr=c)&&!u)for(ce=s;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?cw(s):c!==null?(c.return=o,ce=c):cw(s);for(;i!==null;)ce=i,Y_(i),i=i.sibling;ce=s,Mu=l,sr=u}ow(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):ow(e)}}function ow(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||Uf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!sr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:gn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&q0(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}q0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}sr||t.flags&512&&Fp(t)}catch(h){ht(t,t.return,h)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function lw(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function cw(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uf(4,t)}catch(c){ht(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ht(t,s,c)}}var i=t.return;try{Fp(t)}catch(c){ht(t,i,c)}break;case 5:var o=t.return;try{Fp(t)}catch(c){ht(t,o,c)}}}catch(c){ht(t,t.return,c)}if(t===e){ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ce=l;break}ce=t.return}}var WM=Math.ceil,Yd=As.ReactCurrentDispatcher,Wv=As.ReactCurrentOwner,Xr=As.ReactCurrentBatchConfig,Oe=0,zt=null,Et=null,Yt=0,Ar=0,io=Ra(0),Dt=0,Sc=null,vi=0,Bf=0,qv=0,Yl=null,br=null,Hv=0,Vo=1/0,ds=null,Xd=!1,Up=null,va=null,Du=!1,oa=null,Qd=0,Xl=0,Bp=null,gd=-1,vd=0;function hr(){return Oe&6?xt():gd!==-1?gd:gd=xt()}function xa(e){return e.mode&1?Oe&2&&Yt!==0?Yt&-Yt:EM.transition!==null?(vd===0&&(vd=DN()),vd):(e=We,e!==0||(e=window.event,e=e===void 0?16:VN(e.type)),e):1}function Sn(e,t,r,n){if(50<Xl)throw Xl=0,Bp=null,Error(Z(185));Hc(e,r,n),(!(Oe&2)||e!==zt)&&(e===zt&&(!(Oe&2)&&(Bf|=r),Dt===4&&Ys(e,Yt)),Er(e,n),r===1&&Oe===0&&!(t.mode&1)&&(Vo=xt()+500,Ff&&Ma()))}function Er(e,t){var r=e.callbackNode;ER(e,t);var n=Id(e,e===zt?Yt:0);if(n===0)r!==null&&x0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&x0(r),t===1)e.tag===0?CM(uw.bind(null,e)):i_(uw.bind(null,e)),jM(function(){!(Oe&6)&&Ma()}),r=null;else{switch(IN(n)){case 1:r=xv;break;case 4:r=RN;break;case 16:r=Dd;break;case 536870912:r=MN;break;default:r=Dd}r=sS(r,X_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function X_(e,t){if(gd=-1,vd=0,Oe&6)throw Error(Z(327));var r=e.callbackNode;if(wo()&&e.callbackNode!==r)return null;var n=Id(e,e===zt?Yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Jd(e,n);else{t=n;var s=Oe;Oe|=2;var i=J_();(zt!==e||Yt!==t)&&(ds=null,Vo=xt()+500,ci(e,t));do try{GM();break}catch(l){Q_(e,l)}while(!0);Av(),Yd.current=i,Oe=s,Et!==null?t=0:(zt=null,Yt=0,t=Dt)}if(t!==0){if(t===2&&(s=gp(e),s!==0&&(n=s,t=Wp(e,s))),t===1)throw r=Sc,ci(e,0),Ys(e,n),Er(e,xt()),r;if(t===6)Ys(e,n);else{if(s=e.current.alternate,!(n&30)&&!qM(s)&&(t=Jd(e,n),t===2&&(i=gp(e),i!==0&&(n=i,t=Wp(e,i))),t===1))throw r=Sc,ci(e,0),Ys(e,n),Er(e,xt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:Ga(e,br,ds);break;case 3:if(Ys(e,n),(n&130023424)===n&&(t=Hv+500-xt(),10<t)){if(Id(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){hr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_p(Ga.bind(null,e,br,ds),t);break}Ga(e,br,ds);break;case 4:if(Ys(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-_n(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*WM(n/1960))-n,10<n){e.timeoutHandle=_p(Ga.bind(null,e,br,ds),n);break}Ga(e,br,ds);break;case 5:Ga(e,br,ds);break;default:throw Error(Z(329))}}}return Er(e,xt()),e.callbackNode===r?X_.bind(null,e):null}function Wp(e,t){var r=Yl;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Jd(e,t),e!==2&&(t=br,br=r,t!==null&&qp(t)),e}function qp(e){br===null?br=e:br.push.apply(br,e)}function qM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Cn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t){for(t&=~qv,t&=~Bf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_n(t),n=1<<r;e[r]=-1,t&=~n}}function uw(e){if(Oe&6)throw Error(Z(327));wo();var t=Id(e,0);if(!(t&1))return Er(e,xt()),null;var r=Jd(e,t);if(e.tag!==0&&r===2){var n=gp(e);n!==0&&(t=n,r=Wp(e,n))}if(r===1)throw r=Sc,ci(e,0),Ys(e,t),Er(e,xt()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ga(e,br,ds),Er(e,xt()),null}function Gv(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(Vo=xt()+500,Ff&&Ma())}}function xi(e){oa!==null&&oa.tag===0&&!(Oe&6)&&wo();var t=Oe;Oe|=1;var r=Xr.transition,n=We;try{if(Xr.transition=null,We=1,e)return e()}finally{We=n,Xr.transition=r,Oe=t,!(Oe&6)&&Ma()}}function Kv(){Ar=io.current,et(io)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bM(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(kv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zd();break;case 3:Fo(),et(Sr),et(ir),Lv();break;case 5:Ov(n);break;case 4:Fo();break;case 13:et(it);break;case 19:et(it);break;case 10:Rv(n.type._context);break;case 22:case 23:Kv()}r=r.return}if(zt=e,Et=e=ya(e.current,null),Yt=Ar=t,Dt=0,Sc=null,qv=Bf=vi=0,br=Yl=null,Ja!==null){for(t=0;t<Ja.length;t++)if(r=Ja[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ja=null}return e}function Q_(e,t){do{var r=Et;try{if(Av(),hd.current=Zd,Kd){for(var n=lt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Kd=!1}if(gi=0,Ft=Mt=lt=null,Kl=!1,jc=0,Wv.current=null,r===null||r.return===null){Dt=1,Sc=t,Et=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=X0(o);if(m!==null){m.flags&=-257,Q0(m,o,l,i,t),m.mode&1&&Y0(i,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var p=new Set;p.add(c),t.updateQueue=p}else w.add(c);break e}else{if(!(t&1)){Y0(i,u,t),Zv();break e}c=Error(Z(426))}}else if(rt&&l.mode&1){var v=X0(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Q0(v,o,l,i,t),Pv(zo(c,l));break e}}i=c=zo(c,l),Dt!==4&&(Dt=2),Yl===null?Yl=[i]:Yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=I_(i,c,t);W0(i,y);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(va===null||!va.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=O_(i,l,t);W0(i,j);break e}}i=i.return}while(i!==null)}tS(r)}catch(N){t=N,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function J_(){var e=Yd.current;return Yd.current=Zd,e===null?Zd:e}function Zv(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),zt===null||!(vi&268435455)&&!(Bf&268435455)||Ys(zt,Yt)}function Jd(e,t){var r=Oe;Oe|=2;var n=J_();(zt!==e||Yt!==t)&&(ds=null,ci(e,t));do try{HM();break}catch(s){Q_(e,s)}while(!0);if(Av(),Oe=r,Yd.current=n,Et!==null)throw Error(Z(261));return zt=null,Yt=0,Dt}function HM(){for(;Et!==null;)eS(Et)}function GM(){for(;Et!==null&&!xR();)eS(Et)}function eS(e){var t=nS(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?tS(e):Et=t,Wv.current=null}function tS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zM(r,t),r!==null){r.flags&=32767,Et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Et=null;return}}else if(r=FM(r,t,Ar),r!==null){Et=r;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Dt===0&&(Dt=5)}function Ga(e,t,r){var n=We,s=Xr.transition;try{Xr.transition=null,We=1,KM(e,t,r,n)}finally{Xr.transition=s,We=n}return null}function KM(e,t,r,n){do wo();while(oa!==null);if(Oe&6)throw Error(Z(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kR(e,i),e===zt&&(Et=zt=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Du||(Du=!0,sS(Dd,function(){return wo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Xr.transition,Xr.transition=null;var o=We;We=1;var l=Oe;Oe|=4,Wv.current=null,UM(e,r),Z_(r,e),mM(jp),Od=!!bp,jp=bp=null,e.current=r,BM(r),yR(),Oe=l,We=o,Xr.transition=i}else e.current=r;if(Du&&(Du=!1,oa=e,Qd=s),i=e.pendingLanes,i===0&&(va=null),jR(r.stateNode),Er(e,xt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Xd)throw Xd=!1,e=Up,Up=null,e;return Qd&1&&e.tag!==0&&wo(),i=e.pendingLanes,i&1?e===Bp?Xl++:(Xl=0,Bp=e):Xl=0,Ma(),null}function wo(){if(oa!==null){var e=IN(Qd),t=Xr.transition,r=We;try{if(Xr.transition=null,We=16>e?16:e,oa===null)var n=!1;else{if(e=oa,oa=null,Qd=0,Oe&6)throw Error(Z(331));var s=Oe;for(Oe|=4,ce=e.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:Zl(8,d,i)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,m=d.return;if(H_(d),d===u){ce=null;break}if(h!==null){h.return=m,ce=h;break}ce=m}}}var w=i.alternate;if(w!==null){var p=w.child;if(p!==null){w.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ce=y;break e}ce=i.return}}var x=e.current;for(ce=x;ce!==null;){o=ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ce=b;else e:for(o=x;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uf(9,l)}}catch(N){ht(l,l.return,N)}if(l===o){ce=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ce=j;break e}ce=l.return}}if(Oe=s,Ma(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Df,e)}catch{}n=!0}return n}finally{We=r,Xr.transition=t}}return!1}function dw(e,t,r){t=zo(r,t),t=I_(e,t,1),e=ga(e,t,1),t=hr(),e!==null&&(Hc(e,1,t),Er(e,t))}function ht(e,t,r){if(e.tag===3)dw(e,e,r);else for(;t!==null;){if(t.tag===3){dw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(va===null||!va.has(n))){e=zo(r,e),e=O_(t,e,1),t=ga(t,e,1),e=hr(),t!==null&&(Hc(t,1,e),Er(t,e));break}}t=t.return}}function ZM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&r,zt===e&&(Yt&r)===r&&(Dt===4||Dt===3&&(Yt&130023424)===Yt&&500>xt()-Hv?ci(e,0):qv|=r),Er(e,t)}function rS(e,t){t===0&&(e.mode&1?(t=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):t=1);var r=hr();e=_s(e,t),e!==null&&(Hc(e,t,r),Er(e,r))}function YM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rS(e,r)}function XM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),rS(e,r)}var nS;nS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sr.current)Nr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nr=!1,$M(e,t,r);Nr=!!(e.flags&131072)}else Nr=!1,rt&&t.flags&1048576&&o_(t,Bd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pd(e,t),e=t.pendingProps;var s=Oo(t,ir.current);yo(t,r),s=Fv(null,t,n,e,s,r);var i=zv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cr(n)?(i=!0,Vd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dv(t),s.updater=Vf,t.stateNode=s,s._reactInternals=t,Ap(t,n,e,r),t=Dp(null,t,n,!0,i,r)):(t.tag=0,rt&&i&&Ev(t),ur(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=JM(n),e=gn(n,e),s){case 0:t=Mp(null,t,n,e,r);break e;case 1:t=tw(null,t,n,e,r);break e;case 11:t=J0(null,t,n,e,r);break e;case 14:t=ew(null,t,n,gn(n.type,e),r);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),Mp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),tw(e,t,n,s,r);case 3:e:{if(z_(t),e===null)throw Error(Z(387));n=t.pendingProps,i=t.memoizedState,s=i.element,h_(e,t),Hd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=zo(Error(Z(423)),t),t=rw(e,t,n,r,s);break e}else if(n!==s){s=zo(Error(Z(424)),t),t=rw(e,t,n,r,s);break e}else for(Mr=pa(t.stateNode.containerInfo.firstChild),Ir=t,rt=!0,bn=null,r=d_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lo(),n===s){t=Ss(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return m_(t),e===null&&kp(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Np(n,s)?o=null:i!==null&&Np(n,i)&&(t.flags|=32),F_(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&kp(t),null;case 13:return V_(e,t,r);case 4:return Iv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$o(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),J0(e,t,n,s,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ye(Wd,n._currentValue),n._currentValue=o,i!==null)if(Cn(i.value,o)){if(i.children===s.children&&!Sr.current){t=Ss(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=xs(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Pp(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Pp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ur(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,yo(t,r),s=rn(s),n=n(s),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,s=gn(n,t.pendingProps),s=gn(n.type,s),ew(e,t,n,s,r);case 15:return L_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),pd(e,t),t.tag=1,Cr(n)?(e=!0,Vd(t)):e=!1,yo(t,r),D_(t,n,s),Ap(t,n,s,r),Dp(null,t,n,!0,e,r);case 19:return U_(e,t,r);case 22:return $_(e,t,r)}throw Error(Z(156,t.tag))};function sS(e,t){return AN(e,t)}function QM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(e,t,r,n){return new QM(e,t,r,n)}function Yv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JM(e){if(typeof e=="function")return Yv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pv)return 11;if(e===gv)return 14}return 2}function ya(e,t){var r=e.alternate;return r===null?(r=Yr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xd(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Yv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yi:return ui(r.children,s,i,t);case mv:o=8,s|=8;break;case tp:return e=Yr(12,r,t,s|2),e.elementType=tp,e.lanes=i,e;case rp:return e=Yr(13,r,t,s),e.elementType=rp,e.lanes=i,e;case np:return e=Yr(19,r,t,s),e.elementType=np,e.lanes=i,e;case mN:return Wf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fN:o=10;break e;case hN:o=9;break e;case pv:o=11;break e;case gv:o=14;break e;case Gs:o=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Yr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ui(e,t,r,n){return e=Yr(7,e,n,t),e.lanes=r,e}function Wf(e,t,r,n){return e=Yr(22,e,n,t),e.elementType=mN,e.lanes=r,e.stateNode={isHidden:!1},e}function fm(e,t,r){return e=Yr(6,e,null,t),e.lanes=r,e}function hm(e,t,r){return t=Yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eD(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xv(e,t,r,n,s,i,o,l,c){return e=new eD(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Yr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dv(i),e}function tD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function aS(e){if(!e)return Na;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(Cr(r))return a_(e,r,t)}return t}function iS(e,t,r,n,s,i,o,l,c){return e=Xv(r,n,!0,e,s,i,o,l,c),e.context=aS(null),r=e.current,n=hr(),s=xa(r),i=xs(n,s),i.callback=t??null,ga(r,i,s),e.current.lanes=s,Hc(e,s,n),Er(e,n),e}function qf(e,t,r,n){var s=t.current,i=hr(),o=xa(s);return r=aS(r),t.context===null?t.context=r:t.pendingContext=r,t=xs(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ga(s,t,o),e!==null&&(Sn(e,s,o,i),fd(e,s,o)),o}function ef(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Qv(e,t){fw(e,t),(e=e.alternate)&&fw(e,t)}function rD(){return null}var oS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jv(e){this._internalRoot=e}Hf.prototype.render=Jv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));qf(e,t,null,null)};Hf.prototype.unmount=Jv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xi(function(){qf(null,e,null,null)}),t[Ns]=null}};function Hf(e){this._internalRoot=e}Hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=$N();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zs.length&&t!==0&&t<Zs[r].priority;r++);Zs.splice(r,0,e),r===0&&zN(e)}};function ex(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hw(){}function nD(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ef(o);i.call(u)}}var o=iS(t,n,e,0,null,!1,!1,"",hw);return e._reactRootContainer=o,e[Ns]=o.current,vc(e.nodeType===8?e.parentNode:e),xi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ef(c);l.call(u)}}var c=Xv(e,0,!1,null,null,!1,!1,"",hw);return e._reactRootContainer=c,e[Ns]=c.current,vc(e.nodeType===8?e.parentNode:e),xi(function(){qf(t,c,r,n)}),c}function Kf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ef(o);l.call(c)}}qf(t,o,e,s)}else o=nD(r,t,e,s,n);return ef(o)}ON=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ll(t.pendingLanes);r!==0&&(yv(t,r|1),Er(t,xt()),!(Oe&6)&&(Vo=xt()+500,Ma()))}break;case 13:xi(function(){var n=_s(e,1);if(n!==null){var s=hr();Sn(n,e,1,s)}}),Qv(e,1)}};wv=function(e){if(e.tag===13){var t=_s(e,134217728);if(t!==null){var r=hr();Sn(t,e,134217728,r)}Qv(e,134217728)}};LN=function(e){if(e.tag===13){var t=xa(e),r=_s(e,t);if(r!==null){var n=hr();Sn(r,e,t,n)}Qv(e,t)}};$N=function(){return We};FN=function(e,t){var r=We;try{return We=e,t()}finally{We=r}};hp=function(e,t,r){switch(t){case"input":if(ip(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=$f(n);if(!s)throw Error(Z(90));gN(n),ip(n,s)}}}break;case"textarea":xN(e,r);break;case"select":t=r.value,t!=null&&po(e,!!r.multiple,t,!1)}};SN=Gv;CN=xi;var sD={usingClientEntryPoint:!1,Events:[Kc,eo,$f,NN,_N,Gv]},Sl={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aD={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:As.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=PN(e),e===null?null:e.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||rD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Df=Iu.inject(aD),Kn=Iu}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sD;zr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ex(t))throw Error(Z(200));return tD(e,t,null,r)};zr.createRoot=function(e,t){if(!ex(e))throw Error(Z(299));var r=!1,n="",s=oS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xv(e,1,!1,null,null,r,!1,n,s),e[Ns]=t.current,vc(e.nodeType===8?e.parentNode:e),new Jv(t)};zr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=PN(t),e=e===null?null:e.stateNode,e};zr.flushSync=function(e){return xi(e)};zr.hydrate=function(e,t,r){if(!Gf(t))throw Error(Z(200));return Kf(null,e,t,!0,r)};zr.hydrateRoot=function(e,t,r){if(!ex(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=oS;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=iS(t,null,e,1,r??null,s,!1,i,o),e[Ns]=t.current,vc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Hf(t)};zr.render=function(e,t,r){if(!Gf(t))throw Error(Z(200));return Kf(null,e,t,!1,r)};zr.unmountComponentAtNode=function(e){if(!Gf(e))throw Error(Z(40));return e._reactRootContainer?(xi(function(){Kf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ns]=null})}),!0):!1};zr.unstable_batchedUpdates=Gv;zr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gf(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Kf(e,t,r,!1,n)};zr.version="18.3.1-next-f1338f8080-20240426";function lS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lS)}catch(e){console.error(e)}}lS(),lN.exports=zr;var tl=lN.exports;const cS=Y1(tl);var mw=tl;Jm.createRoot=mw.createRoot,Jm.hydrateRoot=mw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(this,arguments)}var la;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(la||(la={}));const pw="popstate";function iD(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Hp("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:tf(s)}return lD(t,r,null,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oD(){return Math.random().toString(36).substr(2,8)}function gw(e,t){return{usr:e.state,key:e.key,idx:t}}function Hp(e,t,r,n){return r===void 0&&(r=null),Cc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rl(t):t,{state:r,key:t&&t.key||n||oD()})}function tf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lD(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=la.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Cc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=la.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:y})}function h(v,y){l=la.Push;let x=Hp(p.location,v,y);u=d()+1;let b=gw(x,u),j=p.createHref(x);try{o.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,y){l=la.Replace;let x=Hp(p.location,v,y);u=d();let b=gw(x,u),j=p.createHref(x);o.replaceState(b,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function w(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof v=="string"?v:tf(v);return x=x.replace(/ $/,"%20"),yt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let p={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(pw,f),c=v,()=>{s.removeEventListener(pw,f),c=null}},createHref(v){return t(s,v)},createURL:w,encodeLocation(v){let y=w(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var vw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vw||(vw={}));function cD(e,t,r){return r===void 0&&(r="/"),uD(e,t,r)}function uD(e,t,r,n){let s=typeof t=="string"?rl(t):t,i=tx(s.pathname||"/",r);if(i==null)return null;let o=dS(e);dD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ND(i);l=wD(o[c],u)}return l}function dS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(yt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=wa([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dS(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:xD(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of fS(i.path))s(i,o,c)}),t}function fS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=fS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function dD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fD=/^:[\w-]+$/,hD=3,mD=2,pD=1,gD=10,vD=-2,xw=e=>e==="*";function xD(e,t){let r=e.split("/"),n=r.length;return r.some(xw)&&(n+=vD),t&&(n+=mD),r.filter(s=>!xw(s)).reduce((s,i)=>s+(fD.test(i)?hD:i===""?pD:gD),n)}function yD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function wD(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=bD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:wa([i,f.pathname]),pathnameBase:ED(wa([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=wa([i,f.pathnameBase]))}return o}function bD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const w=l[f];return m&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function jD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),uS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ND(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _D(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?rl(e):e;return{pathname:r?r.startsWith("/")?r:SD(r,t):t,search:kD(n),hash:PD(s)}}function SD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function mm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rx(e,t){let r=CD(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=rl(e):(s=Cc({},e),yt(!s.pathname||!s.pathname.includes("?"),mm("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),mm("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),mm("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=_D(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wa=e=>e.join("/").replace(/\/\/+/g,"/"),ED=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hS=["post","put","patch","delete"];new Set(hS);const AD=["get",...hS];new Set(AD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(this,arguments)}const sx=g.createContext(null),RD=g.createContext(null),Da=g.createContext(null),Zf=g.createContext(null),Rs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),mS=g.createContext(null);function MD(e,t){let{relative:r}=t===void 0?{}:t;nl()||yt(!1);let{basename:n,navigator:s}=g.useContext(Da),{hash:i,pathname:o,search:l}=gS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:wa([n,o])),s.createHref({pathname:c,search:l,hash:i})}function nl(){return g.useContext(Zf)!=null}function sn(){return nl()||yt(!1),g.useContext(Zf).location}function pS(e){g.useContext(Da).static||g.useLayoutEffect(e)}function or(){let{isDataRoute:e}=g.useContext(Rs);return e?KD():DD()}function DD(){nl()||yt(!1);let e=g.useContext(sx),{basename:t,future:r,navigator:n}=g.useContext(Da),{matches:s}=g.useContext(Rs),{pathname:i}=sn(),o=JSON.stringify(rx(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return pS(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=nx(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:wa([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const ID=g.createContext(null);function OD(e){let t=g.useContext(Rs).outlet;return t&&g.createElement(ID.Provider,{value:e},t)}function gS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(Da),{matches:s}=g.useContext(Rs),{pathname:i}=sn(),o=JSON.stringify(rx(s,n.v7_relativeSplatPath));return g.useMemo(()=>nx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function LD(e,t){return $D(e,t)}function $D(e,t,r,n){nl()||yt(!1);let{navigator:s}=g.useContext(Da),{matches:i}=g.useContext(Rs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=sn(),d;if(t){var f;let v=typeof t=="string"?rl(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||yt(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=cD(e,{pathname:m}),p=BD(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:wa([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:wa([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&p?g.createElement(Zf.Provider,{value:{location:Ec({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:la.Pop}},p):p}function FD(){let e=GD(),t=TD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const zD=g.createElement(FD,null);class VD extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Rs.Provider,{value:this.props.routeContext},g.createElement(mS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UD(e){let{routeContext:t,match:r,children:n}=e,s=g.useContext(sx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Rs.Provider,{value:t},n)}function BD(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||yt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,w=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||zD,c&&(u<0&&h===0?(ZD("route-fallback"),w=!0,v=null):u===h&&(w=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),x=()=>{let b;return m?b=p:w?b=v:f.route.Component?b=g.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,g.createElement(UD,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(VD,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var vS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vS||{}),xS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xS||{});function WD(e){let t=g.useContext(sx);return t||yt(!1),t}function qD(e){let t=g.useContext(RD);return t||yt(!1),t}function HD(e){let t=g.useContext(Rs);return t||yt(!1),t}function yS(e){let t=HD(),r=t.matches[t.matches.length-1];return r.route.id||yt(!1),r.route.id}function GD(){var e;let t=g.useContext(mS),r=qD(),n=yS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function KD(){let{router:e}=WD(vS.UseNavigateStable),t=yS(xS.UseNavigateStable),r=g.useRef(!1);return pS(()=>{r.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ec({fromRouteId:t},i)))},[e,t])}const yw={};function ZD(e,t,r){yw[e]||(yw[e]=!0)}function YD(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ou(e){let{to:t,replace:r,state:n,relative:s}=e;nl()||yt(!1);let{future:i,static:o}=g.useContext(Da),{matches:l}=g.useContext(Rs),{pathname:c}=sn(),u=or(),d=nx(t,rx(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function XD(e){return OD(e.context)}function Ve(e){yt(!1)}function QD(e){let{basename:t="/",children:r=null,location:n,navigationType:s=la.Pop,navigator:i,static:o=!1,future:l}=e;nl()&&yt(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Ec({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=rl(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:w="default"}=n,p=g.useMemo(()=>{let v=tx(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:w},navigationType:s}},[c,d,f,h,m,w,s]);return p==null?null:g.createElement(Da.Provider,{value:u},g.createElement(Zf.Provider,{children:r,value:p}))}function JD(e){let{children:t,location:r}=e;return LD(Gp(t),r)}new Promise(()=>{});function Gp(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,s)=>{if(!g.isValidElement(n))return;let i=[...t,s];if(n.type===g.Fragment){r.push.apply(r,Gp(n.props.children,i));return}n.type!==Ve&&yt(!1),!n.props.index||!n.props.children||yt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Gp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(this,arguments)}function eI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function tI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rI(e,t){return e.button===0&&(!t||t==="_self")&&!tI(e)}const nI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sI="6";try{window.__reactRouterVersion=sI}catch{}const aI="startTransition",ww=uv[aI];function iI(e){let{basename:t,children:r,future:n,window:s}=e,i=g.useRef();i.current==null&&(i.current=iD({window:s,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&ww?ww(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>YD(n),[n]),g.createElement(QD,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const oI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=g.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=eI(t,nI),{basename:m}=g.useContext(Da),w,p=!1;if(typeof u=="string"&&lI.test(u)&&(w=u,oI))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=tx(j.pathname,m);j.origin===b.origin&&N!=null?u=N+j.search+j.hash:p=!0}catch{}let v=MD(u,{relative:s}),y=cI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||y(b)}return g.createElement("a",Kp({},h,{href:w||v,onClick:p||i?n:x,ref:r,target:c}))});var bw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bw||(bw={}));var jw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jw||(jw={}));function cI(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=or(),u=sn(),d=gS(e,{relative:o});return g.useCallback(f=>{if(rI(f,r)){f.preventDefault();let h=n!==void 0?n:tf(u)===tf(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}var Yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yf=typeof window>"u"||"Deno"in globalThis;function Hr(){}function uI(e,t){return typeof e=="function"?e(t):e}function dI(e){return typeof e=="number"&&e>=0&&e!==1/0}function fI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zp(e,t){return typeof e=="function"?e(t):e}function hI(e,t){return typeof e=="function"?e(t):e}function Nw(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==ax(o,t.options))return!1}else if(!kc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function _w(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(yi(t.options.mutationKey)!==yi(i))return!1}else if(!kc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ax(e,t){return((t==null?void 0:t.queryKeyHashFn)||yi)(e)}function yi(e){return JSON.stringify(e,(t,r)=>Yp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function kc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>kc(e[r],t[r])):!1}function wS(e,t){if(e===t)return e;const r=Sw(e)&&Sw(t);if(r||Yp(e)&&Yp(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=wS(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function mI(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Sw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Yp(e){if(!Cw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Cw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Cw(e){return Object.prototype.toString.call(e)==="[object Object]"}function pI(e){return new Promise(t=>{setTimeout(t,e)})}function gI(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?wS(e,t):t}function vI(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function xI(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ix=Symbol();function bS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ix?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function yI(e,t){return typeof e=="function"?e(...t):!!e}var si,Js,Co,V1,wI=(V1=class extends Yc{constructor(){super();Te(this,si);Te(this,Js);Te(this,Co);ve(this,Co,t=>{if(!Yf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,Js)||this.setEventListener($(this,Co))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Js))==null||t.call(this),ve(this,Js,void 0))}setEventListener(t){var r;ve(this,Co,t),(r=$(this,Js))==null||r.call(this),ve(this,Js,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,si)!==t&&(ve(this,si,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,si)=="boolean"?$(this,si):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},si=new WeakMap,Js=new WeakMap,Co=new WeakMap,V1),jS=new wI,Eo,ea,ko,U1,bI=(U1=class extends Yc{constructor(){super();Te(this,Eo,!0);Te(this,ea);Te(this,ko);ve(this,ko,t=>{if(!Yf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,ea)||this.setEventListener($(this,ko))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,ea))==null||t.call(this),ve(this,ea,void 0))}setEventListener(t){var r;ve(this,ko,t),(r=$(this,ea))==null||r.call(this),ve(this,ea,t(this.setOnline.bind(this)))}setOnline(t){$(this,Eo)!==t&&(ve(this,Eo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,Eo)}},Eo=new WeakMap,ea=new WeakMap,ko=new WeakMap,U1),rf=new bI;function jI(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function NI(e){return Math.min(1e3*2**e,3e4)}function NS(e){return(e??"online")==="online"?rf.isOnline():!0}var _S=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function SS(e){let t=!1,r=0,n;const s=jI(),i=()=>s.status!=="pending",o=p=>{var v;i()||(h(new _S(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>jS.isFocused()&&(e.networkMode==="always"||rf.isOnline())&&e.canRun(),d=()=>NS(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var v;n=y=>{(i()||u())&&p(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),w=()=>{if(i())return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var k;if(i())return;const x=e.retry??(Yf?0:3),b=e.retryDelay??NI,j=typeof b=="function"?b(r,y):b,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!N){h(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),pI(j).then(()=>u()?void 0:m()).then(()=>{t?h(y):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():m().then(w),s)}}var _I=e=>setTimeout(e,0);function SI(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=_I;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Kt=SI(),ai,B1,CS=(B1=class{constructor(){Te(this,ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dI(this.gcTime)&&ve(this,ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yf?1/0:5*60*1e3))}clearGcTimeout(){$(this,ai)&&(clearTimeout($(this,ai)),ve(this,ai,void 0))}},ai=new WeakMap,B1),Po,To,qr,ii,$t,Bc,oi,vn,cs,W1,CI=(W1=class extends CS{constructor(t){super();Te(this,vn);Te(this,Po);Te(this,To);Te(this,qr);Te(this,ii);Te(this,$t);Te(this,Bc);Te(this,oi);ve(this,oi,!1),ve(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,ii,t.client),ve(this,qr,$(this,ii).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,Po,kI(this.options)),this.state=t.state??$(this,Po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,$t))==null?void 0:t.promise}setOptions(t){this.options={...$(this,Bc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,qr).remove(this)}setData(t,r){const n=gI(this.state.data,t,this.options);return mt(this,vn,cs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){mt(this,vn,cs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=$(this,$t))==null?void 0:n.promise;return(s=$(this,$t))==null||s.cancel(t),r?r.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Po))}isActive(){return this.observers.some(t=>hI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ix||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!fI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,$t))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,$t))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,$t)&&($(this,oi)?$(this,$t).cancel({revert:!0}):$(this,$t).cancelRetry()),this.scheduleGc()),$(this,qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,vn,cs).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,w,p,v,y,x,b;if(this.state.fetchStatus!=="idle"&&((c=$(this,$t))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,$t))return $(this,$t).continueRetry(),$(this,$t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ve(this,oi,!0),n.signal)})},i=()=>{const j=bS(this.options,r),k=(()=>{const S={client:$(this,ii),queryKey:this.queryKey,meta:this.meta};return s(S),S})();return ve(this,oi,!1),this.options.persister?this.options.persister(j,k,this):j(k)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,ii),state:this.state,fetchFn:i};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ve(this,To,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&mt(this,vn,cs).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ve(this,$t,SS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onFail:(j,N)=>{mt(this,vn,cs).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{mt(this,vn,cs).call(this,{type:"pause"})},onContinue:()=>{mt(this,vn,cs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await $(this,$t).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=$(this,qr).config).onSuccess)==null||m.call(h,j,this),(p=(w=$(this,qr).config).onSettled)==null||p.call(w,j,this.state.error,this),j}catch(j){if(j instanceof _S){if(j.silent)return $(this,$t).promise;if(j.revert)return this.setState({...$(this,To),fetchStatus:"idle"}),this.state.data}throw mt(this,vn,cs).call(this,{type:"error",error:j}),(y=(v=$(this,qr).config).onError)==null||y.call(v,j,this),(b=(x=$(this,qr).config).onSettled)==null||b.call(x,this.state.data,j,this),j}finally{this.scheduleGc()}}},Po=new WeakMap,To=new WeakMap,qr=new WeakMap,ii=new WeakMap,$t=new WeakMap,Bc=new WeakMap,oi=new WeakMap,vn=new WeakSet,cs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...EI(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ve(this,To,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,qr).notify({query:this,type:"updated",action:t})})},W1);function EI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fn,q1,PI=(q1=class extends Yc{constructor(t={}){super();Te(this,Fn);this.config=t,ve(this,Fn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??ax(s,r);let o=this.get(i);return o||(o=new CI({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){$(this,Fn).has(t.queryHash)||($(this,Fn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,Fn).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,Fn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Fn).get(t)}getAll(){return[...$(this,Fn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Nw(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Nw(t,n)):r}notify(t){Kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fn=new WeakMap,q1),zn,cr,li,Vn,Bs,H1,TI=(H1=class extends CS{constructor(t){super();Te(this,Vn);Te(this,zn);Te(this,cr);Te(this,li);this.mutationId=t.mutationId,ve(this,cr,t.mutationCache),ve(this,zn,[]),this.state=t.state||ES(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,zn).includes(t)||($(this,zn).push(t),this.clearGcTimeout(),$(this,cr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,zn,$(this,zn).filter(r=>r!==t)),this.scheduleGc(),$(this,cr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,zn).length||(this.state.status==="pending"?this.scheduleGc():$(this,cr).remove(this))}continue(){var t;return((t=$(this,li))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,m,w,p,v,y,x,b,j,N,k,S,E;const r=()=>{mt(this,Vn,Bs).call(this,{type:"continue"})};ve(this,li,SS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,C)=>{mt(this,Vn,Bs).call(this,{type:"failed",failureCount:P,error:C})},onPause:()=>{mt(this,Vn,Bs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,cr).canRun(this)}));const n=this.state.status==="pending",s=!$(this,li).canStart();try{if(n)r();else{mt(this,Vn,Bs).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=$(this,cr).config).onMutate)==null?void 0:o.call(i,t,this));const C=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));C!==this.state.context&&mt(this,Vn,Bs).call(this,{type:"pending",context:C,variables:t,isPaused:s})}const P=await $(this,li).start();return await((d=(u=$(this,cr).config).onSuccess)==null?void 0:d.call(u,P,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,t,this.state.context)),await((w=(m=$(this,cr).config).onSettled)==null?void 0:w.call(m,P,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,P,null,t,this.state.context)),mt(this,Vn,Bs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(y=$(this,cr).config).onError)==null?void 0:x.call(y,P,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,P,t,this.state.context)),await((k=(N=$(this,cr).config).onSettled)==null?void 0:k.call(N,void 0,P,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,P,t,this.state.context)),P}finally{mt(this,Vn,Bs).call(this,{type:"error",error:P})}}finally{$(this,cr).runNext(this)}}},zn=new WeakMap,cr=new WeakMap,li=new WeakMap,Vn=new WeakSet,Bs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kt.batch(()=>{$(this,zn).forEach(n=>{n.onMutationUpdate(t)}),$(this,cr).notify({mutation:this,type:"updated",action:t})})},H1);function ES(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ms,xn,Wc,G1,AI=(G1=class extends Yc{constructor(t={}){super();Te(this,ms);Te(this,xn);Te(this,Wc);this.config=t,ve(this,ms,new Set),ve(this,xn,new Map),ve(this,Wc,0)}build(t,r,n){const s=new TI({mutationCache:this,mutationId:++xu(this,Wc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){$(this,ms).add(t);const r=Lu(t);if(typeof r=="string"){const n=$(this,xn).get(r);n?n.push(t):$(this,xn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,ms).delete(t)){const r=Lu(t);if(typeof r=="string"){const n=$(this,xn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&$(this,xn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Lu(t);if(typeof r=="string"){const n=$(this,xn).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Lu(t);if(typeof r=="string"){const s=(n=$(this,xn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{$(this,ms).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,ms).clear(),$(this,xn).clear()})}getAll(){return Array.from($(this,ms))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_w(r,n))}findAll(t={}){return this.getAll().filter(r=>_w(t,r))}notify(t){Kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Kt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Hr))))}},ms=new WeakMap,xn=new WeakMap,Wc=new WeakMap,G1);function Lu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ew(e){return{onFetch:(t,r)=>{var d,f,h,m,w;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=bS(t.options,t.fetchOptions),x=async(b,j,N)=>{if(p)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return v(A),A})(),E=await y(S),{maxPages:P}=t.options,C=N?xI:vI;return{pages:C(b.pages,E,P),pageParams:C(b.pageParams,j,P)}};if(s&&i.length){const b=s==="backward",j=b?RI:kw,N={pages:i,pageParams:o},k=j(n,N);l=await x(N,k,b)}else{const b=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:kw(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kw(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function RI(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var dt,ta,ra,Ao,Ro,na,Mo,Do,K1,MI=(K1=class{constructor(e={}){Te(this,dt);Te(this,ta);Te(this,ra);Te(this,Ao);Te(this,Ro);Te(this,na);Te(this,Mo);Te(this,Do);ve(this,dt,e.queryCache||new PI),ve(this,ta,e.mutationCache||new AI),ve(this,ra,e.defaultOptions||{}),ve(this,Ao,new Map),ve(this,Ro,new Map),ve(this,na,0)}mount(){xu(this,na)._++,$(this,na)===1&&(ve(this,Mo,jS.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,dt).onFocus())})),ve(this,Do,rf.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,dt).onOnline())})))}unmount(){var e,t;xu(this,na)._--,$(this,na)===0&&((e=$(this,Mo))==null||e.call(this),ve(this,Mo,void 0),(t=$(this,Do))==null||t.call(this),ve(this,Do,void 0))}isFetching(e){return $(this,dt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,ta).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,dt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,dt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Zp(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,dt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=$(this,dt).get(n.queryHash),i=s==null?void 0:s.state.data,o=uI(t,i);if(o!==void 0)return $(this,dt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Kt.batch(()=>$(this,dt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,dt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,dt);Kt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,dt);return Kt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Kt.batch(()=>$(this,dt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Hr).catch(Hr)}invalidateQueries(e,t={}){return Kt.batch(()=>($(this,dt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Kt.batch(()=>$(this,dt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Hr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,dt).build(this,t);return r.isStaleByTime(Zp(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hr).catch(Hr)}fetchInfiniteQuery(e){return e.behavior=Ew(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hr).catch(Hr)}ensureInfiniteQueryData(e){return e.behavior=Ew(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rf.isOnline()?$(this,ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,dt)}getMutationCache(){return $(this,ta)}getDefaultOptions(){return $(this,ra)}setDefaultOptions(e){ve(this,ra,e)}setQueryDefaults(e,t){$(this,Ao).set(yi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,Ao).values()],r={};return t.forEach(n=>{kc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,Ro).set(yi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Ro).values()],r={};return t.forEach(n=>{kc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,ra).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ax(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ix&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,ra).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,dt).clear(),$(this,ta).clear()}},dt=new WeakMap,ta=new WeakMap,ra=new WeakMap,Ao=new WeakMap,Ro=new WeakMap,na=new WeakMap,Mo=new WeakMap,Do=new WeakMap,K1),sa,aa,xr,ps,bs,yd,Xp,Z1,DI=(Z1=class extends Yc{constructor(r,n){super();Te(this,bs);Te(this,sa);Te(this,aa);Te(this,xr);Te(this,ps);ve(this,sa,r),this.setOptions(n),this.bindMethods(),mt(this,bs,yd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=$(this,sa).defaultMutationOptions(r),mI(this.options,n)||$(this,sa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,xr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&yi(n.mutationKey)!==yi(this.options.mutationKey)?this.reset():((s=$(this,xr))==null?void 0:s.state.status)==="pending"&&$(this,xr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,xr))==null||r.removeObserver(this)}onMutationUpdate(r){mt(this,bs,yd).call(this),mt(this,bs,Xp).call(this,r)}getCurrentResult(){return $(this,aa)}reset(){var r;(r=$(this,xr))==null||r.removeObserver(this),ve(this,xr,void 0),mt(this,bs,yd).call(this),mt(this,bs,Xp).call(this)}mutate(r,n){var s;return ve(this,ps,n),(s=$(this,xr))==null||s.removeObserver(this),ve(this,xr,$(this,sa).getMutationCache().build($(this,sa),this.options)),$(this,xr).addObserver(this),$(this,xr).execute(r)}},sa=new WeakMap,aa=new WeakMap,xr=new WeakMap,ps=new WeakMap,bs=new WeakSet,yd=function(){var n;const r=((n=$(this,xr))==null?void 0:n.state)??ES();ve(this,aa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Xp=function(r){Kt.batch(()=>{var n,s,i,o,l,c,u,d;if($(this,ps)&&this.hasListeners()){const f=$(this,aa).variables,h=$(this,aa).context;(r==null?void 0:r.type)==="success"?((s=(n=$(this,ps)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=$(this,ps)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=$(this,ps)).onError)==null||c.call(l,r.error,f,h),(d=(u=$(this,ps)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f($(this,aa))})})},Z1),kS=g.createContext(void 0),II=e=>{const t=g.useContext(kS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},OI=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(kS.Provider,{value:e,children:t}));function LI(e,t){const r=II(),[n]=g.useState(()=>new DI(r,e));g.useEffect(()=>{n.setOptions(e)},[n,e]);const s=g.useSyncExternalStore(g.useCallback(o=>n.subscribe(Kt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=g.useCallback((o,l)=>{n.mutate(o,l).catch(Hr)},[n]);if(s.error&&yI(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const $I="modulepreload",FI=function(e){return"/"+e},Pw={},Xc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=FI(c),c in Pw)return;Pw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":$I,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},zI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xc(async()=>{const{default:n}=await Promise.resolve().then(()=>sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ox extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class VI extends ox{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Tw extends ox{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Aw extends ox{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qp||(Qp={}));var UI=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class BI{constructor(t,{headers:r={},customFetch:n,region:s=Qp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=zI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return UI(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(p=>{throw new VI(p)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Tw(f);if(!f.ok)throw new Aw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield f.json():m==="application/octet-stream"?w=yield f.blob():m==="text/event-stream"?w=f:m==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Aw||s instanceof Tw?s.context:void 0}}})}}var jr={},lx={},Xf={},Qc={},Qf={},Jf={},WI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Uo=WI();const qI=Uo.fetch,PS=Uo.fetch.bind(Uo),TS=Uo.Headers,HI=Uo.Request,GI=Uo.Response,sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:TS,Request:HI,Response:GI,default:PS,fetch:qI},Symbol.toStringTag,{value:"Module"})),KI=DA(sl);var eh={};Object.defineProperty(eh,"__esModule",{value:!0});let ZI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};eh.default=ZI;var AS=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jf,"__esModule",{value:!0});const YI=AS(KI),XI=AS(eh);let QI=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=YI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&p===""?(h=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new XI.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Jf.default=QI;var JI=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qf,"__esModule",{value:!0});const eO=JI(Jf);let tO=class extends eO.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qf.default=tO;var rO=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qc,"__esModule",{value:!0});const nO=rO(Qf);let sO=class extends nO.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Qc.default=sO;var aO=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xf,"__esModule",{value:!0});const Cl=aO(Qc);let iO=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Cl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Cl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Cl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Cl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Cl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xf.default=iO;var th={},rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.version=void 0;rh.version="0.0.0-automated";Object.defineProperty(th,"__esModule",{value:!0});th.DEFAULT_HEADERS=void 0;const oO=rh;th.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${oO.version}`};var RS=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lx,"__esModule",{value:!0});const lO=RS(Xf),cO=RS(Qc),uO=th;let dO=class MS{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},uO.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new lO.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new MS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new cO.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};lx.default=dO;var al=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jr,"__esModule",{value:!0});jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const DS=al(lx);jr.PostgrestClient=DS.default;const IS=al(Xf);jr.PostgrestQueryBuilder=IS.default;const OS=al(Qc);jr.PostgrestFilterBuilder=OS.default;const LS=al(Qf);jr.PostgrestTransformBuilder=LS.default;const $S=al(Jf);jr.PostgrestBuilder=$S.default;const FS=al(eh);jr.PostgrestError=FS.default;var fO=jr.default={PostgrestClient:DS.default,PostgrestQueryBuilder:IS.default,PostgrestFilterBuilder:OS.default,PostgrestTransformBuilder:LS.default,PostgrestBuilder:$S.default,PostgrestError:FS.default};const{PostgrestClient:hO,PostgrestQueryBuilder:HY,PostgrestFilterBuilder:GY,PostgrestTransformBuilder:KY,PostgrestBuilder:ZY,PostgrestError:YY}=fO;class mO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const pO="2.15.1",gO=`realtime-js/${pO}`,vO="1.0.0",Jp=1e4,xO=1e3,yO=100;var Ql;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ql||(Ql={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wn||(wn={}));var eg;(function(e){e.websocket="websocket"})(eg||(eg={}));var Xa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xa||(Xa={}));class wO{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class zS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ke||(Ke={}));const Rw=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=bO(o,e,t,s),i),{})},bO=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?VS(i,o):tg(o)},VS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return SO(t,r)}switch(e){case Ke.bool:return jO(t);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return NO(t);case Ke.json:case Ke.jsonb:return _O(t);case Ke.timestamp:return CO(t);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return tg(t);default:return tg(t)}},tg=e=>e,jO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_O=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},SO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>VS(t,l))}return e},CO=e=>typeof e=="string"?e.replace(" ","T"):e,US=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class pm{constructor(t,r,n={},s=Jp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mw||(Mw={}));class Jl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Jl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),w=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);w.length>0&&(l[u]=w),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dw||(Dw={}));var ec;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ec||(ec={}));var fs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fs||(fs={}));class cx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pm(this,wn.join,this.params,this.timeout),this.rejoinTimer=new zS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Jl(this),this.broadcastEndpointURL=US(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[ec.PRESENCE]&&this.bindings[ec.PRESENCE].length>0,d={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(fs.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(fs.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(fs.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,p=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,v=[];for(let y=0;y<p;y++){const x=w[y],{filter:{event:b,schema:j,table:N,filter:k}}=x,S=h&&h[y];if(S&&S.event===b&&S.schema===j&&S.table===N&&S.filter===k)v.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(fs.SUBSCRIBED);return}}).receive("error",h=>{this.state=At.errored,t==null||t(fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===At.joined&&t===ec.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new pm(this,wn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pm(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>yO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=wn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,p,v;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var w,p,v,y,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,N=(w=m.filter)===null||w===void 0?void 0:w.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(x=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:p,table:v,commit_timestamp:y,type:x,errors:b}=w;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(w))}m.callback(h,n)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cx.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wn.close,{},t)}_onError(t){this._on(wn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rw(t.columns,t.old_record)),r}}const Iw=()=>{},$u={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},EO=[1e3,2e3,5e3,1e4],kO=1e4,PO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TO{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jp,this.transport=null,this.heartbeatIntervalMs=$u.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iw,this.ref=0,this.reconnectTimer=null,this.logger=Iw,this.conn=null,this.sendBuffer=[],this.serializer=new wO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Xc(async()=>{const{default:l}=await Promise.resolve().then(()=>sl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${eg.websocket}`,this.httpEndpoint=US(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vO}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ql.connecting:return Xa.Connecting;case Ql.open:return Xa.Open;case Ql.closing:return Xa.Closing;default:return Xa.Closed}}isConnected(){return this.connectionState()===Xa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new cx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(xO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$u.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([PO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:gO};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(wn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$u.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Jp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:$u.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>EO[d-1]||kO,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ux extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Rt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AO extends ux{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rg extends ux{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var RO=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const BS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xc(async()=>{const{default:n}=await Promise.resolve().then(()=>sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},MO=()=>RO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xc(()=>Promise.resolve().then(()=>sl),void 0)).Response:Response}),ng=e=>{if(Array.isArray(e))return e.map(r=>ng(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ng(n)}),t},DO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ki=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const gm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IO=(e,t,r)=>ki(void 0,void 0,void 0,function*(){const n=yield MO();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new AO(gm(s),i,o))}).catch(s=>{t(new rg(gm(s),s))}):t(new rg(gm(e),e))}),OO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(DO(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Jc(e,t,r,n,s,i){return ki(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,OO(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>IO(c,l,n))})})}function nf(e,t,r,n){return ki(this,void 0,void 0,function*(){return Jc(e,"GET",t,r,n)})}function Ln(e,t,r,n,s){return ki(this,void 0,void 0,function*(){return Jc(e,"POST",t,n,s,r)})}function sg(e,t,r,n,s){return ki(this,void 0,void 0,function*(){return Jc(e,"PUT",t,n,s,r)})}function LO(e,t,r,n){return ki(this,void 0,void 0,function*(){return Jc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function WS(e,t,r,n,s){return ki(this,void 0,void 0,function*(){return Jc(e,"DELETE",t,n,s,r)})}var lr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $O={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ow={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FO{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=BS(s)}uploadOrUpdate(t,r,n,s){return lr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ow),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?sg:Ln)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return lr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ow.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield sg(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(Rt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return lr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ln(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ux("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}update(t,r,n){return lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return lr(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return lr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return lr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ln(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return lr(this,void 0,void 0,function*(){try{const s=yield Ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}download(t,r){return lr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield nf(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Rt(l))return{data:null,error:l};throw l}})}info(t){return lr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield nf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ng(n),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}exists(t){return lr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield LO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Rt(n)&&n instanceof rg){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return lr(this,void 0,void 0,function*(){try{return{data:yield WS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}list(t,r,n){return lr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},$O),r),{prefix:t||""});return{data:yield Ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}listV2(t,r){return lr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const zO="2.11.0",VO={"X-Client-Info":`storage-js/${zO}`};var Oi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class UO{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},VO),r),this.fetch=BS(n)}listBuckets(){return Oi(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}})}getBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Oi(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Oi(this,void 0,void 0,function*(){try{return{data:yield sg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield WS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}}class BO extends UO{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new FO(this.url,this.headers,t,this.fetch)}}const WO="2.55.0";let Fl="";typeof Deno<"u"?Fl="deno":typeof document<"u"?Fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const qO={"X-Client-Info":`supabase-js-${Fl}/${WO}`},HO={headers:qO},GO={schema:"public"},KO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZO={};var YO=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const XO=e=>{let t;return e?t=e:typeof fetch>"u"?t=PS:t=fetch,(...r)=>t(...r)},QO=()=>typeof Headers>"u"?TS:Headers,JO=(e,t,r)=>{const n=XO(r),s=QO();return(i,o)=>YO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var e4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function t4(e){return e.endsWith("/")?e:e+"/"}function r4(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>e4(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const qS="2.71.1",Gi=30*1e3,ag=3,vm=ag*Gi,n4="http://localhost:9999",s4="supabase.auth.token",a4={"X-Client-Info":`gotrue-js/${qS}`},ig="X-Supabase-Api-Version",HS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o4=10*60*1e3;class dx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class l4 extends dx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function c4(e){return je(e)&&e.name==="AuthApiError"}class GS extends dx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ia extends dx{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ws extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u4(e){return je(e)&&e.name==="AuthSessionMissingError"}class Fu extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zu extends Ia{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vu extends Ia{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d4(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lw extends Ia{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class og extends Ia{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xm(e){return je(e)&&e.name==="AuthRetryableFetchError"}class $w extends Ia{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class lg extends Ia{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fw=` 	
\r=`.split(""),f4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fw.length;t+=1)e[Fw[t].charCodeAt(0)]=-2;for(let t=0;t<sf.length;t+=1)e[sf[t].charCodeAt(0)]=t;return e})();function zw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(sf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(sf[n]),t.queuedBits-=6}}function KS(e,t,r){const n=f4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{p4(o,n,r)};for(let o=0;o<e.length;o+=1)KS(e.charCodeAt(o),s,i);return t.join("")}function h4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function m4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}h4(n,t)}}function p4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function g4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)KS(e.charCodeAt(s),r,n);return new Uint8Array(t)}function v4(e){const t=[];return m4(e,r=>t.push(r)),new Uint8Array(t)}function x4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>zw(s,r,n)),zw(null,r,n),t.join("")}function y4(e){return Math.round(Date.now()/1e3)+e}function w4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hn=()=>typeof window<"u"&&typeof document<"u",Ba={tested:!1,writable:!1},ZS=()=>{if(!hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ba.tested)return Ba.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ba.tested=!0,Ba.writable=!0}catch{Ba.tested=!0,Ba.writable=!1}return Ba.writable};function b4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const YS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xc(async()=>{const{default:n}=await Promise.resolve().then(()=>sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},j4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ki=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$s=async(e,t)=>{await e.removeItem(t)};class nh{constructor(){this.promise=new nh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}nh.promiseConstructor=Promise;function ym(e){const t=e.split(".");if(t.length!==3)throw new lg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!i4.test(t[n]))throw new lg("JWT not in base64url format");return{header:JSON.parse(Vw(t[0])),payload:JSON.parse(Vw(t[1])),signature:g4(t[2]),raw:{header:t[0],payload:t[1]}}}async function N4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _4(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function S4(e){return("0"+e.toString(16)).substr(-2)}function C4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,S4).join("")}async function E4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function k4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await E4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(e,t,r=!1){const n=C4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ki(e,`${t}-code-verifier`,s);const i=await k4(n);return[i,n===i?"plain":"s256"]}const P4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T4(e){const t=e.headers.get(ig);if(!t||!t.match(P4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function A4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function R4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $i(e){if(!M4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uw(e){return JSON.parse(JSON.stringify(e))}var D4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ka=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),I4=[502,503,504];async function Bw(e){var t;if(!j4(e))throw new og(Ka(e),0);if(I4.includes(e.status))throw new og(Ka(e),e.status);let r;try{r=await e.json()}catch(i){throw new GS(Ka(i),i)}let n;const s=T4(e);if(s&&s.getTime()>=HS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $w(Ka(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ws}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new $w(Ka(r),e.status,r.weak_password.reasons);throw new l4(Ka(r),e.status||500,n)}const O4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ae(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ig]||(i[ig]=HS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await L4(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function L4(e,t,r,n,s,i){const o=O4(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new og(Ka(c),0)}if(l.ok||await Bw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Bw(c)}}function us(e){var t;let r=null;V4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=y4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ww(e){const t=us(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $4(e){return{data:e,error:null}}function F4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=D4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function z4(e){return e}function V4(e){return e.access_token&&e.refresh_token&&e.expires_in}const bm=["global","local","others"];var U4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class B4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=YS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=bm[0]){if(bm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bm.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=U4(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:F4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:z4});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const p=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(je(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$i(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){$i(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){$i(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){$i(t.userId);try{const{data:r,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){$i(t.userId),$i(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}function qw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function W4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fi={debug:!!(globalThis&&ZS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class q4 extends XS{}async function H4(e,t,r){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new q4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}W4();const G4={url:n4,storageKey:s4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hw(e,t,r){return await r()}const zi={};class Pc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pc.nextInstanceID,Pc.nextInstanceID+=1,this.instanceID>0&&hn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},G4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new B4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=YS(s.fetch),this.lock=s.lock||Hw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=H4:this.lock=Hw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ZS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=qw(this.memoryStorage)),hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=zi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=zi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=b4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),hn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),d4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?{error:r}:{error:new GS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:us}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Li(this.storage,this.storageKey)),i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:us})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:us})}else throw new zu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ww})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ww})}else throw new zu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let w,p;if("message"in t)w=t.message,p=t.signature;else{const{chain:v,wallet:y,statement:x,options:b}=t;let j;if(hn())if(typeof y=="object")j=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=k}}try{const{data:v,error:y}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:x4(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:us});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Fu}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(je(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Wa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:us});if(await $s(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(je(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:us}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Fu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Li(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zu("You must provide either an email or phone number.")}catch(l){if(je(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:us});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Li(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:$4})}catch(i){if(je(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ws;const{error:s}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(je(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new zu("You must provide either an email or phone number and a type")}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Wa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=wm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ws}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xs})})}catch(r){if(je(r))return u4(r)&&(await this._removeSession(),await $s(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ws;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Li(this.storage,this.storageKey));const{data:u,error:d}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Xs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ws;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ym(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(je(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ws;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!hn())throw new Vu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lw("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Vu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(je(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(c4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await $s(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=w4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Li(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(je(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return hn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(je(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _4(async s=>(s>0&&await N4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:us})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xm(i)&&Date.now()+o-n<Gi})}catch(n){if(this._debug(r,"error",n),je(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),hn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Wa(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ki(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:wm()}else if(s&&!s.user&&!s.user){const o=await Wa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await $s(this.storage,this.storageKey+"-user"),await Ki(this.storage,this.storageKey,s)):s.user=wm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new nh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ws;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),je(i)){const o={session:null,error:i};return xm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ki(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Uw(s);await Ki(this.storage,this.storageKey,i)}else{const s=Uw(r);await Ki(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await $s(this.storage,this.storageKey),await $s(this.storage,this.storageKey+"-code-verifier"),await $s(this.storage,this.storageKey+"-user"),this.userStorage&&await $s(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gi}ms, refresh threshold is ${ag} ticks`),s<=ag&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof XS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Li(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ym(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+o4>s)return n;const{data:i,error:o}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ym(n);r!=null&&r.allowExpired||A4(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=R4(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,v4(`${l}.${c}`)))throw new lg("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}}Pc.nextInstanceID=0;const K4=Pc;class Z4 extends K4{constructor(t){super(t)}}var Y4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class X4{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=t4(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:GO,realtime:ZO,auth:Object.assign(Object.assign({},KO),{storageKey:u}),global:HO},f=r4(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=JO(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new hO(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new BO(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new BI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Y4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new TO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Q4=(e,t,r)=>new X4(e,t,r);function J4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}J4()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eL="https://wilvxlbiktetduwftqfn.supabase.co",tL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndpbHZ4bGJpa3RldGR1d2Z0cWZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyNDUzMTksImV4cCI6MjA3MDgyMTMxOX0.eZ1iYIHdHVxQs2Osol0sZSCzTRcZZi91Iimc5OBnqXA",ue=Q4(eL,tL),QS=g.createContext(void 0);function rL({children:e}){var k,S;const[t,r]=g.useState(null),[n,s]=g.useState(null),[i,o]=g.useState(null),[l,c]=g.useState(!0);g.useEffect(()=>{(async()=>{try{const{data:{session:C},error:A}=await ue.auth.getSession();A?console.error("Error getting session:",A):(s(C),r((C==null?void 0:C.user)??null),C!=null&&C.user&&await u(C.user.id))}catch(C){console.error("Error in getInitialSession:",C)}finally{c(!1)}})();const{data:{subscription:P}}=ue.auth.onAuthStateChange((C,A)=>{console.log("🔑 Auth State Change:",C,!!(A!=null&&A.user)),s(A),r((A==null?void 0:A.user)??null),C==="SIGNED_OUT"&&o(null),c(!1)});return()=>P.unsubscribe()},[]),g.useEffect(()=>{(async()=>{if(t&&!i){console.log("📄 Fetching profile for user:",t.email);try{const{data:P,error:C}=await ue.from("profiles").select("*").eq("id",t.id).maybeSingle();if(C&&C.code!=="PGRST116"){console.error("Error fetching profile:",C);return}if(P)o(P);else{const{data:A,error:M}=await ue.rpc("ensure_profile_exists");!M&&A&&o(A)}}catch(P){console.error("Error loading profile:",P)}}})()},[t==null?void 0:t.id,i]);const u=async E=>{try{const{data:P,error:C}=await ue.from("profiles").select("*").eq("id",E).maybeSingle();if(C&&C.code!=="PGRST116"){console.error("Error fetching profile:",C);return}P?o(P):await d(E)}catch(P){console.error("Error in fetchProfile:",P)}},d=async E=>{try{const{data:P,error:C}=await ue.rpc("ensure_profile_exists");if(C){console.error("Error ensuring profile:",C);try{const{data:A}=await ue.from("profiles").select("*").eq("id",E).maybeSingle();A&&o(A)}catch(A){console.error("Manual profile fetch failed:",A)}}else o(P)}catch(P){console.error("Error in createProfile:",P)}},f=async(E,P)=>{const{error:C}=await ue.auth.signInWithPassword({email:E,password:P});return{error:C}},h=async(E,P,C)=>{const{error:A}=await ue.auth.signUp({email:E,password:P,options:{data:{full_name:C||E.split("@")[0]}}});return{error:A}},m=async()=>{const{error:E}=await ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:E}},w=async()=>{const{error:E}=await ue.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:E}},p=async()=>{console.log("🚑 Signing out user");const{error:E}=await ue.auth.signOut();return E&&console.error("Error during signOut:",E),{error:E}},v=async E=>{if(!t)return{error:new Error("Usuario no autenticado")};try{const{data:P,error:C}=await ue.from("profiles").update({...E,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();return C?{error:C}:(P&&o(P),{error:null})}catch(P){return{error:P}}},y=async()=>{t&&await u(t.id)},x=(k=t==null?void 0:t.user_metadata)==null?void 0:k.plan,b=i==null?void 0:i.plan,j=x==="pro_monthly"||x==="pro_annual"?x:b==="pro_monthly"||b==="pro_annual"?b:b||x||"free",N=j==="pro_monthly"||j==="pro_annual";return console.log("🔍 Auth Debug:",{user:!!t,userEmail:t==null?void 0:t.email,profile:!!i,planFromProfile:i==null?void 0:i.plan,planFromMeta:(S=t==null?void 0:t.user_metadata)==null?void 0:S.plan,calculatedPlan:j,isPro:N,userMetadata:t==null?void 0:t.user_metadata}),a.jsx(QS.Provider,{value:{user:t,session:n,loading:l,profile:i,plan:j,isPro:N,signIn:f,signUp:h,signInWithGoogle:m,signInWithGithub:w,signOut:p,updateProfile:v,refreshProfile:y},children:e})}function qe(){const e=g.useContext(QS);if(e===void 0)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e}const JS=g.createContext(void 0);function nL({children:e}){const[t,r]=g.useState(()=>localStorage.getItem("convocatorias-theme")||"system"),[n,s]=g.useState("light");g.useEffect(()=>{const o=window.document.documentElement,l=()=>{let d;t==="system"?d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d=t,s(d),o.classList.remove("light","dark"),o.classList.add(d)};l();const c=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{t==="system"&&l()};return c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[t]);const i=o=>{r(o),localStorage.setItem("convocatorias-theme",o)};return a.jsx(JS.Provider,{value:{theme:t,setTheme:i,actualTheme:n},children:e})}function sh(){const e=g.useContext(JS);if(e===void 0)throw new Error("useTheme debe ser usado dentro de ThemeProvider");return e}function sL(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const aL=e=>{switch(e){case"success":return lL;case"info":return uL;case"warning":return cL;case"error":return dL;default:return null}},iL=Array(12).fill(0),oL=({visible:e,className:t})=>q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.createElement("div",{className:"sonner-spinner"},iL.map((r,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),lL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hL=()=>{const[e,t]=q.useState(document.hidden);return q.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let cg=1;class mL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:cg++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=s.then(async u=>{if(o=["resolve",u],q.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(gL(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,w=typeof f=="object"&&!q.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...w})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,w=typeof f=="object"&&!q.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...w})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,w=typeof f=="object"&&!q.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...w})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof d=="object"&&!q.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||cg++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const wr=new mL,pL=(e,t)=>{const r=(t==null?void 0:t.id)||cg++;return wr.addToast({title:e,...t,id:r}),r},gL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",vL=pL,xL=()=>wr.toasts,yL=()=>wr.getActiveToasts(),W=Object.assign(vL,{success:wr.success,info:wr.info,warning:wr.warning,error:wr.error,custom:wr.custom,message:wr.message,promise:wr.promise,dismiss:wr.dismiss,loading:wr.loading},{getHistory:xL,getToasts:yL});sL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Uu(e){return e.label!==void 0}const wL=3,bL="24px",jL="16px",Gw=4e3,NL=356,_L=14,SL=45,CL=200;function In(...e){return e.filter(Boolean).join(" ")}function EL(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const kL=e=>{var t,r,n,s,i,o,l,c,u;const{invert:d,toast:f,unstyled:h,interacting:m,setHeights:w,visibleToasts:p,heights:v,index:y,toasts:x,expanded:b,removeToast:j,defaultRichColors:N,closeButton:k,style:S,cancelButtonStyle:E,actionButtonStyle:P,className:C="",descriptionClassName:A="",duration:M,position:R,gap:L,expandByDefault:U,classNames:V,icons:z,closeButtonAriaLabel:D="Close toast"}=e,[I,G]=q.useState(null),[oe,we]=q.useState(null),[pe,be]=q.useState(!1),[Se,De]=q.useState(!1),[le,me]=q.useState(!1),[Pe,Ee]=q.useState(!1),[Ie,ke]=q.useState(!1),[Vt,Ut]=q.useState(0),[Rn,Mn]=q.useState(0),Pr=q.useRef(f.duration||M||Gw),ml=q.useRef(null),Bt=q.useRef(null),T=y===0,O=y+1<=p,F=f.type,te=f.dismissible!==!1,ee=f.className||"",J=f.descriptionClassName||"",fe=q.useMemo(()=>v.findIndex(Ne=>Ne.toastId===f.id)||0,[v,f.id]),$e=q.useMemo(()=>{var Ne;return(Ne=f.closeButton)!=null?Ne:k},[f.closeButton,k]),Ue=q.useMemo(()=>f.duration||M||Gw,[f.duration,M]),Jt=q.useRef(0),ln=q.useRef(0),cn=q.useRef(0),Is=q.useRef(null),[pl,gl]=R.split("-"),pu=q.useMemo(()=>v.reduce((Ne,Ot,er)=>er>=fe?Ne:Ne+Ot.height,0),[v,fe]),vl=hL(),zh=f.invert||d,Di=F==="loading";ln.current=q.useMemo(()=>fe*L+pu,[fe,pu]),q.useEffect(()=>{Pr.current=Ue},[Ue]),q.useEffect(()=>{be(!0)},[]),q.useEffect(()=>{const Ne=Bt.current;if(Ne){const Ot=Ne.getBoundingClientRect().height;return Mn(Ot),w(er=>[{toastId:f.id,height:Ot,position:f.position},...er]),()=>w(er=>er.filter(Tr=>Tr.toastId!==f.id))}},[w,f.id]),q.useLayoutEffect(()=>{if(!pe)return;const Ne=Bt.current,Ot=Ne.style.height;Ne.style.height="auto";const er=Ne.getBoundingClientRect().height;Ne.style.height=Ot,Mn(er),w(Tr=>Tr.find(Wt=>Wt.toastId===f.id)?Tr.map(Wt=>Wt.toastId===f.id?{...Wt,height:er}:Wt):[{toastId:f.id,height:er,position:f.position},...Tr])},[pe,f.title,f.description,w,f.id,f.jsx,f.action,f.cancel]);const Os=q.useCallback(()=>{De(!0),Ut(ln.current),w(Ne=>Ne.filter(Ot=>Ot.toastId!==f.id)),setTimeout(()=>{j(f)},CL)},[f,j,w,ln]);q.useEffect(()=>{if(f.promise&&F==="loading"||f.duration===1/0||f.type==="loading")return;let Ne;return b||m||vl?(()=>{if(cn.current<Jt.current){const Tr=new Date().getTime()-Jt.current;Pr.current=Pr.current-Tr}cn.current=new Date().getTime()})():(()=>{Pr.current!==1/0&&(Jt.current=new Date().getTime(),Ne=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Os()},Pr.current))})(),()=>clearTimeout(Ne)},[b,m,f,F,vl,Os]),q.useEffect(()=>{f.delete&&(Os(),f.onDismiss==null||f.onDismiss.call(f,f))},[Os,f.delete]);function PA(){var Ne;if(z!=null&&z.loading){var Ot;return q.createElement("div",{className:In(V==null?void 0:V.loader,f==null||(Ot=f.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":F==="loading"},z.loading)}return q.createElement(oL,{className:In(V==null?void 0:V.loader,f==null||(Ne=f.classNames)==null?void 0:Ne.loader),visible:F==="loading"})}const TA=f.icon||(z==null?void 0:z[F])||aL(F);var t0,r0;return q.createElement("li",{tabIndex:0,ref:Bt,className:In(C,ee,V==null?void 0:V.toast,f==null||(t=f.classNames)==null?void 0:t.toast,V==null?void 0:V.default,V==null?void 0:V[F],f==null||(r=f.classNames)==null?void 0:r[F]),"data-sonner-toast":"","data-rich-colors":(t0=f.richColors)!=null?t0:N,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":pe,"data-promise":!!f.promise,"data-swiped":Ie,"data-removed":Se,"data-visible":O,"data-y-position":pl,"data-x-position":gl,"data-index":y,"data-front":T,"data-swiping":le,"data-dismissible":te,"data-type":F,"data-invert":zh,"data-swipe-out":Pe,"data-swipe-direction":oe,"data-expanded":!!(b||U&&pe),"data-testid":f.testId,style:{"--index":y,"--toasts-before":y,"--z-index":x.length-y,"--offset":`${Se?Vt:ln.current}px`,"--initial-height":U?"auto":`${Rn}px`,...S,...f.style},onDragEnd:()=>{me(!1),G(null),Is.current=null},onPointerDown:Ne=>{Ne.button!==2&&(Di||!te||(ml.current=new Date,Ut(ln.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(me(!0),Is.current={x:Ne.clientX,y:Ne.clientY})))},onPointerUp:()=>{var Ne,Ot,er;if(Pe||!te)return;Is.current=null;const Tr=Number(((Ne=Bt.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gu=Number(((Ot=Bt.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wt=new Date().getTime()-((er=ml.current)==null?void 0:er.getTime()),Ur=I==="x"?Tr:gu,vu=Math.abs(Ur)/Wt;if(Math.abs(Ur)>=SL||vu>.11){Ut(ln.current),f.onDismiss==null||f.onDismiss.call(f,f),we(I==="x"?Tr>0?"right":"left":gu>0?"down":"up"),Os(),Ee(!0);return}else{var un,dn;(un=Bt.current)==null||un.style.setProperty("--swipe-amount-x","0px"),(dn=Bt.current)==null||dn.style.setProperty("--swipe-amount-y","0px")}ke(!1),me(!1),G(null)},onPointerMove:Ne=>{var Ot,er,Tr;if(!Is.current||!te||((Ot=window.getSelection())==null?void 0:Ot.toString().length)>0)return;const Wt=Ne.clientY-Is.current.y,Ur=Ne.clientX-Is.current.x;var vu;const un=(vu=e.swipeDirections)!=null?vu:EL(R);!I&&(Math.abs(Ur)>1||Math.abs(Wt)>1)&&G(Math.abs(Ur)>Math.abs(Wt)?"x":"y");let dn={x:0,y:0};const n0=Ua=>1/(1.5+Math.abs(Ua)/20);if(I==="y"){if(un.includes("top")||un.includes("bottom"))if(un.includes("top")&&Wt<0||un.includes("bottom")&&Wt>0)dn.y=Wt;else{const Ua=Wt*n0(Wt);dn.y=Math.abs(Ua)<Math.abs(Wt)?Ua:Wt}}else if(I==="x"&&(un.includes("left")||un.includes("right")))if(un.includes("left")&&Ur<0||un.includes("right")&&Ur>0)dn.x=Ur;else{const Ua=Ur*n0(Ur);dn.x=Math.abs(Ua)<Math.abs(Ur)?Ua:Ur}(Math.abs(dn.x)>0||Math.abs(dn.y)>0)&&ke(!0),(er=Bt.current)==null||er.style.setProperty("--swipe-amount-x",`${dn.x}px`),(Tr=Bt.current)==null||Tr.style.setProperty("--swipe-amount-y",`${dn.y}px`)}},$e&&!f.jsx&&F!=="loading"?q.createElement("button",{"aria-label":D,"data-disabled":Di,"data-close-button":!0,onClick:Di||!te?()=>{}:()=>{Os(),f.onDismiss==null||f.onDismiss.call(f,f)},className:In(V==null?void 0:V.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(r0=z==null?void 0:z.close)!=null?r0:fL):null,(F||f.icon||f.promise)&&f.icon!==null&&((z==null?void 0:z[F])!==null||f.icon)?q.createElement("div",{"data-icon":"",className:In(V==null?void 0:V.icon,f==null||(s=f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||PA():null,f.type!=="loading"?TA:null):null,q.createElement("div",{"data-content":"",className:In(V==null?void 0:V.content,f==null||(i=f.classNames)==null?void 0:i.content)},q.createElement("div",{"data-title":"",className:In(V==null?void 0:V.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?q.createElement("div",{"data-description":"",className:In(A,J,V==null?void 0:V.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),q.isValidElement(f.cancel)?f.cancel:f.cancel&&Uu(f.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:Ne=>{Uu(f.cancel)&&te&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ne),Os())},className:In(V==null?void 0:V.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,q.isValidElement(f.action)?f.action:f.action&&Uu(f.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:Ne=>{Uu(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ne),!Ne.defaultPrevented&&Os())},className:In(V==null?void 0:V.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function Kw(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function PL(e,t){const r={};return[e,t].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?jL:bL;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const TL=q.forwardRef(function(t,r){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:f,theme:h="light",richColors:m,duration:w,style:p,visibleToasts:v=wL,toastOptions:y,dir:x=Kw(),gap:b=_L,icons:j,containerAriaLabel:N="Notifications"}=t,[k,S]=q.useState([]),E=q.useMemo(()=>n?k.filter(pe=>pe.toasterId===n):k.filter(pe=>!pe.toasterId),[k,n]),P=q.useMemo(()=>Array.from(new Set([i].concat(E.filter(pe=>pe.position).map(pe=>pe.position)))),[E,i]),[C,A]=q.useState([]),[M,R]=q.useState(!1),[L,U]=q.useState(!1),[V,z]=q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=q.useRef(null),I=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=q.useRef(null),oe=q.useRef(!1),we=q.useCallback(pe=>{S(be=>{var Se;return(Se=be.find(De=>De.id===pe.id))!=null&&Se.delete||wr.dismiss(pe.id),be.filter(({id:De})=>De!==pe.id)})},[]);return q.useEffect(()=>wr.subscribe(pe=>{if(pe.dismiss){requestAnimationFrame(()=>{S(be=>be.map(Se=>Se.id===pe.id?{...Se,delete:!0}:Se))});return}setTimeout(()=>{cS.flushSync(()=>{S(be=>{const Se=be.findIndex(De=>De.id===pe.id);return Se!==-1?[...be.slice(0,Se),{...be[Se],...pe},...be.slice(Se+1)]:[pe,...be]})})})}),[k]),q.useEffect(()=>{if(h!=="system"){z(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;const pe=window.matchMedia("(prefers-color-scheme: dark)");try{pe.addEventListener("change",({matches:be})=>{z(be?"dark":"light")})}catch{pe.addListener(({matches:Se})=>{try{z(Se?"dark":"light")}catch(De){console.error(De)}})}},[h]),q.useEffect(()=>{k.length<=1&&R(!1)},[k]),q.useEffect(()=>{const pe=be=>{var Se;if(o.every(me=>be[me]||be.code===me)){var le;R(!0),(le=D.current)==null||le.focus()}be.code==="Escape"&&(document.activeElement===D.current||(Se=D.current)!=null&&Se.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",pe),()=>document.removeEventListener("keydown",pe)},[o]),q.useEffect(()=>{if(D.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,oe.current=!1)}},[D.current]),q.createElement("section",{ref:r,"aria-label":`${N} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((pe,be)=>{var Se;const[De,le]=pe.split("-");return E.length?q.createElement("ol",{key:pe,dir:x==="auto"?Kw():x,tabIndex:-1,ref:D,className:u,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":De,"data-x-position":le,style:{"--front-toast-height":`${((Se=C[0])==null?void 0:Se.height)||0}px`,"--width":`${NL}px`,"--gap":`${b}px`,...p,...PL(d,f)},onBlur:me=>{oe.current&&!me.currentTarget.contains(me.relatedTarget)&&(oe.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,G.current=me.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{L||R(!1)},onDragEnd:()=>R(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},E.filter(me=>!me.position&&be===0||me.position===pe).map((me,Pe)=>{var Ee,Ie;return q.createElement(kL,{key:me.id,icons:j,index:Pe,toast:me,defaultRichColors:m,duration:(Ee=y==null?void 0:y.duration)!=null?Ee:w,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:s,visibleToasts:v,closeButton:(Ie=y==null?void 0:y.closeButton)!=null?Ie:c,interacting:L,position:pe,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:we,toasts:E.filter(ke=>ke.position==me.position),heights:C.filter(ke=>ke.position==me.position),setHeights:A,expandByDefault:l,gap:b,expanded:M,swipeDirections:t.swipeDirections})})):null}))}),AL=({...e})=>{const{actualTheme:t}=sh();return a.jsx(TL,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function eC({children:e,requireAuth:t=!0}){const{user:r,loading:n}=qe(),s=or(),i=sn();return g.useEffect(()=>{n||(t&&!r?s("/login",{state:{from:i.pathname},replace:!0}):!t&&r&&s("/app/dashboard",{replace:!0}))},[r,n,t,s,i.pathname]),n?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t&&r||!t&&!r?a.jsx(a.Fragment,{children:e}):null}/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...RL,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ML(e)}`,l].join(" "),...u},[...t.map(([f,h])=>g.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Y("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=Y("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=Y("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=Y("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=Y("BookmarkX",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m14.5 7.5-5 5",key:"3lb6iw"}],["path",{d:"m9.5 7.5 5 5",key:"ko136h"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Y("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Y("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Y("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Y("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=Y("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=Y("Computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Y("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=Y("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=Y("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Y("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Y("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Y("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=Y("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=Y("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Y("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Y("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=Y("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=Y("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Y("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Y("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Y("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=Y("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Y("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=Y("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=Y("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=Y("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=Y("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=Y("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=Y("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Y("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Y("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=Y("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Y("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=Y("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Y("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Y("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Y("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=Y("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Y("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=Y("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Y("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Y("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Y("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function vC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=vC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xC(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=vC(e))&&(n&&(n+=" "),n+=t);return n}const yx="-",i5=e=>{const t=l5(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(yx);return l[0]===""&&l.length!==1&&l.shift(),yC(l,t)||o5(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},yC=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?yC(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(yx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},nb=/^\[(.+)\]$/,o5=e=>{if(nb.test(e)){const t=nb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},l5=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return u5(Object.entries(e.classGroups),r).forEach(([i,o])=>{hg(o,n,i,t)}),n},hg=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:sb(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(c5(s)){hg(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{hg(o,sb(t,i),r,n)})})},sb=(e,t)=>{let r=e;return t.split(yx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},c5=e=>e.isThemeGetter,u5=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,d5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},wC="!",f5=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===s&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(wC),w=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},h5=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},m5=e=>({cache:d5(e.cacheSize),parseClassName:f5(e),...i5(e)}),p5=/\s+/,g5=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(p5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let w=!!m,p=n(w?h.substring(0,m):h);if(!p){if(!w){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}w=!1}const v=h5(d).join(":"),y=f?v+wC:v,x=y+p;if(i.includes(x))continue;i.push(x);const b=s(p,w);for(let j=0;j<b.length;++j){const N=b[j];i.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function v5(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=bC(t))&&(n&&(n+=" "),n+=r);return n}const bC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=bC(e[n]))&&(r&&(r+=" "),r+=t);return r};function x5(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=m5(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=g5(c,r);return s(c,d),d}return function(){return i(v5.apply(null,arguments))}}const Qe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},jC=/^\[(?:([a-z-]+):)?(.+)\]$/i,y5=/^\d+\/\d+$/,w5=new Set(["px","full","screen"]),b5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,N5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,os=e=>bo(e)||w5.has(e)||y5.test(e),Fs=e=>il(e,"length",M5),bo=e=>!!e&&!Number.isNaN(Number(e)),jm=e=>il(e,"number",bo),El=e=>!!e&&Number.isInteger(Number(e)),C5=e=>e.endsWith("%")&&bo(e.slice(0,-1)),_e=e=>jC.test(e),zs=e=>b5.test(e),E5=new Set(["length","size","percentage"]),k5=e=>il(e,E5,NC),P5=e=>il(e,"position",NC),T5=new Set(["image","url"]),A5=e=>il(e,T5,I5),R5=e=>il(e,"",D5),kl=()=>!0,il=(e,t,r)=>{const n=jC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},M5=e=>j5.test(e)&&!N5.test(e),NC=()=>!1,D5=e=>_5.test(e),I5=e=>S5.test(e),O5=()=>{const e=Qe("colors"),t=Qe("spacing"),r=Qe("blur"),n=Qe("brightness"),s=Qe("borderColor"),i=Qe("borderRadius"),o=Qe("borderSpacing"),l=Qe("borderWidth"),c=Qe("contrast"),u=Qe("grayscale"),d=Qe("hueRotate"),f=Qe("invert"),h=Qe("gap"),m=Qe("gradientColorStops"),w=Qe("gradientColorStopPositions"),p=Qe("inset"),v=Qe("margin"),y=Qe("opacity"),x=Qe("padding"),b=Qe("saturate"),j=Qe("scale"),N=Qe("sepia"),k=Qe("skew"),S=Qe("space"),E=Qe("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",_e,t],M=()=>[_e,t],R=()=>["",os,Fs],L=()=>["auto",bo,_e],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",_e],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[bo,_e];return{cacheSize:500,separator:":",theme:{colors:[kl],spacing:[os,Fs],blur:["none","",zs,_e],brightness:oe(),borderColor:[e],borderRadius:["none","","full",zs,_e],borderSpacing:M(),borderWidth:R(),contrast:oe(),grayscale:I(),hueRotate:oe(),invert:I(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[C5,Fs],inset:A(),margin:A(),opacity:oe(),padding:M(),saturate:oe(),scale:oe(),sepia:I(),skew:oe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[zs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),_e]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El,_e]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",El,_e]}],"grid-cols":[{"grid-cols":[kl]}],"col-start-end":[{col:["auto",{span:["full",El,_e]},_e]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[kl]}],"row-start-end":[{row:["auto",{span:[El,_e]},_e]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[zs]},zs]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zs,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jm]}],"font-family":[{font:[kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",bo,jm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",os,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",os,Fs]}],"underline-offset":[{"underline-offset":["auto",os,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),P5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",k5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},A5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[os,_e]}],"outline-w":[{outline:[os,Fs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[os,Fs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zs,R5]}],"shadow-color":[{shadow:[kl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zs,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[El,_e]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[os,Fs,jm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L5=x5(O5);function re(...e){return L5(xC(e))}function ab(e){return new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))}function mg(e){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0}).format(e)}function $5(e){const t=new Date,n=new Date(e).getTime()-t.getTime();return Math.ceil(n/(1e3*60*60*24))}function F5(e){switch(e){case"abierto":return"text-green-600 bg-green-50 border-green-200 dark:text-green-400 dark:bg-green-950 dark:border-green-800";case"cerrado":return"text-red-600 bg-red-50 border-red-200 dark:text-red-400 dark:bg-red-950 dark:border-red-800";case"en_evaluacion":return"text-amber-600 bg-amber-50 border-amber-200 dark:text-amber-400 dark:bg-amber-950 dark:border-amber-800";case"finalizado":return"text-slate-600 bg-slate-50 border-slate-200 dark:text-slate-400 dark:bg-slate-950 dark:border-slate-800";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:text-slate-400 dark:bg-slate-950 dark:border-slate-800"}}function ib(e){return e<0||e<=7?"text-red-600 dark:text-red-400":e<=30?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"}function z5(e,t=100){return e.length<=t?e:e.slice(0,t)+"..."}function ob(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tu(...e){return t=>{let r=!1;const n=e.map(s=>{const i=ob(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():ob(e[s],null)}}}}function Le(...e){return g.useCallback(tu(...e),e)}function _C(e){const t=U5(e),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,l=g.Children.toArray(i),c=l.find(W5);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var V5=_C("Slot");function U5(e){const t=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=H5(s),l=q5(i,s.props);return s.type!==g.Fragment&&(l.ref=n?tu(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B5=Symbol("radix.slottable");function W5(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B5}function q5(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function H5(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const lb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cb=xC,wx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return cb(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=lb(d)||lb(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(w=>{let[p,v]=w;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,f,h]:u},[]);return cb(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},G5=wx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2 min-h-[44px]",sm:"h-9 rounded-md px-3 text-xs",lg:"h-12 rounded-md px-8 text-base min-h-[48px]",icon:"h-10 w-10 min-h-[44px] min-w-[44px]"}},defaultVariants:{variant:"default",size:"default"}}),B=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?V5:"button";return a.jsx(o,{className:re(G5({variant:t,size:r,className:e})),ref:i,...s})});B.displayName="Button";function Ms(){const{user:e,profile:t,updateProfile:r}=qe(),[n,s]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(null),u=async()=>{try{o(!0),c(null);const{data:x,error:b}=await ue.from("plans").select("*").order("price_clp",{ascending:!0});if(b)throw b;s(x||[])}catch(x){c(x.message),console.error("Error fetching plans:",x)}finally{o(!1)}},d=async x=>{if(!e)throw new Error("Usuario no autenticado");if(x==="free"){const{error:b}=await r({plan:"free",plan_expires_at:null});if(b)throw b;return{success:!0}}else{const b=n.find(j=>j.id===x);if(!b)throw new Error("Plan no encontrado");if(!b.mp_checkout_url||b.mp_checkout_url.trim()==="")throw new Error(`El plan ${b.name} no tiene configurado el enlace de MercadoPago. Por favor contacta soporte.`);console.log("Plan encontrado:",b),console.log("URL de checkout:",b.mp_checkout_url);try{const j=new URL(b.mp_checkout_url);return j.searchParams.set("external_reference",e.id),j.searchParams.set("metadata[user_id]",e.id),j.searchParams.set("metadata[plan_id]",x),console.log("URL final de checkout:",j.toString()),window.location.href=j.toString(),{success:!0,redirected:!0}}catch(j){throw console.error("Error al construir URL de MercadoPago:",j),new Error(`URL de MercadoPago inválida para el plan ${b.name}. Por favor contacta soporte.`)}}},f=()=>t&&n.find(x=>x.id===t.plan)||null,h=()=>(t==null?void 0:t.plan)==="pro_monthly"||(t==null?void 0:t.plan)==="pro_annual",m=()=>t!=null&&t.trial_ends_at?new Date(t.trial_ends_at)>new Date:!1,w=()=>{if(!(t!=null&&t.trial_ends_at))return 0;const x=new Date(t.trial_ends_at),b=new Date,j=x.getTime()-b.getTime(),N=Math.ceil(j/(1e3*60*60*24));return Math.max(0,N)},p=x=>{if(h()||m())return!0;const b=["basic_dashboard","manual_entry","basic_calendar","basic_filters","basic_export"];return["ai_agents","ai_parsing","ai_validation","ai_enhancement","export_data","advanced_export","bulk_import","smart_detection","unlimited_convocatorias"].includes(x)?h()||m():b.includes(x)},v=()=>h()||m()?1/0:5,y=x=>{const b=v();return b!==1/0&&x>=b};return g.useEffect(()=>{u()},[]),{plans:n,loading:i,error:l,selectPlan:d,getCurrentPlan:f,isProPlan:h,isTrialActive:m,getTrialDaysLeft:w,canAccessFeature:p,getConvocatoriasLimit:v,hasReachedLimit:y,refresh:u}}const K5=wx("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function K({className:e,variant:t,...r}){return a.jsx("div",{className:re(K5({variant:t}),e),...r})}const Z5=[{name:"Dashboard",href:"/app/dashboard",icon:cC},{name:"Calendario",href:"/app/calendar",icon:Pt},{name:"Historial",href:"/app/history",icon:lf}],Y5=[{name:"Búsqueda IA Pro",href:"/app/ai-search",icon:_a,pro:!1},{name:"Búsquedas Guardadas",href:"/app/saved-searches",icon:IL,pro:!0},{name:"Convocatorias Guardadas",href:"/app/saved-convocatorias",icon:lC,pro:!1},{name:"Configuración IA",href:"/app/ai-config",icon:zL,pro:!1},{name:"Editor de Prompts",href:"/app/prompt-editor",icon:wd,pro:!1},{name:"Nueva con IA",href:"/app/convocatorias/new-ai",icon:af,pro:!0},{name:"Importar Archivo",href:"/app/convocatorias/import",icon:mC,pro:!0},{name:"Pegar y Detectar",href:"/app/convocatorias/paste",icon:sC,pro:!0}],X5=[{name:"Perfil",href:"/app/settings/profile",icon:oo},{name:"Suscripción",href:"/app/settings/subscription",icon:of}];function Q5({className:e}){const t=sn(),{profile:r,isPro:n}=qe(),{isTrialActive:s,getTrialDaysLeft:i}=Ms(),o=l=>t.pathname===l;return a.jsx("div",{className:re("fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border",e),children:a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsx("div",{className:"flex h-16 shrink-0 items-center border-b border-border px-6",children:a.jsxs(Fe,{to:"/app/dashboard",className:"flex items-center gap-2",children:[a.jsx(mr,{className:"h-8 w-8 text-primary"}),a.jsx("span",{className:"text-xl font-bold",children:"ConvocatoriasPro"})]})}),a.jsx("div",{className:"p-4 border-b border-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:n?"Plan Pro":"Plan Gratuito"}),s()&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Prueba: ",i()," días restantes"]})]}),a.jsx(K,{variant:n?"default":"secondary",children:n?"PRO":"FREE"})]})}),a.jsx("div",{className:"p-4",children:a.jsx(B,{asChild:!0,className:"w-full",children:a.jsxs(Fe,{to:"/app/convocatorias/new",children:[a.jsx(dC,{className:"mr-2 h-4 w-4"}),"Nueva Convocatoria"]})})}),a.jsxs("nav",{className:"flex-1 px-4 py-2",children:[a.jsx("ul",{className:"space-y-1",children:Z5.map(l=>{const c=o(l.href);return a.jsx("li",{children:a.jsxs(Fe,{to:l.href,className:re("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",c?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[a.jsx(l.icon,{className:"h-4 w-4"}),l.name]})},l.name)})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:"mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Funciones de IA"}),a.jsx("ul",{className:"space-y-1",children:Y5.map(l=>{const c=o(l.href);return a.jsx("li",{children:a.jsxs(Fe,{to:l.href,className:re("flex items-center justify-between gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",c?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground",!n&&l.pro&&"opacity-75"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(l.icon,{className:"h-4 w-4"}),l.name]}),!n&&l.pro&&a.jsx(K,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:"PRO"})]})},l.name)})})]})]}),a.jsxs("div",{className:"border-t border-border p-4",children:[a.jsx("p",{className:"mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Configuración"}),a.jsx("ul",{className:"space-y-1",children:X5.map(l=>{const c=o(l.href);return a.jsx("li",{children:a.jsxs(Fe,{to:l.href,className:re("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",c?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[a.jsx(l.icon,{className:"h-4 w-4"}),l.name]})},l.name)})})]})]})})}function he(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function J5(e,t){const r=g.createContext(t),n=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function an(e,t=[]){let r=[];function n(i,o){const l=g.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:m,...w}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=g.useMemo(()=>w,Object.values(w));return a.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,w=g.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,e3(s,...t)]}function e3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Fr(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function qo({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=t3({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Fr(r),c=g.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[o,c]}function t3({defaultProp:e,onChange:t}){const r=g.useState(e),[n]=r,s=g.useRef(n),i=Fr(t);return g.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function Ho(e){const t=r3(e),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,l=g.Children.toArray(i),c=l.find(s3);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function r3(e){const t=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=i3(s),l=a3(i,s.props);return s.type!==g.Fragment&&(l.ref=n?tu(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n3=Symbol("radix.slottable");function s3(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n3}function a3(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function i3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var o3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=o3.reduce((e,t)=>{const r=Ho(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function SC(e,t){e&&tl.flushSync(()=>e.dispatchEvent(t))}function bx(e){const t=e+"CollectionProvider",[r,n]=an(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:y}=p,x=q.useRef(null),b=q.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:b,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Ho(l),u=q.forwardRef((p,v)=>{const{scope:y,children:x}=p,b=i(l,y),j=Le(v,b.collectionRef);return a.jsx(c,{ref:j,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ho(d),m=q.forwardRef((p,v)=>{const{scope:y,children:x,...b}=p,j=q.useRef(null),N=Le(v,j),k=i(d,y);return q.useEffect(()=>(k.itemMap.set(j,{ref:j,...b}),()=>void k.itemMap.delete(j))),a.jsx(h,{[f]:"",ref:N,children:x})});m.displayName=d;function w(p){const v=i(e+"CollectionConsumer",p);return q.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,S)=>b.indexOf(k.ref.current)-b.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,n]}var l3=g.createContext(void 0);function ch(e){const t=g.useContext(l3);return e||t||"ltr"}function c3(e,t=globalThis==null?void 0:globalThis.document){const r=Fr(e);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var u3="DismissableLayer",pg="dismissableLayer.update",d3="dismissableLayer.pointerDownOutside",f3="dismissableLayer.focusOutside",ub,CC=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uh=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(CC),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),w=Le(t,S=>f(S)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),x=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=y,N=p3(S=>{const E=S.target,P=[...u.branches].some(C=>C.contains(E));!j||P||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),k=g3(S=>{const E=S.target;[...u.branches].some(C=>C.contains(E))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return c3(S=>{x===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ub=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),db(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ub)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),db())},[d,u]),g.useEffect(()=>{const S=()=>m({});return document.addEventListener(pg,S),()=>document.removeEventListener(pg,S)},[]),a.jsx(Me.div,{...c,ref:w,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,k.onFocusCapture),onBlurCapture:he(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,N.onPointerDownCapture)})});uh.displayName=u3;var h3="DismissableLayerBranch",m3=g.forwardRef((e,t)=>{const r=g.useContext(CC),n=g.useRef(null),s=Le(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Me.div,{...e,ref:s})});m3.displayName=h3;function p3(e,t=globalThis==null?void 0:globalThis.document){const r=Fr(e),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){EC(d3,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function g3(e,t=globalThis==null?void 0:globalThis.document){const r=Fr(e),n=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!n.current&&EC(f3,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function db(){const e=new CustomEvent(pg);document.dispatchEvent(e)}function EC(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?SC(s,i):s.dispatchEvent(i)}var Nm=0;function jx(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fb()),document.body.insertAdjacentElement("beforeend",e[1]??fb()),Nm++,()=>{Nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nm--}},[])}function fb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _m="focusScope.autoFocusOnMount",Sm="focusScope.autoFocusOnUnmount",hb={bubbles:!1,cancelable:!0},v3="FocusScope",dh=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=Fr(s),d=Fr(i),f=g.useRef(null),h=Le(t,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let p=function(b){if(m.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:qs(f.current,{select:!0})},v=function(b){if(m.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||qs(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&qs(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,m.paused]),g.useEffect(()=>{if(l){pb.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(_m,hb);l.addEventListener(_m,u),l.dispatchEvent(y),y.defaultPrevented||(x3(N3(kC(l)),{select:!0}),document.activeElement===p&&qs(l))}return()=>{l.removeEventListener(_m,u),setTimeout(()=>{const y=new CustomEvent(Sm,hb);l.addEventListener(Sm,d),l.dispatchEvent(y),y.defaultPrevented||qs(p??document.body,{select:!0}),l.removeEventListener(Sm,d),pb.remove(m)},0)}}},[l,u,d,m]);const w=g.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const x=p.currentTarget,[b,j]=y3(x);b&&j?!p.shiftKey&&y===j?(p.preventDefault(),r&&qs(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),r&&qs(j,{select:!0})):y===x&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:w})});dh.displayName=v3;function x3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qs(n,{select:t}),document.activeElement!==r)return}function y3(e){const t=kC(e),r=mb(t,e),n=mb(t.reverse(),e);return[r,n]}function kC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mb(e,t){for(const r of e)if(!w3(r,{upTo:t}))return r}function w3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function b3(e){return e instanceof HTMLInputElement&&"select"in e}function qs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&b3(e)&&t&&e.select()}}var pb=j3();function j3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gb(e,t),e.unshift(t)},remove(t){var r;e=gb(e,t),(r=e[0])==null||r.resume()}}}function gb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function N3(e){return e.filter(t=>t.tagName!=="A")}var bt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},_3=uv[" useId ".trim().toString()]||(()=>{}),S3=0;function Yn(e){const[t,r]=g.useState(_3());return bt(()=>{r(n=>n??String(S3++))},[e]),t?`radix-${t}`:""}const C3=["top","right","bottom","left"],Sa=Math.min,Rr=Math.max,uf=Math.round,Wu=Math.floor,Xn=e=>({x:e,y:e}),E3={left:"right",right:"left",bottom:"top",top:"bottom"},k3={start:"end",end:"start"};function gg(e,t,r){return Rr(e,Sa(t,r))}function Cs(e,t){return typeof e=="function"?e(t):e}function Es(e){return e.split("-")[0]}function ol(e){return e.split("-")[1]}function Nx(e){return e==="x"?"y":"x"}function _x(e){return e==="y"?"height":"width"}function Ca(e){return["top","bottom"].includes(Es(e))?"y":"x"}function Sx(e){return Nx(Ca(e))}function P3(e,t,r){r===void 0&&(r=!1);const n=ol(e),s=Sx(e),i=_x(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=df(o)),[o,df(o)]}function T3(e){const t=df(e);return[vg(e),t,vg(t)]}function vg(e){return e.replace(/start|end/g,t=>k3[t])}function A3(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function R3(e,t,r,n){const s=ol(e);let i=A3(Es(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(vg)))),i}function df(e){return e.replace(/left|right|bottom|top/g,t=>E3[t])}function M3(e){return{top:0,right:0,bottom:0,left:0,...e}}function PC(e){return typeof e!="number"?M3(e):{top:e,right:e,bottom:e,left:e}}function ff(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function vb(e,t,r){let{reference:n,floating:s}=e;const i=Ca(t),o=Sx(t),l=_x(o),c=Es(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(ol(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const D3=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=vb(u,n,c),h=n,m={},w=0;for(let p=0;p<l.length;p++){const{name:v,fn:y}=l[p],{x,y:b,data:j,reset:N}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=b??f,m={...m,[v]:{...m[v],...j}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=vb(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Tc(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Cs(t,e),w=PC(m),v=l[h?f==="floating"?"reference":"floating":f],y=ff(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=ff(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-N.top+w.top)/j.y,bottom:(N.bottom-y.bottom+w.bottom)/j.y,left:(y.left-N.left+w.left)/j.x,right:(N.right-y.right+w.right)/j.x}}const I3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Cs(e,t)||{};if(u==null)return{};const f=PC(d),h={x:r,y:n},m=Sx(s),w=_x(m),p=await o.getDimensions(u),v=m==="y",y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",j=i.reference[w]+i.reference[m]-h[m]-i.floating[w],N=h[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=k?k[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=l.floating[b]||i.floating[w]);const E=j/2-N/2,P=S/2-p[w]/2-1,C=Sa(f[y],P),A=Sa(f[x],P),M=C,R=S-p[w]-A,L=S/2-p[w]/2+E,U=gg(M,L,R),V=!c.arrow&&ol(s)!=null&&L!==U&&i.reference[w]/2-(L<M?C:A)-p[w]/2<0,z=V?L<M?L-M:L-R:0;return{[m]:h[m]+z,data:{[m]:U,centerOffset:L-U-z,...V&&{alignmentOffset:z}},reset:V}}}),O3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:p=!0,...v}=Cs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Es(s),x=Ca(l),b=Es(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(b||!p?[df(l)]:T3(l)),k=w!=="none";!h&&k&&N.push(...R3(l,p,w,j));const S=[l,...N],E=await Tc(t,v),P=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(E[y]),f){const L=P3(s,o,j);P.push(E[L[0]],E[L[1]])}if(C=[...C,{placement:s,overflows:P}],!P.every(L=>L<=0)){var A,M;const L=(((A=i.flip)==null?void 0:A.index)||0)+1,U=S[L];if(U)return{data:{index:L,overflows:C},reset:{placement:U}};let V=(M=C.filter(z=>z.overflows[0]<=0).sort((z,D)=>z.overflows[1]-D.overflows[1])[0])==null?void 0:M.placement;if(!V)switch(m){case"bestFit":{var R;const z=(R=C.filter(D=>{if(k){const I=Ca(D.placement);return I===x||I==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(I=>I>0).reduce((I,G)=>I+G,0)]).sort((D,I)=>D[1]-I[1])[0])==null?void 0:R[0];z&&(V=z);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function xb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yb(e){return C3.some(t=>e[t]>=0)}const L3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Cs(e,t);switch(n){case"referenceHidden":{const i=await Tc(t,{...s,elementContext:"reference"}),o=xb(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yb(o)}}}case"escaped":{const i=await Tc(t,{...s,altBoundary:!0}),o=xb(i,r.floating);return{data:{escapedOffsets:o,escaped:yb(o)}}}default:return{}}}}};async function $3(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Es(r),l=ol(r),c=Ca(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=Cs(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const F3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await $3(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},z3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...c}=Cs(e,t),u={x:r,y:n},d=await Tc(t,c),f=Ca(Es(s)),h=Nx(f);let m=u[h],w=u[f];if(i){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+d[v],b=m-d[y];m=gg(x,m,b)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=w+d[v],b=w-d[y];w=gg(x,w,b)}const p=l.fn({...t,[h]:m,[f]:w});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},V3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Cs(e,t),d={x:r,y:n},f=Ca(s),h=Nx(f);let m=d[h],w=d[f];const p=Cs(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+v.mainAxis,N=i.reference[h]+i.reference[b]-v.mainAxis;m<j?m=j:m>N&&(m=N)}if(u){var y,x;const b=h==="y"?"width":"height",j=["top","left"].includes(Es(s)),N=i.reference[f]-i.floating[b]+(j&&((y=o.offset)==null?void 0:y[f])||0)+(j?0:v.crossAxis),k=i.reference[f]+i.reference[b]+(j?0:((x=o.offset)==null?void 0:x[f])||0)-(j?v.crossAxis:0);w<N?w=N:w>k&&(w=k)}return{[h]:m,[f]:w}}}},U3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Cs(e,t),d=await Tc(t,u),f=Es(s),h=ol(s),m=Ca(s)==="y",{width:w,height:p}=i.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,b=w-d.left-d.right,j=Sa(p-d[v],x),N=Sa(w-d[y],b),k=!t.middlewareData.shift;let S=j,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),k&&!h){const C=Rr(d.left,0),A=Rr(d.right,0),M=Rr(d.top,0),R=Rr(d.bottom,0);m?E=w-2*(C!==0||A!==0?C+A:Rr(d.left,d.right)):S=p-2*(M!==0||R!==0?M+R:Rr(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:S});const P=await o.getDimensions(l.floating);return w!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function fh(){return typeof window<"u"}function ll(e){return TC(e)?(e.nodeName||"").toLowerCase():"#document"}function Lr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function as(e){var t;return(t=(TC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TC(e){return fh()?e instanceof Node||e instanceof Lr(e).Node:!1}function Pn(e){return fh()?e instanceof Element||e instanceof Lr(e).Element:!1}function rs(e){return fh()?e instanceof HTMLElement||e instanceof Lr(e).HTMLElement:!1}function wb(e){return!fh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lr(e).ShadowRoot}function ru(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Tn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function B3(e){return["table","td","th"].includes(ll(e))}function hh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cx(e){const t=Ex(),r=Pn(e)?Tn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function W3(e){let t=Ea(e);for(;rs(t)&&!Go(t);){if(Cx(t))return t;if(hh(t))return null;t=Ea(t)}return null}function Ex(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Go(e){return["html","body","#document"].includes(ll(e))}function Tn(e){return Lr(e).getComputedStyle(e)}function mh(e){return Pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ea(e){if(ll(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wb(e)&&e.host||as(e);return wb(t)?t.host:t}function AC(e){const t=Ea(e);return Go(t)?e.ownerDocument?e.ownerDocument.body:e.body:rs(t)&&ru(t)?t:AC(t)}function Ac(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=AC(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Lr(s);if(i){const l=xg(o);return t.concat(o,o.visualViewport||[],ru(s)?s:[],l&&r?Ac(l):[])}return t.concat(s,Ac(s,[],r))}function xg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RC(e){const t=Tn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=rs(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=uf(r)!==i||uf(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function kx(e){return Pn(e)?e:e.contextElement}function jo(e){const t=kx(e);if(!rs(t))return Xn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=RC(t);let o=(i?uf(r.width):r.width)/n,l=(i?uf(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const q3=Xn(0);function MC(e){const t=Lr(e);return!Ex()||!t.visualViewport?q3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function H3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Lr(e)?!1:t}function bi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=kx(e);let o=Xn(1);t&&(n?Pn(n)&&(o=jo(n)):o=jo(e));const l=H3(i,r,n)?MC(i):Xn(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Lr(i),m=n&&Pn(n)?Lr(n):n;let w=h,p=xg(w);for(;p&&n&&m!==w;){const v=jo(p),y=p.getBoundingClientRect(),x=Tn(p),b=y.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,j=y.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=j,w=Lr(p),p=xg(w)}}return ff({width:d,height:f,x:c,y:u})}function Px(e,t){const r=mh(e).scrollLeft;return t?t.left+r:bi(as(e)).left+r}function DC(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Px(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function G3(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=as(n),l=t?hh(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Xn(1);const d=Xn(0),f=rs(n);if((f||!f&&!i)&&((ll(n)!=="body"||ru(o))&&(c=mh(n)),rs(n))){const m=bi(n);u=jo(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?DC(o,c,!0):Xn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function K3(e){return Array.from(e.getClientRects())}function Z3(e){const t=as(e),r=mh(e),n=e.ownerDocument.body,s=Rr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Rr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Px(e);const l=-r.scrollTop;return Tn(n).direction==="rtl"&&(o+=Rr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function Y3(e,t){const r=Lr(e),n=as(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Ex();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function X3(e,t){const r=bi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=rs(e)?jo(e):Xn(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function bb(e,t,r){let n;if(t==="viewport")n=Y3(e,r);else if(t==="document")n=Z3(as(e));else if(Pn(t))n=X3(t,r);else{const s=MC(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ff(n)}function IC(e,t){const r=Ea(e);return r===t||!Pn(r)||Go(r)?!1:Tn(r).position==="fixed"||IC(r,t)}function Q3(e,t){const r=t.get(e);if(r)return r;let n=Ac(e,[],!1).filter(l=>Pn(l)&&ll(l)!=="body"),s=null;const i=Tn(e).position==="fixed";let o=i?Ea(e):e;for(;Pn(o)&&!Go(o);){const l=Tn(o),c=Cx(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ru(o)&&!c&&IC(e,o))?n=n.filter(d=>d!==o):s=l,o=Ea(o)}return t.set(e,n),n}function J3(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?hh(t)?[]:Q3(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=bb(t,d,s);return u.top=Rr(f.top,u.top),u.right=Sa(f.right,u.right),u.bottom=Sa(f.bottom,u.bottom),u.left=Rr(f.left,u.left),u},bb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function e$(e){const{width:t,height:r}=RC(e);return{width:t,height:r}}function t$(e,t,r){const n=rs(t),s=as(t),i=r==="fixed",o=bi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Xn(0);if(n||!n&&!i)if((ll(t)!=="body"||ru(s))&&(l=mh(t)),n){const h=bi(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=Px(s));const u=s&&!n&&!i?DC(s,l):Xn(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Cm(e){return Tn(e).position==="static"}function jb(e,t){if(!rs(e)||Tn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return as(e)===r&&(r=r.ownerDocument.body),r}function OC(e,t){const r=Lr(e);if(hh(e))return r;if(!rs(e)){let s=Ea(e);for(;s&&!Go(s);){if(Pn(s)&&!Cm(s))return s;s=Ea(s)}return r}let n=jb(e,t);for(;n&&B3(n)&&Cm(n);)n=jb(n,t);return n&&Go(n)&&Cm(n)&&!Cx(n)?r:n||W3(e)||r}const r$=async function(e){const t=this.getOffsetParent||OC,r=this.getDimensions,n=await r(e.floating);return{reference:t$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function n$(e){return Tn(e).direction==="rtl"}const s$={convertOffsetParentRelativeRectToViewportRelativeRect:G3,getDocumentElement:as,getClippingRect:J3,getOffsetParent:OC,getElementRects:r$,getClientRects:K3,getDimensions:e$,getScale:jo,isElement:Pn,isRTL:n$};function LC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function a$(e,t){let r=null,n;const s=as(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const w=Wu(f),p=Wu(s.clientWidth-(d+h)),v=Wu(s.clientHeight-(f+m)),y=Wu(d),b={rootMargin:-w+"px "+-p+"px "+-v+"px "+-y+"px",threshold:Rr(0,Sa(1,c))||1};let j=!0;function N(k){const S=k[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!LC(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return o(!0),i}function i$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=kx(e),d=s||i?[...u?Ac(u):[],...Ac(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?a$(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let w,p=c?bi(e):null;c&&v();function v(){const y=bi(e);p&&!LC(p,y)&&r(),p=y,w=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const o$=F3,l$=z3,c$=O3,u$=U3,d$=L3,Nb=I3,f$=V3,h$=(e,t,r)=>{const n=new Map,s={platform:s$,...r},i={...s.platform,_c:n};return D3(e,t,{...s,platform:i})};var bd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function hf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hf(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!hf(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function $C(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _b(e,t){const r=$C(e);return Math.round(t*r)/r}function Em(e){const t=g.useRef(e);return bd(()=>{t.current=e}),t}function m$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(n);hf(h,n)||m(n);const[w,p]=g.useState(null),[v,y]=g.useState(null),x=g.useCallback(D=>{D!==k.current&&(k.current=D,p(D))},[]),b=g.useCallback(D=>{D!==S.current&&(S.current=D,y(D))},[]),j=i||w,N=o||v,k=g.useRef(null),S=g.useRef(null),E=g.useRef(d),P=c!=null,C=Em(c),A=Em(s),M=Em(u),R=g.useCallback(()=>{if(!k.current||!S.current)return;const D={placement:t,strategy:r,middleware:h};A.current&&(D.platform=A.current),h$(k.current,S.current,D).then(I=>{const G={...I,isPositioned:M.current!==!1};L.current&&!hf(E.current,G)&&(E.current=G,tl.flushSync(()=>{f(G)}))})},[h,t,r,A,M]);bd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const L=g.useRef(!1);bd(()=>(L.current=!0,()=>{L.current=!1}),[]),bd(()=>{if(j&&(k.current=j),N&&(S.current=N),j&&N){if(C.current)return C.current(j,N,R);R()}},[j,N,R,C,P]);const U=g.useMemo(()=>({reference:k,floating:S,setReference:x,setFloating:b}),[x,b]),V=g.useMemo(()=>({reference:j,floating:N}),[j,N]),z=g.useMemo(()=>{const D={position:r,left:0,top:0};if(!V.floating)return D;const I=_b(V.floating,d.x),G=_b(V.floating,d.y);return l?{...D,transform:"translate("+I+"px, "+G+"px)",...$C(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:G}},[r,l,V.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:R,refs:U,elements:V,floatingStyles:z}),[d,R,U,V,z])}const p$=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Nb({element:n.current,padding:s}).fn(r):{}:n?Nb({element:n,padding:s}).fn(r):{}}}},g$=(e,t)=>({...o$(e),options:[e,t]}),v$=(e,t)=>({...l$(e),options:[e,t]}),x$=(e,t)=>({...f$(e),options:[e,t]}),y$=(e,t)=>({...c$(e),options:[e,t]}),w$=(e,t)=>({...u$(e),options:[e,t]}),b$=(e,t)=>({...d$(e),options:[e,t]}),j$=(e,t)=>({...p$(e),options:[e,t]});var N$="Arrow",FC=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Me.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});FC.displayName=N$;var _$=FC;function Tx(e){const[t,r]=g.useState(void 0);return bt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ax="Popper",[zC,ph]=an(Ax),[S$,VC]=zC(Ax),UC=e=>{const{__scopePopper:t,children:r}=e,[n,s]=g.useState(null);return a.jsx(S$,{scope:t,anchor:n,onAnchorChange:s,children:r})};UC.displayName=Ax;var BC="PopperAnchor",WC=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=VC(BC,r),o=g.useRef(null),l=Le(t,o);return g.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Me.div,{...s,ref:l})});WC.displayName=BC;var Rx="PopperContent",[C$,E$]=zC(Rx),qC=g.forwardRef((e,t)=>{var le,me,Pe,Ee,Ie,ke;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:w,...p}=e,v=VC(Rx,r),[y,x]=g.useState(null),b=Le(t,Vt=>x(Vt)),[j,N]=g.useState(null),k=Tx(j),S=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,P=n+(i!=="center"?"-"+i:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],M=A.length>0,R={padding:C,boundary:A.filter(P$),altBoundary:M},{refs:L,floatingStyles:U,placement:V,isPositioned:z,middlewareData:D}=m$({strategy:"fixed",placement:P,whileElementsMounted:(...Vt)=>i$(...Vt,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[g$({mainAxis:s+E,alignmentAxis:o}),c&&v$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?x$():void 0,...R}),c&&y$({...R}),w$({...R,apply:({elements:Vt,rects:Ut,availableWidth:Rn,availableHeight:Mn})=>{const{width:Pr,height:ml}=Ut.reference,Bt=Vt.floating.style;Bt.setProperty("--radix-popper-available-width",`${Rn}px`),Bt.setProperty("--radix-popper-available-height",`${Mn}px`),Bt.setProperty("--radix-popper-anchor-width",`${Pr}px`),Bt.setProperty("--radix-popper-anchor-height",`${ml}px`)}}),j&&j$({element:j,padding:l}),T$({arrowWidth:S,arrowHeight:E}),h&&b$({strategy:"referenceHidden",...R})]}),[I,G]=KC(V),oe=Fr(w);bt(()=>{z&&(oe==null||oe())},[z,oe]);const we=(le=D.arrow)==null?void 0:le.x,pe=(me=D.arrow)==null?void 0:me.y,be=((Pe=D.arrow)==null?void 0:Pe.centerOffset)!==0,[Se,De]=g.useState();return bt(()=>{y&&De(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:z?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(Ee=D.transformOrigin)==null?void 0:Ee.x,(Ie=D.transformOrigin)==null?void 0:Ie.y].join(" "),...((ke=D.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(C$,{scope:r,placedSide:I,onArrowChange:N,arrowX:we,arrowY:pe,shouldHideArrow:be,children:a.jsx(Me.div,{"data-side":I,"data-align":G,...p,ref:b,style:{...p.style,animation:z?void 0:"none"}})})})});qC.displayName=Rx;var HC="PopperArrow",k$={top:"bottom",right:"left",bottom:"top",left:"right"},GC=g.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=E$(HC,n),o=k$[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(_$,{...s,ref:r,style:{...s.style,display:"block"}})})});GC.displayName=HC;function P$(e){return e!==null}var T$=e=>({name:"transformOrigin",options:e,fn(t){var v,y,x;const{placement:r,rects:n,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=KC(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let w="",p="";return u==="bottom"?(w=o?f:`${h}px`,p=`${-c}px`):u==="top"?(w=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(w=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:w,y:p}}}});function KC(e){const[t,r="center"]=e.split("-");return[t,r]}var ZC=UC,YC=WC,XC=qC,QC=GC,A$="Portal",gh=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=g.useState(!1);bt(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?cS.createPortal(a.jsx(Me.div,{...n,ref:t}),o):null});gh.displayName=A$;function R$(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var Ds=e=>{const{present:t,children:r}=e,n=M$(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Le(n.ref,D$(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};Ds.displayName="Presence";function M$(e){const[t,r]=g.useState(),n=g.useRef({}),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=R$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=qu(n.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=qu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=qu(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=qu(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function qu(e){return(e==null?void 0:e.animationName)||"none"}function D$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var km="rovingFocusGroup.onEntryFocus",I$={bubbles:!1,cancelable:!0},vh="RovingFocusGroup",[yg,JC,O$]=bx(vh),[L$,xh]=an(vh,[O$]),[$$,F$]=L$(vh),eE=g.forwardRef((e,t)=>a.jsx(yg.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(yg.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(z$,{...e,ref:t})})}));eE.displayName=vh;var z$=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=g.useRef(null),m=Le(t,h),w=ch(i),[p=null,v]=qo({prop:o,defaultProp:l,onChange:c}),[y,x]=g.useState(!1),b=Fr(u),j=JC(r),N=g.useRef(!1),[k,S]=g.useState(0);return g.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(km,b),()=>E.removeEventListener(km,b)},[b]),a.jsx($$,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:p,onItemFocus:g.useCallback(E=>v(E),[v]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>S(E=>E-1),[]),children:a.jsx(Me.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{N.current=!0}),onFocus:he(e.onFocus,E=>{const P=!N.current;if(E.target===E.currentTarget&&P&&!y){const C=new CustomEvent(km,I$);if(E.currentTarget.dispatchEvent(C),!C.defaultPrevented){const A=j().filter(V=>V.focusable),M=A.find(V=>V.active),R=A.find(V=>V.id===p),U=[M,R,...A].filter(Boolean).map(V=>V.ref.current);nE(U,d)}}N.current=!1}),onBlur:he(e.onBlur,()=>x(!1))})})}),tE="RovingFocusGroupItem",rE=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=Yn(),c=i||l,u=F$(tE,r),d=u.currentTabStopId===c,f=JC(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),a.jsx(yg.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(Me.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:he(e.onMouseDown,w=>{n?u.onItemFocus(c):w.preventDefault()}),onFocus:he(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:he(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=B$(w,u.orientation,u.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=f().filter(x=>x.focusable).map(x=>x.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const x=y.indexOf(w.currentTarget);y=u.loop?W$(y,x+1):y.slice(x+1)}setTimeout(()=>nE(y))}})})})});rE.displayName=tE;var V$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function U$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function B$(e,t,r){const n=U$(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return V$[n]}function nE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function W$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sE=eE,aE=rE,q$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vi=new WeakMap,Hu=new WeakMap,Gu={},Pm=0,iE=function(e){return e&&(e.host||iE(e.parentNode))},H$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=iE(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},G$=function(e,t,r,n){var s=H$(t,Array.isArray(e)?e:[e]);Gu[r]||(Gu[r]=new WeakMap);var i=Gu[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),w=m!==null&&m!=="false",p=(Vi.get(h)||0)+1,v=(i.get(h)||0)+1;Vi.set(h,p),i.set(h,v),o.push(h),p===1&&w&&Hu.set(h,!0),v===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Pm++,function(){o.forEach(function(f){var h=Vi.get(f)-1,m=i.get(f)-1;Vi.set(f,h),i.set(f,m),h||(Hu.has(f)||f.removeAttribute(n),Hu.delete(f)),m||f.removeAttribute(r)}),Pm--,Pm||(Vi=new WeakMap,Vi=new WeakMap,Hu=new WeakMap,Gu={})}},Mx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=q$(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),G$(n,s,r,"aria-hidden")):function(){return null}},Bn=function(){return Bn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Bn.apply(this,arguments)};function oE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function K$(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var jd="right-scroll-bar-position",Nd="width-before-scroll-bar",Z$="with-scroll-bars-hidden",Y$="--removed-body-scroll-bar-size";function Tm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function X$(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Q$=typeof window<"u"?g.useLayoutEffect:g.useEffect,Sb=new WeakMap;function J$(e,t){var r=X$(null,function(n){return e.forEach(function(s){return Tm(s,n)})});return Q$(function(){var n=Sb.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Tm(l,null)}),i.forEach(function(l){s.has(l)||Tm(l,o)})}Sb.set(r,e)},[e]),r}function eF(e){return e}function tF(e,t){t===void 0&&(t=eF);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function rF(e){e===void 0&&(e={});var t=tF(null);return t.options=Bn({async:!0,ssr:!1},e),t}var lE=function(e){var t=e.sideCar,r=oE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Bn({},r))};lE.isSideCarExport=!0;function nF(e,t){return e.useMedium(t),lE}var cE=rF(),Am=function(){},yh=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:Am,onWheelCapture:Am,onTouchMoveCapture:Am}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,w=e.inert,p=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,x=e.gapMode,b=oE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=J$([r,t]),k=Bn(Bn({},b),s);return g.createElement(g.Fragment,null,d&&g.createElement(j,{sideCar:cE,removeScrollBar:u,shards:f,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:x}),o?g.cloneElement(g.Children.only(l),Bn(Bn({},k),{ref:N})):g.createElement(y,Bn({},k,{className:c,ref:N}),l))});yh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yh.classNames={fullWidth:Nd,zeroRight:jd};var sF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sF();return t&&e.setAttribute("nonce",t),e}function iF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lF=function(){var e=0,t=null;return{add:function(r){e==0&&(t=aF())&&(iF(t,r),oF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cF=function(){var e=lF();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uE=function(){var e=cF(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},uF={left:0,top:0,right:0,gap:0},Rm=function(e){return parseInt(e||"",10)||0},dF=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Rm(r),Rm(n),Rm(s)]},fF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uF;var t=dF(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},hF=uE(),No="data-scroll-locked",mF=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Z$,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(No,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jd,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(jd," .").concat(jd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(No,`] {
    `).concat(Y$,": ").concat(l,`px;
  }
`)},Cb=function(){var e=parseInt(document.body.getAttribute(No)||"0",10);return isFinite(e)?e:0},pF=function(){g.useEffect(function(){return document.body.setAttribute(No,(Cb()+1).toString()),function(){var e=Cb()-1;e<=0?document.body.removeAttribute(No):document.body.setAttribute(No,e.toString())}},[])},gF=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;pF();var i=g.useMemo(function(){return fF(s)},[s]);return g.createElement(hF,{styles:mF(i,!t,s,r?"":"!important")})},wg=!1;if(typeof window<"u")try{var Ku=Object.defineProperty({},"passive",{get:function(){return wg=!0,!0}});window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{wg=!1}var Ui=wg?{passive:!1}:!1,vF=function(e){return e.tagName==="TEXTAREA"},dE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!vF(e)&&r[t]==="visible")},xF=function(e){return dE(e,"overflowY")},yF=function(e){return dE(e,"overflowX")},Eb=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=fE(e,n);if(s){var i=hE(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},wF=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},bF=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fE=function(e,t){return e==="v"?xF(t):yF(t)},hE=function(e,t){return e==="v"?wF(t):bF(t)},jF=function(e,t){return e==="h"&&t==="rtl"?-1:1},NF=function(e,t,r,n,s){var i=jF(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=hE(e,l),w=m[0],p=m[1],v=m[2],y=p-v-i*w;(w||y)&&fE(e,l)&&(f+=y,h+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Zu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kb=function(e){return[e.deltaX,e.deltaY]},Pb=function(e){return e&&"current"in e?e.current:e},_F=function(e,t){return e[0]===t[0]&&e[1]===t[1]},SF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},CF=0,Bi=[];function EF(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),s=g.useState(CF++)[0],i=g.useState(uE)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=K$([e.lockRef.current],(e.shards||[]).map(Pb),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=Zu(p),x=r.current,b="deltaX"in p?p.deltaX:x[0]-y[0],j="deltaY"in p?p.deltaY:x[1]-y[1],N,k=p.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in p&&S==="h"&&k.type==="range")return!1;var E=Eb(S,k);if(!E)return!0;if(E?N=S:(N=S==="v"?"h":"v",E=Eb(S,k)),!E)return!1;if(!n.current&&"changedTouches"in p&&(b||j)&&(n.current=N),!N)return!0;var P=n.current||N;return NF(P,v,p,P==="h"?b:j)},[]),c=g.useCallback(function(p){var v=p;if(!(!Bi.length||Bi[Bi.length-1]!==i)){var y="deltaY"in v?kb(v):Zu(v),x=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&_F(N.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(Pb).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=b.length>0?l(v,b[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=g.useCallback(function(p,v,y,x){var b={name:p,delta:v,target:y,should:x,shadowParent:kF(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=g.useCallback(function(p){r.current=Zu(p),n.current=void 0},[]),f=g.useCallback(function(p){u(p.type,kb(p),p.target,l(p,e.lockRef.current))},[]),h=g.useCallback(function(p){u(p.type,Zu(p),p.target,l(p,e.lockRef.current))},[]);g.useEffect(function(){return Bi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ui),document.addEventListener("touchmove",c,Ui),document.addEventListener("touchstart",d,Ui),function(){Bi=Bi.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Ui),document.removeEventListener("touchmove",c,Ui),document.removeEventListener("touchstart",d,Ui)}},[]);var m=e.removeScrollBar,w=e.inert;return g.createElement(g.Fragment,null,w?g.createElement(i,{styles:SF(s)}):null,m?g.createElement(gF,{gapMode:e.gapMode}):null)}function kF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PF=nF(cE,EF);var wh=g.forwardRef(function(e,t){return g.createElement(yh,Bn({},e,{ref:t,sideCar:PF}))});wh.classNames=yh.classNames;var bg=["Enter"," "],TF=["ArrowDown","PageUp","Home"],mE=["ArrowUp","PageDown","End"],AF=[...TF,...mE],RF={ltr:[...bg,"ArrowRight"],rtl:[...bg,"ArrowLeft"]},MF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nu="Menu",[Rc,DF,IF]=bx(nu),[Pi,pE]=an(nu,[IF,ph,xh]),bh=ph(),gE=xh(),[OF,Ti]=Pi(nu),[LF,su]=Pi(nu),vE=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=bh(t),[c,u]=g.useState(null),d=g.useRef(!1),f=Fr(i),h=ch(s);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(ZC,{...l,children:a.jsx(OF,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(LF,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};vE.displayName=nu;var $F="MenuAnchor",Dx=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=bh(r);return a.jsx(YC,{...s,...n,ref:t})});Dx.displayName=$F;var Ix="MenuPortal",[FF,xE]=Pi(Ix,{forceMount:void 0}),yE=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Ti(Ix,t);return a.jsx(FF,{scope:t,forceMount:r,children:a.jsx(Ds,{present:r||i.open,children:a.jsx(gh,{asChild:!0,container:s,children:n})})})};yE.displayName=Ix;var Jr="MenuContent",[zF,Ox]=Pi(Jr),wE=g.forwardRef((e,t)=>{const r=xE(Jr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ti(Jr,e.__scopeMenu),o=su(Jr,e.__scopeMenu);return a.jsx(Rc.Provider,{scope:e.__scopeMenu,children:a.jsx(Ds,{present:n||i.open,children:a.jsx(Rc.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(VF,{...s,ref:t}):a.jsx(UF,{...s,ref:t})})})})}),VF=g.forwardRef((e,t)=>{const r=Ti(Jr,e.__scopeMenu),n=g.useRef(null),s=Le(t,n);return g.useEffect(()=>{const i=n.current;if(i)return Mx(i)},[]),a.jsx(Lx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),UF=g.forwardRef((e,t)=>{const r=Ti(Jr,e.__scopeMenu);return a.jsx(Lx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),BF=Ho("MenuContent.ScrollLock"),Lx=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:w,...p}=e,v=Ti(Jr,r),y=su(Jr,r),x=bh(r),b=gE(r),j=DF(r),[N,k]=g.useState(null),S=g.useRef(null),E=Le(t,S,v.onContentChange),P=g.useRef(0),C=g.useRef(""),A=g.useRef(0),M=g.useRef(null),R=g.useRef("right"),L=g.useRef(0),U=w?wh:g.Fragment,V=w?{as:BF,allowPinchZoom:!0}:void 0,z=I=>{var le,me;const G=C.current+I,oe=j().filter(Pe=>!Pe.disabled),we=document.activeElement,pe=(le=oe.find(Pe=>Pe.ref.current===we))==null?void 0:le.textValue,be=oe.map(Pe=>Pe.textValue),Se=tz(be,G,pe),De=(me=oe.find(Pe=>Pe.textValue===Se))==null?void 0:me.ref.current;(function Pe(Ee){C.current=Ee,window.clearTimeout(P.current),Ee!==""&&(P.current=window.setTimeout(()=>Pe(""),1e3))})(G),De&&setTimeout(()=>De.focus())};g.useEffect(()=>()=>window.clearTimeout(P.current),[]),jx();const D=g.useCallback(I=>{var oe,we;return R.current===((oe=M.current)==null?void 0:oe.side)&&nz(I,(we=M.current)==null?void 0:we.area)},[]);return a.jsx(zF,{scope:r,searchRef:C,onItemEnter:g.useCallback(I=>{D(I)&&I.preventDefault()},[D]),onItemLeave:g.useCallback(I=>{var G;D(I)||((G=S.current)==null||G.focus(),k(null))},[D]),onTriggerLeave:g.useCallback(I=>{D(I)&&I.preventDefault()},[D]),pointerGraceTimerRef:A,onPointerGraceIntentChange:g.useCallback(I=>{M.current=I},[]),children:a.jsx(U,{...V,children:a.jsx(dh,{asChild:!0,trapped:s,onMountAutoFocus:he(i,I=>{var G;I.preventDefault(),(G=S.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(uh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(sE,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:he(c,I=>{y.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(XC,{role:"menu","aria-orientation":"vertical","data-state":OE(v.open),"data-radix-menu-content":"",dir:y.dir,...x,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:he(p.onKeyDown,I=>{const oe=I.target.closest("[data-radix-menu-content]")===I.currentTarget,we=I.ctrlKey||I.altKey||I.metaKey,pe=I.key.length===1;oe&&(I.key==="Tab"&&I.preventDefault(),!we&&pe&&z(I.key));const be=S.current;if(I.target!==be||!AF.includes(I.key))return;I.preventDefault();const De=j().filter(le=>!le.disabled).map(le=>le.ref.current);mE.includes(I.key)&&De.reverse(),JF(De)}),onBlur:he(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(P.current),C.current="")}),onPointerMove:he(e.onPointerMove,Mc(I=>{const G=I.target,oe=L.current!==I.clientX;if(I.currentTarget.contains(G)&&oe){const we=I.clientX>L.current?"right":"left";R.current=we,L.current=I.clientX}}))})})})})})})});wE.displayName=Jr;var WF="MenuGroup",$x=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Me.div,{role:"group",...n,ref:t})});$x.displayName=WF;var qF="MenuLabel",bE=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Me.div,{...n,ref:t})});bE.displayName=qF;var mf="MenuItem",Tb="menu.itemSelect",jh=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=g.useRef(null),o=su(mf,e.__scopeMenu),l=Ox(mf,e.__scopeMenu),c=Le(t,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(Tb,{bubbles:!0,cancelable:!0});f.addEventListener(Tb,m=>n==null?void 0:n(m),{once:!0}),SC(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(jE,{...s,ref:c,disabled:r,onClick:he(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:he(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:he(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||bg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jh.displayName=mf;var jE=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=Ox(mf,r),l=gE(r),c=g.useRef(null),u=Le(t,c),[d,f]=g.useState(!1),[h,m]=g.useState("");return g.useEffect(()=>{const w=c.current;w&&m((w.textContent??"").trim())},[i.children]),a.jsx(Rc.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(aE,{asChild:!0,...l,focusable:!n,children:a.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:he(e.onPointerMove,Mc(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(e.onPointerLeave,Mc(w=>o.onItemLeave(w))),onFocus:he(e.onFocus,()=>f(!0)),onBlur:he(e.onBlur,()=>f(!1))})})})}),HF="MenuCheckboxItem",NE=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(kE,{scope:e.__scopeMenu,checked:r,children:a.jsx(jh,{role:"menuitemcheckbox","aria-checked":pf(r)?"mixed":r,...s,ref:t,"data-state":zx(r),onSelect:he(s.onSelect,()=>n==null?void 0:n(pf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});NE.displayName=HF;var _E="MenuRadioGroup",[GF,KF]=Pi(_E,{value:void 0,onValueChange:()=>{}}),SE=g.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Fr(n);return a.jsx(GF,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx($x,{...s,ref:t})})});SE.displayName=_E;var CE="MenuRadioItem",EE=g.forwardRef((e,t)=>{const{value:r,...n}=e,s=KF(CE,e.__scopeMenu),i=r===s.value;return a.jsx(kE,{scope:e.__scopeMenu,checked:i,children:a.jsx(jh,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":zx(i),onSelect:he(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});EE.displayName=CE;var Fx="MenuItemIndicator",[kE,ZF]=Pi(Fx,{checked:!1}),PE=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=ZF(Fx,r);return a.jsx(Ds,{present:n||pf(i.checked)||i.checked===!0,children:a.jsx(Me.span,{...s,ref:t,"data-state":zx(i.checked)})})});PE.displayName=Fx;var YF="MenuSeparator",TE=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});TE.displayName=YF;var XF="MenuArrow",AE=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=bh(r);return a.jsx(QC,{...s,...n,ref:t})});AE.displayName=XF;var QF="MenuSub",[XY,RE]=Pi(QF),zl="MenuSubTrigger",ME=g.forwardRef((e,t)=>{const r=Ti(zl,e.__scopeMenu),n=su(zl,e.__scopeMenu),s=RE(zl,e.__scopeMenu),i=Ox(zl,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Dx,{asChild:!0,...u,children:a.jsx(jE,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":OE(r.open),...e,ref:tu(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:he(e.onPointerMove,Mc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:he(e.onPointerLeave,Mc(f=>{var m,w;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(w=r.content)==null?void 0:w.dataset.side,v=p==="right",y=v?-5:5,x=h[v?"left":"right"],b=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:he(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||RF[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});ME.displayName=zl;var DE="MenuSubContent",IE=g.forwardRef((e,t)=>{const r=xE(Jr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ti(Jr,e.__scopeMenu),o=su(Jr,e.__scopeMenu),l=RE(DE,e.__scopeMenu),c=g.useRef(null),u=Le(t,c);return a.jsx(Rc.Provider,{scope:e.__scopeMenu,children:a.jsx(Ds,{present:n||i.open,children:a.jsx(Rc.Slot,{scope:e.__scopeMenu,children:a.jsx(Lx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:he(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:he(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=MF[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});IE.displayName=DE;function OE(e){return e?"open":"closed"}function pf(e){return e==="indeterminate"}function zx(e){return pf(e)?"indeterminate":e?"checked":"unchecked"}function JF(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function ez(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function tz(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=ez(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function rz(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function nz(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return rz(r,t)}function Mc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var sz=vE,az=Dx,iz=yE,oz=wE,lz=$x,cz=bE,uz=jh,dz=NE,fz=SE,hz=EE,mz=PE,pz=TE,gz=AE,vz=ME,xz=IE,Vx="DropdownMenu",[yz,QY]=an(Vx,[pE]),vr=pE(),[wz,LE]=yz(Vx),$E=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=vr(t),u=g.useRef(null),[d=!1,f]=qo({prop:s,defaultProp:i,onChange:o});return a.jsx(wz,{scope:t,triggerId:Yn(),triggerRef:u,contentId:Yn(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(sz,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};$E.displayName=Vx;var FE="DropdownMenuTrigger",zE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=LE(FE,r),o=vr(r);return a.jsx(az,{asChild:!0,...o,children:a.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:tu(t,i.triggerRef),onPointerDown:he(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:he(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});zE.displayName=FE;var bz="DropdownMenuPortal",VE=e=>{const{__scopeDropdownMenu:t,...r}=e,n=vr(t);return a.jsx(iz,{...n,...r})};VE.displayName=bz;var UE="DropdownMenuContent",BE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=LE(UE,r),i=vr(r),o=g.useRef(!1);return a.jsx(oz,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:he(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:he(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BE.displayName=UE;var jz="DropdownMenuGroup",Nz=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(lz,{...s,...n,ref:t})});Nz.displayName=jz;var _z="DropdownMenuLabel",WE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(cz,{...s,...n,ref:t})});WE.displayName=_z;var Sz="DropdownMenuItem",qE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(uz,{...s,...n,ref:t})});qE.displayName=Sz;var Cz="DropdownMenuCheckboxItem",HE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(dz,{...s,...n,ref:t})});HE.displayName=Cz;var Ez="DropdownMenuRadioGroup",kz=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(fz,{...s,...n,ref:t})});kz.displayName=Ez;var Pz="DropdownMenuRadioItem",GE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(hz,{...s,...n,ref:t})});GE.displayName=Pz;var Tz="DropdownMenuItemIndicator",KE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(mz,{...s,...n,ref:t})});KE.displayName=Tz;var Az="DropdownMenuSeparator",ZE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(pz,{...s,...n,ref:t})});ZE.displayName=Az;var Rz="DropdownMenuArrow",Mz=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(gz,{...s,...n,ref:t})});Mz.displayName=Rz;var Dz="DropdownMenuSubTrigger",YE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(vz,{...s,...n,ref:t})});YE.displayName=Dz;var Iz="DropdownMenuSubContent",XE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vr(r);return a.jsx(xz,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XE.displayName=Iz;var Oz=$E,Lz=zE,$z=VE,QE=BE,JE=WE,ek=qE,tk=HE,rk=GE,nk=KE,sk=ZE,ak=YE,ik=XE;const jg=Oz,Ng=Lz,Fz=g.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(ak,{ref:s,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(ug,{className:"ml-auto h-4 w-4"})]}));Fz.displayName=ak.displayName;const zz=g.forwardRef(({className:e,...t},r)=>a.jsx(ik,{ref:r,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));zz.displayName=ik.displayName;const gf=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx($z,{children:a.jsx(QE,{ref:n,sideOffset:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));gf.displayName=QE.displayName;const da=g.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(ek,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));da.displayName=ek.displayName;const Vz=g.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(tk,{ref:s,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nk,{children:a.jsx(Xt,{className:"h-4 w-4"})})}),t]}));Vz.displayName=tk.displayName;const Uz=g.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(rk,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nk,{children:a.jsx(FL,{className:"h-2 w-2 fill-current"})})}),t]}));Uz.displayName=rk.displayName;const ok=g.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(JE,{ref:n,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));ok.displayName=JE.displayName;const lk=g.forwardRef(({className:e,...t},r)=>a.jsx(sk,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));lk.displayName=sk.displayName;var Bz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],on=Bz.reduce((e,t)=>{const r=_C(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ck={exports:{}},uk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=g;function Wz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qz=typeof Object.is=="function"?Object.is:Wz,Hz=Ko.useState,Gz=Ko.useEffect,Kz=Ko.useLayoutEffect,Zz=Ko.useDebugValue;function Yz(e,t){var r=t(),n=Hz({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return Kz(function(){s.value=r,s.getSnapshot=t,Mm(s)&&i({inst:s})},[e,r,t]),Gz(function(){return Mm(s)&&i({inst:s}),e(function(){Mm(s)&&i({inst:s})})},[e]),Zz(r),r}function Mm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qz(e,r)}catch{return!0}}function Xz(e,t){return t()}var Qz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xz:Yz;uk.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:Qz;ck.exports=uk;var Jz=ck.exports;function e6(){return Jz.useSyncExternalStore(t6,()=>!0,()=>!1)}function t6(){return()=>{}}var Ux="Avatar",[r6,JY]=an(Ux),[n6,dk]=r6(Ux),fk=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=g.useState("idle");return a.jsx(n6,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(on.span,{...n,ref:t})})});fk.displayName=Ux;var hk="AvatarImage",mk=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=dk(hk,r),l=s6(n,i),c=Fr(u=>{s(u),o.onImageLoadingStatusChange(u)});return bt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(on.img,{...i,ref:t,src:n}):null});mk.displayName=hk;var pk="AvatarFallback",gk=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=dk(pk,r),[o,l]=g.useState(n===void 0);return g.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(on.span,{...s,ref:t}):null});gk.displayName=pk;function Ab(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function s6(e,{referrerPolicy:t,crossOrigin:r}){const n=e6(),s=g.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=g.useState(()=>Ab(i,e));return bt(()=>{l(Ab(i,e))},[i,e]),bt(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var vk=fk,xk=mk,yk=gk;const Bx=g.forwardRef(({className:e,...t},r)=>a.jsx(vk,{ref:r,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Bx.displayName=vk.displayName;const Wx=g.forwardRef(({className:e,...t},r)=>a.jsx(xk,{ref:r,className:re("aspect-square h-full w-full",e),...t}));Wx.displayName=xk.displayName;const qx=g.forwardRef(({className:e,...t},r)=>a.jsx(yk,{ref:r,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));qx.displayName=yk.displayName;function a6({title:e,onMenuClick:t}){var u,d;const{user:r,profile:n,signOut:s}=qe(),{theme:i,setTheme:o}=sh(),l=async()=>{await s()},c=f=>f.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2);return a.jsx("header",{className:"sticky top-0 z-40 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(B,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:t,children:[a.jsx(JL,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Abrir menú"})]}),a.jsx("h1",{className:"text-xl font-semibold",children:e})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(jg,{children:[a.jsx(Ng,{asChild:!0,children:a.jsxs(B,{variant:"ghost",size:"icon",children:[a.jsx(tb,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(Jw,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Cambiar tema"})]})}),a.jsxs(gf,{align:"end",children:[a.jsxs(da,{onClick:()=>o("light"),children:[a.jsx(tb,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Claro"})]}),a.jsxs(da,{onClick:()=>o("dark"),children:[a.jsx(Jw,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Oscuro"})]}),a.jsxs(da,{onClick:()=>o("system"),children:[a.jsx(KL,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Sistema"})]})]})]}),a.jsxs(B,{variant:"ghost",size:"icon",children:[a.jsx(ys,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Notificaciones"})]}),a.jsxs(jg,{children:[a.jsx(Ng,{asChild:!0,children:a.jsx(B,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:a.jsxs(Bx,{className:"h-8 w-8",children:[a.jsx(Wx,{src:n==null?void 0:n.avatar_url,alt:(n==null?void 0:n.full_name)||(r==null?void 0:r.email)||""}),a.jsx(qx,{children:n!=null&&n.full_name?c(n.full_name):((d=(u=r==null?void 0:r.email)==null?void 0:u[0])==null?void 0:d.toUpperCase())||"U"})]})})}),a.jsxs(gf,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(ok,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:(n==null?void 0:n.full_name)||"Usuario"}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:r==null?void 0:r.email})]})}),a.jsx(lk,{}),a.jsx(da,{onClick:l,children:"Cerrar sesión"})]})]})]})]})})}var Hx="Dialog",[wk,eX]=an(Hx),[i6,An]=wk(Hx),bk=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u=!1,d]=qo({prop:n,defaultProp:s,onChange:i});return a.jsx(i6,{scope:t,triggerRef:l,contentRef:c,contentId:Yn(),titleId:Yn(),descriptionId:Yn(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};bk.displayName=Hx;var jk="DialogTrigger",o6=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=An(jk,r),i=Le(t,s.triggerRef);return a.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zx(s.open),...n,ref:i,onClick:he(e.onClick,s.onOpenToggle)})});o6.displayName=jk;var Gx="DialogPortal",[l6,Nk]=wk(Gx,{forceMount:void 0}),_k=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=An(Gx,t);return a.jsx(l6,{scope:t,forceMount:r,children:g.Children.map(n,o=>a.jsx(Ds,{present:r||i.open,children:a.jsx(gh,{asChild:!0,container:s,children:o})}))})};_k.displayName=Gx;var vf="DialogOverlay",Sk=g.forwardRef((e,t)=>{const r=Nk(vf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=An(vf,e.__scopeDialog);return i.modal?a.jsx(Ds,{present:n||i.open,children:a.jsx(u6,{...s,ref:t})}):null});Sk.displayName=vf;var c6=Ho("DialogOverlay.RemoveScroll"),u6=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=An(vf,r);return a.jsx(wh,{as:c6,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Me.div,{"data-state":Zx(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ji="DialogContent",Ck=g.forwardRef((e,t)=>{const r=Nk(ji,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=An(ji,e.__scopeDialog);return a.jsx(Ds,{present:n||i.open,children:i.modal?a.jsx(d6,{...s,ref:t}):a.jsx(f6,{...s,ref:t})})});Ck.displayName=ji;var d6=g.forwardRef((e,t)=>{const r=An(ji,e.__scopeDialog),n=g.useRef(null),s=Le(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return Mx(i)},[]),a.jsx(Ek,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault())})}),f6=g.forwardRef((e,t)=>{const r=An(ji,e.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return a.jsx(Ek,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Ek=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=An(ji,r),c=g.useRef(null),u=Le(t,c);return jx(),a.jsxs(a.Fragment,{children:[a.jsx(dh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(uh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Zx(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(h6,{titleId:l.titleId}),a.jsx(p6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Kx="DialogTitle",kk=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=An(Kx,r);return a.jsx(Me.h2,{id:s.titleId,...n,ref:t})});kk.displayName=Kx;var Pk="DialogDescription",Tk=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=An(Pk,r);return a.jsx(Me.p,{id:s.descriptionId,...n,ref:t})});Tk.displayName=Pk;var Ak="DialogClose",Rk=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=An(Ak,r);return a.jsx(Me.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>s.onOpenChange(!1))})});Rk.displayName=Ak;function Zx(e){return e?"open":"closed"}var Mk="DialogTitleWarning",[tX,Dk]=J5(Mk,{contentName:ji,titleName:Kx,docsSlug:"dialog"}),h6=({titleId:e})=>{const t=Dk(Mk),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},m6="DialogDescriptionWarning",p6=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dk(m6).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},g6=bk,v6=_k,Ik=Sk,Ok=Ck,Lk=kk,$k=Tk,x6=Rk;const Yx=g6,y6=v6,Fk=g.forwardRef(({className:e,...t},r)=>a.jsx(Ik,{ref:r,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Fk.displayName=Ik.displayName;const Nh=g.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(y6,{children:[a.jsx(Fk,{}),a.jsxs(Ok,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(x6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(eu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nh.displayName=Ok.displayName;const _h=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_h.displayName="DialogHeader";const Sh=g.forwardRef(({className:e,...t},r)=>a.jsx(Lk,{ref:r,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));Sh.displayName=Lk.displayName;const Xx=g.forwardRef(({className:e,...t},r)=>a.jsx($k,{ref:r,className:re("text-sm text-muted-foreground",e),...t}));Xx.displayName=$k.displayName;const w6=[{name:"Dashboard",href:"/app/dashboard",icon:cC},{name:"Calendario",href:"/app/calendar",icon:Pt},{name:"Historial",href:"/app/history",icon:lf}],b6=[{name:"Perfil",href:"/app/settings/profile",icon:oo},{name:"Suscripción",href:"/app/settings/subscription",icon:of}];function j6({open:e,onOpenChange:t}){const r=sn(),{profile:n,isPro:s}=qe(),{isTrialActive:i,getTrialDaysLeft:o,isProPlan:l}=Ms(),c=d=>r.pathname===d,u=()=>{t(!1)};return a.jsx(Yx,{open:e,onOpenChange:t,children:a.jsx(Nh,{className:"sm:max-w-[400px] h-[100vh] max-h-[100vh] w-full max-w-full m-0 rounded-none border-0 p-0",children:a.jsxs("div",{className:"flex h-full flex-col bg-card",children:[a.jsxs(_h,{className:"flex flex-row items-center justify-between border-b border-border p-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"h-6 w-6 text-primary"}),a.jsx(Sh,{className:"text-lg font-bold",children:"ConvocatoriasPro"})]}),a.jsx(B,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:a.jsx(eu,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 border-b border-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:l()?"Plan Pro":"Plan Gratuito"}),i()&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Prueba: ",o()," días restantes"]})]}),a.jsx(K,{variant:s?"default":"secondary",children:s?"PRO":"FREE"})]})}),a.jsx("div",{className:"p-4",children:a.jsx(B,{asChild:!0,className:"w-full",onClick:u,children:a.jsxs(Fe,{to:"/app/convocatorias/new",children:[a.jsx(dC,{className:"mr-2 h-4 w-4"}),"Nueva Convocatoria"]})})}),a.jsx("nav",{className:"flex-1 px-4 py-2",children:a.jsx("ul",{className:"space-y-1",children:w6.map(d=>{const f=c(d.href);return a.jsx("li",{children:a.jsxs(Fe,{to:d.href,onClick:u,className:re("flex items-center gap-3 rounded-md px-3 py-3 text-sm font-medium transition-colors",f?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[a.jsx(d.icon,{className:"h-5 w-5"}),d.name]})},d.name)})})}),a.jsxs("div",{className:"border-t border-border p-4",children:[a.jsx("p",{className:"mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Configuración"}),a.jsx("ul",{className:"space-y-1",children:b6.map(d=>{const f=c(d.href);return a.jsx("li",{children:a.jsxs(Fe,{to:d.href,onClick:u,className:re("flex items-center gap-3 rounded-md px-3 py-3 text-sm font-medium transition-colors",f?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[a.jsx(d.icon,{className:"h-5 w-5"}),d.name]})},d.name)})})]})]})})})}function N6(){const[e,t]=g.useState(!1),r=sn(),n=()=>{switch(r.pathname){case"/app/dashboard":return"Dashboard";case"/app/calendar":return"Calendario";case"/app/history":return"Historial";case"/app/ai-search":return"Búsqueda IA Pro";case"/app/saved-searches":return"Búsquedas Guardadas";case"/app/ai-config":return"Configuración IA";case"/app/settings/profile":return"Perfil";case"/app/settings/subscription":return"Suscripción";case"/app/convocatorias/new":return"Nueva Convocatoria";default:return r.pathname.startsWith("/app/convocatorias/")?"Detalle de Convocatoria":"ConvocatoriasPro"}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Q5,{className:"hidden lg:flex"}),a.jsx(j6,{open:e,onOpenChange:t}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsx(a6,{title:n(),onMenuClick:()=>t(!0)}),a.jsx("main",{className:"p-4 md:p-6 lg:p-8",children:a.jsx("div",{className:"mx-auto max-w-7xl",children:a.jsx(XD,{})})})]})]})}try{self["workbox:window:7.2.0"]&&_()}catch{}function Rb(e,t){return new Promise(function(r){var n=new MessageChannel;n.port1.onmessage=function(s){r(s.data)},e.postMessage(t,[n.port2])})}function _6(e){var t=function(r,n){if(typeof r!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return typeof t=="symbol"?t:t+""}function S6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_6(n.key),n)}}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_g(e,t)}function Mb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C6(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(s,i){if(s){if(typeof s=="string")return Mb(s,i);var o=Object.prototype.toString.call(s).slice(8,-1);return o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set"?Array.from(s):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Mb(s,i):void 0}}(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}try{self["workbox:core:7.2.0"]&&_()}catch{}var Dm=function(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})};function Im(e,t){var r=location.href;return new URL(e,r).href===new URL(t,r).href}var Pl=function(e,t){this.type=e,Object.assign(this,t)};function Vs(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function E6(){}var k6={type:"SKIP_WAITING"};function Db(e,t){return e&&e.then?e.then(E6):Promise.resolve()}var P6=function(e){function t(l,c){var u,d;return c===void 0&&(c={}),(u=e.call(this)||this).nn={},u.tn=0,u.rn=new Dm,u.en=new Dm,u.on=new Dm,u.un=0,u.an=new Set,u.cn=function(){var f=u.fn,h=f.installing;u.tn>0||!Im(h.scriptURL,u.sn.toString())||performance.now()>u.un+6e4?(u.vn=h,f.removeEventListener("updatefound",u.cn)):(u.hn=h,u.an.add(h),u.rn.resolve(h)),++u.tn,h.addEventListener("statechange",u.ln)},u.ln=function(f){var h=u.fn,m=f.target,w=m.state,p=m===u.vn,v={sw:m,isExternal:p,originalEvent:f};!p&&u.mn&&(v.isUpdate=!0),u.dispatchEvent(new Pl(w,v)),w==="installed"?u.wn=self.setTimeout(function(){w==="installed"&&h.waiting===m&&u.dispatchEvent(new Pl("waiting",v))},200):w==="activating"&&(clearTimeout(u.wn),p||u.en.resolve(m))},u.yn=function(f){var h=u.hn,m=h!==navigator.serviceWorker.controller;u.dispatchEvent(new Pl("controlling",{isExternal:m,originalEvent:f,sw:h,isUpdate:u.mn})),m||u.on.resolve(h)},u.gn=(d=function(f){var h=f.data,m=f.ports,w=f.source;return Vs(u.getSW(),function(){u.an.has(w)&&u.dispatchEvent(new Pl("message",{data:h,originalEvent:f,ports:m,sw:w}))})},function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];try{return Promise.resolve(d.apply(this,f))}catch(m){return Promise.reject(m)}}),u.sn=l,u.nn=c,navigator.serviceWorker.addEventListener("message",u.gn),u}var r,n;n=e,(r=t).prototype=Object.create(n.prototype),r.prototype.constructor=r,_g(r,n);var s,i,o=t.prototype;return o.register=function(l){var c=(l===void 0?{}:l).immediate,u=c!==void 0&&c;try{var d=this;return Vs(function(f,h){var m=f();return m&&m.then?m.then(h):h(m)}(function(){if(!u&&document.readyState!=="complete")return Db(new Promise(function(f){return window.addEventListener("load",f)}))},function(){return d.mn=!!navigator.serviceWorker.controller,d.dn=d.pn(),Vs(d.bn(),function(f){d.fn=f,d.dn&&(d.hn=d.dn,d.en.resolve(d.dn),d.on.resolve(d.dn),d.dn.addEventListener("statechange",d.ln,{once:!0}));var h=d.fn.waiting;return h&&Im(h.scriptURL,d.sn.toString())&&(d.hn=h,Promise.resolve().then(function(){d.dispatchEvent(new Pl("waiting",{sw:h,wasWaitingBeforeRegister:!0}))}).then(function(){})),d.hn&&(d.rn.resolve(d.hn),d.an.add(d.hn)),d.fn.addEventListener("updatefound",d.cn),navigator.serviceWorker.addEventListener("controllerchange",d.yn),d.fn})}))}catch(f){return Promise.reject(f)}},o.update=function(){try{return this.fn?Vs(Db(this.fn.update())):Vs()}catch(l){return Promise.reject(l)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(l){try{return Vs(this.getSW(),function(c){return Rb(c,l)})}catch(c){return Promise.reject(c)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Rb(this.fn.waiting,k6)},o.pn=function(){var l=navigator.serviceWorker.controller;return l&&Im(l.scriptURL,this.sn.toString())?l:void 0},o.bn=function(){try{var l=this;return Vs(function(c,u){try{var d=c()}catch(f){return u(f)}return d&&d.then?d.then(void 0,u):d}(function(){return Vs(navigator.serviceWorker.register(l.sn,l.nn),function(c){return l.un=performance.now(),c})},function(c){throw c}))}catch(c){return Promise.reject(c)}},s=t,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&S6(s.prototype,i),Object.defineProperty(s,"prototype",{writable:!1}),s}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(r,n){this.jn(r).add(n)},t.removeEventListener=function(r,n){this.jn(r).delete(n)},t.dispatchEvent=function(r){r.target=this;for(var n,s=C6(this.jn(r.type));!(n=s()).done;)(0,n.value)(r)},t.jn=function(r){return this.Pn.has(r)||this.Pn.set(r,new Set),this.Pn.get(r)},e}());const au=()=>{const[e,t]=g.useState({isInstallable:!1,isInstalled:!1,showInstallPrompt:!1,isUpdateAvailable:!1,isOfflineReady:!1,swRegistration:null,notificationPermission:"default",pushSubscription:null,isOnline:navigator.onLine}),[r,n]=g.useState(null),[s,i]=g.useState(null);g.useEffect(()=>{if("serviceWorker"in navigator){const v=new P6("/sw.js");i(v),v.addEventListener("installed",y=>{y.isUpdate||t(x=>({...x,isOfflineReady:!0}))}),v.addEventListener("waiting",()=>{t(y=>({...y,isUpdateAvailable:!0}))}),v.addEventListener("controlling",()=>{window.location.reload()}),v.register().then(y=>{t(x=>({...x,swRegistration:y}))})}},[]),g.useEffect(()=>{const v=x=>{x.preventDefault(),n(x),t(j=>({...j,isInstallable:!0,showInstallPrompt:!j.isInstalled}))},y=()=>{n(null),t(x=>({...x,isInstalled:!0,isInstallable:!1,showInstallPrompt:!1}))};return window.addEventListener("beforeinstallprompt",v),window.addEventListener("appinstalled",y),window.matchMedia("(display-mode: standalone)").matches&&t(x=>({...x,isInstalled:!0})),()=>{window.removeEventListener("beforeinstallprompt",v),window.removeEventListener("appinstalled",y)}},[]),g.useEffect(()=>{const v=()=>t(x=>({...x,isOnline:!0})),y=()=>t(x=>({...x,isOnline:!1}));return window.addEventListener("online",v),window.addEventListener("offline",y),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",y)}},[]),g.useEffect(()=>{"Notification"in window&&t(v=>({...v,notificationPermission:Notification.permission}))},[]),g.useEffect(()=>{e.swRegistration&&e.swRegistration.pushManager.getSubscription().then(v=>{t(y=>({...y,pushSubscription:v}))}).catch(console.error)},[e.swRegistration]);const o=g.useCallback(async()=>{try{const v=await fetch("/functions/v1/push-notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_vapid_key"})});if(!v.ok)throw new Error("Error obteniendo clave VAPID");return(await v.json()).vapid_public_key||"BPo_NpXq8tqF7hE1B-xkNhxqNveKf_9qd9_7hKQMVPzZ9s4iqLPra49ihRXuYVtZR-pIZqLHiTzEznIprOkKbio"}catch(v){return console.error("Error obteniendo clave VAPID:",v),"BPo_NpXq8tqF7hE1B-xkNhxqNveKf_9qd9_7hKQMVPzZ9s4iqLPra49ihRXuYVtZR-pIZqLHiTzEznIprOkKbio"}},[]),l=g.useCallback(async()=>{if(!r)return!1;try{return await r.prompt(),(await r.userChoice).outcome==="accepted"?(n(null),t(y=>({...y,isInstallable:!1,showInstallPrompt:!1})),!0):!1}catch(v){return console.error("Error al instalar PWA:",v),!1}},[r]),c=g.useCallback(()=>{t(v=>({...v,showInstallPrompt:!1}))},[]),u=g.useCallback(async()=>{if(s)try{await s.messageSkipWaiting(),t(v=>({...v,isUpdateAvailable:!1}))}catch(v){console.error("Error al actualizar SW:",v)}},[s]),d=g.useCallback(()=>{s&&s.messageSkipWaiting()},[s]),f=g.useCallback(async()=>{if(!("Notification"in window))return console.warn("Este navegador no soporta notificaciones"),"denied";const v=await Notification.requestPermission();return t(y=>({...y,notificationPermission:v})),v},[]),h=g.useCallback(async()=>{if(!e.swRegistration||!("pushManager"in e.swRegistration))return console.warn("Push messaging no está soportado"),null;try{const v=await o(),y=await e.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:v});t(j=>({...j,pushSubscription:y}));const x=await fetch("https://wilvxlbiktetduwftqfn.supabase.co/functions/v1/push-notifications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({action:"subscribe",subscription:y,user_id:"temp-user-id"})});if(!x.ok)throw new Error("Error registrando suscripción en el servidor");const b=await x.json();return console.log("Suscripción registrada exitosamente:",b),y}catch(v){return console.error("Error al suscribirse a push:",v),null}},[e.swRegistration,o]),m=g.useCallback(async()=>{if(!e.pushSubscription)return!1;try{return await e.pushSubscription.unsubscribe(),t(y=>({...y,pushSubscription:null})),(await fetch("https://wilvxlbiktetduwftqfn.supabase.co/functions/v1/push-notifications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({action:"unsubscribe",subscription:{endpoint:e.pushSubscription.endpoint}})})).ok||console.warn("Error notificando desuscripción al servidor"),!0}catch(v){return console.error("Error al desuscribirse de push:",v),!1}},[e.pushSubscription]),w=g.useCallback((v,y)=>{e.notificationPermission==="granted"&&new Notification(v,{body:y,icon:"/pwa-192x192.png",badge:"/pwa-192x192.png",tag:"test-notification",renotify:!0})},[e.notificationPermission]),p=g.useCallback(()=>navigator.onLine,[]);return{...e,installPWA:l,dismissInstallPrompt:c,updateSW:u,skipWaiting:d,requestNotificationPermission:f,subscribeToPush:h,unsubscribeFromPush:m,sendTestNotification:w,checkOnlineStatus:p}},T6=({className:e=""})=>{const{showInstallPrompt:t,installPWA:r,dismissInstallPrompt:n}=au();if(!t)return null;const s=async()=>{await r()&&console.log("PWA instalada exitosamente")};return a.jsx("div",{className:`fixed bottom-4 left-4 right-4 z-50 ${e}`,children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg shadow-lg p-4 mx-auto max-w-md",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(fC,{className:"h-6 w-6 text-blue-100"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:"Instalar ConvocatoriasPro"}),a.jsx("p",{className:"text-xs text-blue-100 mt-1",children:"Accede rápidamente desde tu pantalla de inicio y recibe notificaciones."})]})]}),a.jsx("button",{onClick:n,className:"flex-shrink-0 ml-2 text-blue-100 hover:text-white transition-colors","aria-label":"Cerrar banner de instalación",children:a.jsx(eu,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"mt-3 flex space-x-2",children:[a.jsxs("button",{onClick:s,className:"flex-1 bg-white text-blue-700 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-50 transition-colors flex items-center justify-center space-x-1",children:[a.jsx(Or,{className:"h-4 w-4"}),a.jsx("span",{children:"Instalar"})]}),a.jsx("button",{onClick:n,className:"px-3 py-2 text-blue-100 text-sm font-medium hover:text-white transition-colors",children:"Ahora no"})]})]})})},A6=({className:e=""})=>{const{isUpdateAvailable:t,updateSW:r}=au(),[n,s]=q.useState(!1);if(!t)return null;const i=async()=>{s(!0);try{await r()}catch(o){console.error("Error al actualizar:",o)}finally{s(!1)}};return a.jsx("div",{className:`fixed top-4 left-4 right-4 z-50 ${e}`,children:a.jsxs("div",{className:"bg-green-600 text-white rounded-lg shadow-lg p-4 mx-auto max-w-md",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Or,{className:"h-6 w-6 text-green-100"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:"Nueva versión disponible"}),a.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Actualiza para obtener las últimas mejoras y funcionalidades."})]})]}),a.jsx("div",{className:"mt-3",children:a.jsxs("button",{onClick:i,disabled:n,className:"w-full bg-white text-green-700 px-3 py-2 rounded-md text-sm font-medium hover:bg-green-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1",children:[n?a.jsx(oh,{className:"h-4 w-4 animate-spin"}):a.jsx(Or,{className:"h-4 w-4"}),a.jsx("span",{children:n?"Actualizando...":"Actualizar ahora"})]})})]})})},R6=({className:e=""})=>{const{isOnline:t,isOfflineReady:r}=au(),[n,s]=q.useState(!1);return q.useEffect(()=>{if(!t){s(!0);const i=setTimeout(()=>s(!1),5e3);return()=>clearTimeout(i)}},[t]),t?t&&n?a.jsx("div",{className:`fixed top-16 left-4 right-4 z-40 ${e}`,children:a.jsx("div",{className:"bg-green-100 border border-green-200 text-green-800 rounded-lg p-3 mx-auto max-w-md shadow-sm",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(gC,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium",children:"Conexión Restaurada"}),a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Sincronizando datos..."})]}),a.jsx(gx,{className:"h-4 w-4 text-green-600 animate-spin"})]})})}):null:a.jsx("div",{className:`fixed top-16 left-4 right-4 z-40 ${e}`,children:a.jsx("div",{className:"bg-orange-100 border border-orange-200 text-orange-800 rounded-lg p-3 mx-auto max-w-md shadow-sm",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pC,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium",children:"Modo Sin Conexión"}),a.jsx("p",{className:"text-xs text-orange-600 mt-1",children:r?"Puedes seguir usando la aplicación con funcionalidad limitada.":"Funcionalidad limitada disponible."})]}),a.jsx(BL,{className:"h-4 w-4 text-orange-600"})]})})})},M6=({children:e})=>a.jsxs(a.Fragment,{children:[e,a.jsx(R6,{}),a.jsx(A6,{}),a.jsx(T6,{})]}),X=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));X.displayName="Card";const ne=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("flex flex-col space-y-1.5 p-6",e),...t}));ne.displayName="CardHeader";const ie=g.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:re("font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const ge=g.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:re("text-sm text-muted-foreground",e),...t}));ge.displayName="CardDescription";const Q=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("p-6 pt-0",e),...t}));Q.displayName="CardContent";const D6=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("flex items-center p-6 pt-0",e),...t}));D6.displayName="CardFooter";function I6(){const{user:e}=qe(),t=[{icon:a.jsx(dg,{className:"h-6 w-6"}),title:"Ingreso Inteligente",description:"Sube archivos, pega texto o ingresa manualmente. La IA extrae la información automáticamente."},{icon:a.jsx(Pt,{className:"h-6 w-6"}),title:"Calendario Inteligente",description:"Visualiza fechas críticas con colores intuitivos. Nunca pierdas una oportunidad."},{icon:a.jsx(Qr,{className:"h-6 w-6"}),title:"IA Especializada",description:"Agentes de IA que rastrean, validan y recomiendan convocatorias personalizadas."},{icon:a.jsx(ys,{className:"h-6 w-6"}),title:"Alertas Personalizadas",description:"Recordatorios inteligentes para fechas de cierre, resultados y nuevas oportunidades."},{icon:a.jsx(tC,{className:"h-6 w-6"}),title:"Dashboard Completo",description:"Estadisticas, filtros avanzados y seguimiento detallado de todas tus postulaciones."},{icon:a.jsx(ua,{className:"h-6 w-6"}),title:"Seguro y Confiable",description:"Tus datos están protegidos con autenticación segura y backups automáticos."}],r=[{name:"María González",role:"Gestora Cultural",content:"Antes perdía oportunidades por no estar al día. Ahora gestiono 20+ convocatorias sin esfuerzo.",rating:5},{name:"Carlos Rodríguez",role:"Emprendedor Tech",content:"La IA me ahorra horas de trabajo. Solo pego el texto y ConvocatoriasPro organiza todo.",rating:5},{name:"Ana Torres",role:"Investigadora",content:"El rastreo automático es increíble. Me notifica sobre nuevas convocatorias antes que mis colegas.",rating:5}];return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b border-border sticky top-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-50",children:a.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[a.jsxs(Fe,{to:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[a.jsx(mr,{className:"h-8 w-8 text-primary"}),a.jsx("span",{className:"text-xl font-bold",children:"ConvocatoriasPro"})]}),a.jsx("div",{className:"flex items-center gap-4",children:e?a.jsx(B,{asChild:!0,children:a.jsxs(Fe,{to:"/app/dashboard",children:["Ir al Dashboard",a.jsx(di,{className:"ml-2 h-4 w-4"})]})}):a.jsxs(a.Fragment,{children:[a.jsx(B,{variant:"ghost",asChild:!0,children:a.jsx(Fe,{to:"/login",children:"Iniciar Sesión"})}),a.jsx(B,{asChild:!0,children:a.jsx(Fe,{to:"/register",children:"Empezar Gratis"})})]})})]})}),a.jsx("section",{className:"py-20 lg:py-32",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsxs(K,{className:"mb-4",variant:"secondary",children:[a.jsx(kn,{className:"mr-1 h-3 w-3"}),"Potenciado por IA"]}),a.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold mb-6 bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:["Gestiona tus Convocatorias",a.jsx("br",{}),"de Financiamiento con IA"]}),a.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"La plataforma inteligente para emprendedores, investigadores y gestores culturales. Automatiza el seguimiento de CORFO, SERCOTEC, Fondos de Cultura y más."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[a.jsx(B,{size:"lg",asChild:!0,children:a.jsxs(Fe,{to:"/register",children:["Comenzar Gratis",a.jsx(di,{className:"ml-2 h-4 w-4"})]})}),a.jsx(B,{size:"lg",variant:"outline",onClick:()=>{const n=document.getElementById("features");n&&n.scrollIntoView({behavior:"smooth"})},children:"Ver Funciones"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"✨ 3 días de prueba Pro gratis • Sin tarjeta de crédito • Cancela cuando quieras"})]})}),a.jsx("section",{id:"features",className:"py-20 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Todo lo que necesitas para triunfar"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Desde ingreso inteligente hasta rastreo automático, tenemos las herramientas que necesitas para no perder ninguna oportunidad."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,s)=>a.jsxs(X,{className:"h-full",children:[a.jsxs(ne,{children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center text-primary mb-4",children:n.icon}),a.jsx(ie,{className:"text-xl",children:n.title})]}),a.jsx(Q,{children:a.jsx(ge,{className:"text-base leading-relaxed",children:n.description})})]},s))})]})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Lo que dicen nuestros usuarios"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Historias reales de personas que están transformando su gestión de fondos"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:r.map((n,s)=>a.jsx(X,{children:a.jsxs(Q,{className:"p-6",children:[a.jsx("div",{className:"flex mb-4",children:[...Array(n.rating)].map((i,o)=>a.jsx("span",{className:"text-yellow-400 text-lg",children:"★"},o))}),a.jsxs("p",{className:"text-lg mb-4 leading-relaxed",children:['"',n.content,'"']}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:n.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.role})]})]})},s))})]})}),a.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"¿Listo para gestionar tus convocatorias como un pro?"}),a.jsx("p",{className:"text-xl mb-8 opacity-90 max-w-2xl mx-auto",children:"Únete a cientos de emprendedores, investigadores y gestores que ya están aprovechando al máximo las oportunidades de financiamiento."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:a.jsx(B,{size:"lg",variant:"secondary",asChild:!0,children:a.jsxs(Fe,{to:"/register",children:["Empezar Gratis Ahora",a.jsx(di,{className:"ml-2 h-4 w-4"})]})})}),a.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-8 text-sm opacity-80",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"h-4 w-4"}),a.jsx("span",{children:"3 días de prueba gratis"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"h-4 w-4"}),a.jsx("span",{children:"Sin tarjeta de crédito"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"h-4 w-4"}),a.jsx("span",{children:"Cancela cuando quieras"})]})]})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsxs(Fe,{to:"/",className:"flex items-center gap-2 mb-4",children:[a.jsx(mr,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"font-bold text-lg",children:"ConvocatoriasPro"})]}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"La plataforma inteligente para gestionar convocatorias de financiamiento con IA. Nunca pierdas una oportunidad de fondos para tu emprendimiento o proyecto."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Producto"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>{const n=document.getElementById("features");n&&n.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Funcionalidades"})}),a.jsx("li",{children:a.jsx(Fe,{to:"/plans",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Precios"})}),a.jsx("li",{children:a.jsx(Fe,{to:"/register",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Empezar Gratis"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Soporte"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"mailto:soporte@convocatoriaspro.com",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Contacto"})}),a.jsx("li",{children:a.jsx("a",{href:"/terminos",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Términos de Servicio"})}),a.jsx("li",{children:a.jsx("a",{href:"/privacidad",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Política de Privacidad"})})]})]})]}),a.jsxs("div",{className:"border-t border-border mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-4 md:mb-0",children:"© 2025 ConvocatoriasPro. Todos los derechos reservados."}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Hecho con ❤️ para emprendedores e investigadores en Chile"})]})]})})]})}var iu=e=>e.type==="checkbox",ti=e=>e instanceof Date,dr=e=>e==null;const zk=e=>typeof e=="object";var wt=e=>!dr(e)&&!Array.isArray(e)&&zk(e)&&!ti(e),O6=e=>wt(e)&&e.target?iu(e.target)?e.target.checked:e.target.value:e,L6=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$6=(e,t)=>e.has(L6(t)),F6=e=>{const t=e.constructor&&e.constructor.prototype;return wt(t)&&t.hasOwnProperty("isPrototypeOf")},Qx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Qx&&(e instanceof Blob||n))&&(r||wt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!F6(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Lt(e[s]));else return e;return t}var Ch=e=>/^\w*$/.test(e),_t=e=>e===void 0,Jx=e=>Array.isArray(e)?e.filter(Boolean):[],ey=e=>Jx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),de=(e,t,r)=>{if(!t||!wt(e))return r;const n=(Ch(t)?[t]:ey(t)).reduce((s,i)=>dr(s)?s:s[i],e);return _t(n)||n===e?_t(e[t])?r:e[t]:n},$n=e=>typeof e=="boolean",Ge=(e,t,r)=>{let n=-1;const s=Ch(t)?[t]:ey(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=wt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ib={BLUR:"blur",FOCUS_OUT:"focusout"},jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},z6=q.createContext(null);z6.displayName="HookFormContext";var V6=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==jn.all&&(t._proxyFormState[o]=!n||jn.all),e[o]}});return s};const U6=typeof window<"u"?q.useLayoutEffect:q.useEffect;var Hn=e=>typeof e=="string",B6=(e,t,r,n,s)=>Hn(e)?(n&&t.watch.add(e),de(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),de(r,i))):(n&&(t.watchAll=!0),r),Sg=e=>dr(e)||!zk(e);function Qs(e,t,r=new WeakSet){if(Sg(e)||Sg(t))return e===t;if(ti(e)&&ti(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ti(o)&&ti(l)||wt(o)&&wt(l)||Array.isArray(o)&&Array.isArray(l)?!Qs(o,l,r):o!==l)return!1}}return!0}var ty=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},tc=e=>Array.isArray(e)?e:[e],Ob=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},yr=e=>wt(e)&&!Object.keys(e).length,ry=e=>e.type==="file",Nn=e=>typeof e=="function",xf=e=>{if(!Qx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vk=e=>e.type==="select-multiple",ny=e=>e.type==="radio",W6=e=>ny(e)||iu(e),Om=e=>xf(e)&&e.isConnected;function q6(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=_t(e)?n++:e[t[n++]];return e}function H6(e){for(const t in e)if(e.hasOwnProperty(t)&&!_t(e[t]))return!1;return!0}function jt(e,t){const r=Array.isArray(t)?t:Ch(t)?[t]:ey(t),n=r.length===1?e:q6(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(wt(n)&&yr(n)||Array.isArray(n)&&H6(n))&&jt(e,r.slice(0,-1)),e}var Uk=e=>{for(const t in e)if(Nn(e[t]))return!0;return!1};function yf(e,t={}){const r=Array.isArray(e);if(wt(e)||r)for(const n in e)Array.isArray(e[n])||wt(e[n])&&!Uk(e[n])?(t[n]=Array.isArray(e[n])?[]:{},yf(e[n],t[n])):dr(e[n])||(t[n]=!0);return t}function Bk(e,t,r){const n=Array.isArray(e);if(wt(e)||n)for(const s in e)Array.isArray(e[s])||wt(e[s])&&!Uk(e[s])?_t(t)||Sg(r[s])?r[s]=Array.isArray(e[s])?yf(e[s],[]):{...yf(e[s])}:Bk(e[s],dr(t)?{}:t[s],r[s]):r[s]=!Qs(e[s],t[s]);return r}var Tl=(e,t)=>Bk(e,t,yf(t));const Lb={value:!1,isValid:!1},$b={value:!0,isValid:!0};var Wk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_t(e[0].attributes.value)?_t(e[0].value)||e[0].value===""?$b:{value:e[0].value,isValid:!0}:$b:Lb}return Lb},qk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>_t(e)?e:t?e===""?NaN:e&&+e:r&&Hn(e)?new Date(e):n?n(e):e;const Fb={isValid:!1,value:null};var Hk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Fb):Fb;function zb(e){const t=e.ref;return ry(t)?t.files:ny(t)?Hk(e.refs).value:Vk(t)?[...t.selectedOptions].map(({value:r})=>r):iu(t)?Wk(e.refs).value:qk(_t(t.value)?e.ref.value:t.value,e)}var G6=(e,t,r,n)=>{const s={};for(const i of e){const o=de(t,i);o&&Ge(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},wf=e=>e instanceof RegExp,Al=e=>_t(e)?e:wf(e)?e.source:wt(e)?wf(e.value)?e.value.source:e.value:e,Vb=e=>({isOnSubmit:!e||e===jn.onSubmit,isOnBlur:e===jn.onBlur,isOnChange:e===jn.onChange,isOnAll:e===jn.all,isOnTouch:e===jn.onTouched});const Ub="AsyncFunction";var K6=e=>!!e&&!!e.validate&&!!(Nn(e.validate)&&e.validate.constructor.name===Ub||wt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Ub)),Z6=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Bb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const rc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=de(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(rc(l,t))break}else if(wt(l)&&rc(l,t))break}}};function Wb(e,t,r){const n=de(e,r);if(n||Ch(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=de(t,i),l=de(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var Y6=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return yr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||jn.all))},X6=(e,t,r)=>!e||!t||e===t||tc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Q6=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,J6=(e,t)=>!Jx(de(e,t)).length&&jt(e,t),eV=(e,t,r)=>{const n=tc(de(e,r));return Ge(n,"root",t[r]),Ge(e,r,n),e},_d=e=>Hn(e);function qb(e,t,r="validate"){if(_d(e)||Array.isArray(e)&&e.every(_d)||$n(e)&&!e)return{type:r,message:_d(e)?e:"",ref:t}}var Wi=e=>wt(e)&&!wf(e)?e:{value:e,message:""},Hb=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:w,name:p,valueAsNumber:v,mount:y}=e._f,x=de(r,p);if(!y||t.has(p))return{};const b=l?l[0]:o,j=M=>{s&&b.reportValidity&&(b.setCustomValidity($n(M)?"":M||""),b.reportValidity())},N={},k=ny(o),S=iu(o),E=k||S,P=(v||ry(o))&&_t(o.value)&&_t(x)||xf(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,C=ty.bind(null,p,n,N),A=(M,R,L,U=ls.maxLength,V=ls.minLength)=>{const z=M?R:L;N[p]={type:M?U:V,message:z,ref:o,...C(M?U:V,z)}};if(i?!Array.isArray(x)||!x.length:c&&(!E&&(P||dr(x))||$n(x)&&!x||S&&!Wk(l).isValid||k&&!Hk(l).isValid)){const{value:M,message:R}=_d(c)?{value:!!c,message:c}:Wi(c);if(M&&(N[p]={type:ls.required,message:R,ref:b,...C(ls.required,R)},!n))return j(R),N}if(!P&&(!dr(f)||!dr(h))){let M,R;const L=Wi(h),U=Wi(f);if(!dr(x)&&!isNaN(x)){const V=o.valueAsNumber||x&&+x;dr(L.value)||(M=V>L.value),dr(U.value)||(R=V<U.value)}else{const V=o.valueAsDate||new Date(x),z=G=>new Date(new Date().toDateString()+" "+G),D=o.type=="time",I=o.type=="week";Hn(L.value)&&x&&(M=D?z(x)>z(L.value):I?x>L.value:V>new Date(L.value)),Hn(U.value)&&x&&(R=D?z(x)<z(U.value):I?x<U.value:V<new Date(U.value))}if((M||R)&&(A(!!M,L.message,U.message,ls.max,ls.min),!n))return j(N[p].message),N}if((u||d)&&!P&&(Hn(x)||i&&Array.isArray(x))){const M=Wi(u),R=Wi(d),L=!dr(M.value)&&x.length>+M.value,U=!dr(R.value)&&x.length<+R.value;if((L||U)&&(A(L,M.message,R.message),!n))return j(N[p].message),N}if(m&&!P&&Hn(x)){const{value:M,message:R}=Wi(m);if(wf(M)&&!x.match(M)&&(N[p]={type:ls.pattern,message:R,ref:o,...C(ls.pattern,R)},!n))return j(R),N}if(w){if(Nn(w)){const M=await w(x,r),R=qb(M,b);if(R&&(N[p]={...R,...C(ls.validate,R.message)},!n))return j(R.message),N}else if(wt(w)){let M={};for(const R in w){if(!yr(M)&&!n)break;const L=qb(await w[R](x,r),b,R);L&&(M={...L,...C(R,L.message)},j(L.message),n&&(N[p]=M))}if(!yr(M)&&(N[p]={ref:b,...M},!n))return N}}return j(!0),N};const tV={mode:jn.onSubmit,reValidateMode:jn.onChange,shouldFocusError:!0};function rV(e={}){let t={...tV,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Nn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=wt(t.defaultValues)||wt(t.values)?Lt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Lt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Ob(),state:Ob()},m=t.criteriaMode===jn.all,w=T=>O=>{clearTimeout(u),u=setTimeout(T,O)},p=async T=>{if(!t.disabled&&(d.isValid||f.isValid||T)){const O=t.resolver?yr((await S()).errors):await P(n,!0);O!==r.isValid&&h.state.next({isValid:O})}},v=(T,O)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(F=>{F&&(O?Ge(r.validatingFields,F,O):jt(r.validatingFields,F))}),h.state.next({validatingFields:r.validatingFields,isValidating:!yr(r.validatingFields)}))},y=(T,O=[],F,te,ee=!0,J=!0)=>{if(te&&F&&!t.disabled){if(o.action=!0,J&&Array.isArray(de(n,T))){const fe=F(de(n,T),te.argA,te.argB);ee&&Ge(n,T,fe)}if(J&&Array.isArray(de(r.errors,T))){const fe=F(de(r.errors,T),te.argA,te.argB);ee&&Ge(r.errors,T,fe),J6(r.errors,T)}if((d.touchedFields||f.touchedFields)&&J&&Array.isArray(de(r.touchedFields,T))){const fe=F(de(r.touchedFields,T),te.argA,te.argB);ee&&Ge(r.touchedFields,T,fe)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Tl(s,i)),h.state.next({name:T,isDirty:A(T,O),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ge(i,T,O)},x=(T,O)=>{Ge(r.errors,T,O),h.state.next({errors:r.errors})},b=T=>{r.errors=T,h.state.next({errors:r.errors,isValid:!1})},j=(T,O,F,te)=>{const ee=de(n,T);if(ee){const J=de(i,T,_t(F)?de(s,T):F);_t(J)||te&&te.defaultChecked||O?Ge(i,T,O?J:zb(ee._f)):L(T,J),o.mount&&p()}},N=(T,O,F,te,ee)=>{let J=!1,fe=!1;const $e={name:T};if(!t.disabled){if(!F||te){(d.isDirty||f.isDirty)&&(fe=r.isDirty,r.isDirty=$e.isDirty=A(),J=fe!==$e.isDirty);const Ue=Qs(de(s,T),O);fe=!!de(r.dirtyFields,T),Ue?jt(r.dirtyFields,T):Ge(r.dirtyFields,T,!0),$e.dirtyFields=r.dirtyFields,J=J||(d.dirtyFields||f.dirtyFields)&&fe!==!Ue}if(F){const Ue=de(r.touchedFields,T);Ue||(Ge(r.touchedFields,T,F),$e.touchedFields=r.touchedFields,J=J||(d.touchedFields||f.touchedFields)&&Ue!==F)}J&&ee&&h.state.next($e)}return J?$e:{}},k=(T,O,F,te)=>{const ee=de(r.errors,T),J=(d.isValid||f.isValid)&&$n(O)&&r.isValid!==O;if(t.delayError&&F?(c=w(()=>x(T,F)),c(t.delayError)):(clearTimeout(u),c=null,F?Ge(r.errors,T,F):jt(r.errors,T)),(F?!Qs(ee,F):ee)||!yr(te)||J){const fe={...te,...J&&$n(O)?{isValid:O}:{},errors:r.errors,name:T};r={...r,...fe},h.state.next(fe)}},S=async T=>{v(T,!0);const O=await t.resolver(i,t.context,G6(T||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(T),O},E=async T=>{const{errors:O}=await S(T);if(T)for(const F of T){const te=de(O,F);te?Ge(r.errors,F,te):jt(r.errors,F)}else r.errors=O;return O},P=async(T,O,F={valid:!0})=>{for(const te in T){const ee=T[te];if(ee){const{_f:J,...fe}=ee;if(J){const $e=l.array.has(J.name),Ue=ee._f&&K6(ee._f);Ue&&d.validatingFields&&v([te],!0);const Jt=await Hb(ee,l.disabled,i,m,t.shouldUseNativeValidation&&!O,$e);if(Ue&&d.validatingFields&&v([te]),Jt[J.name]&&(F.valid=!1,O))break;!O&&(de(Jt,J.name)?$e?eV(r.errors,Jt,J.name):Ge(r.errors,J.name,Jt[J.name]):jt(r.errors,J.name))}!yr(fe)&&await P(fe,O,F)}}return F.valid},C=()=>{for(const T of l.unMount){const O=de(n,T);O&&(O._f.refs?O._f.refs.every(F=>!Om(F)):!Om(O._f.ref))&&le(T)}l.unMount=new Set},A=(T,O)=>!t.disabled&&(T&&O&&Ge(i,T,O),!Qs(G(),s)),M=(T,O,F)=>B6(T,l,{...o.mount?i:_t(O)?s:Hn(T)?{[T]:O}:O},F,O),R=T=>Jx(de(o.mount?i:s,T,t.shouldUnregister?de(s,T,[]):[])),L=(T,O,F={})=>{const te=de(n,T);let ee=O;if(te){const J=te._f;J&&(!J.disabled&&Ge(i,T,qk(O,J)),ee=xf(J.ref)&&dr(O)?"":O,Vk(J.ref)?[...J.ref.options].forEach(fe=>fe.selected=ee.includes(fe.value)):J.refs?iu(J.ref)?J.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ee)?fe.checked=!!ee.find($e=>$e===fe.value):fe.checked=ee===fe.value||!!ee)}):J.refs.forEach(fe=>fe.checked=fe.value===ee):ry(J.ref)?J.ref.value="":(J.ref.value=ee,J.ref.type||h.state.next({name:T,values:Lt(i)})))}(F.shouldDirty||F.shouldTouch)&&N(T,ee,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&I(T)},U=(T,O,F)=>{for(const te in O){if(!O.hasOwnProperty(te))return;const ee=O[te],J=T+"."+te,fe=de(n,J);(l.array.has(T)||wt(ee)||fe&&!fe._f)&&!ti(ee)?U(J,ee,F):L(J,ee,F)}},V=(T,O,F={})=>{const te=de(n,T),ee=l.array.has(T),J=Lt(O);Ge(i,T,J),ee?(h.array.next({name:T,values:Lt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&h.state.next({name:T,dirtyFields:Tl(s,i),isDirty:A(T,J)})):te&&!te._f&&!dr(J)?U(T,J,F):L(T,J,F),Bb(T,l)&&h.state.next({...r,name:T}),h.state.next({name:o.mount?T:void 0,values:Lt(i)})},z=async T=>{o.mount=!0;const O=T.target;let F=O.name,te=!0;const ee=de(n,F),J=Ue=>{te=Number.isNaN(Ue)||ti(Ue)&&isNaN(Ue.getTime())||Qs(Ue,de(i,F,Ue))},fe=Vb(t.mode),$e=Vb(t.reValidateMode);if(ee){let Ue,Jt;const ln=O.type?zb(ee._f):O6(T),cn=T.type===Ib.BLUR||T.type===Ib.FOCUS_OUT,Is=!Z6(ee._f)&&!t.resolver&&!de(r.errors,F)&&!ee._f.deps||Q6(cn,de(r.touchedFields,F),r.isSubmitted,$e,fe),pl=Bb(F,l,cn);Ge(i,F,ln),cn?(!O||!O.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(T),c&&c(0)):ee._f.onChange&&ee._f.onChange(T);const gl=N(F,ln,cn),pu=!yr(gl)||pl;if(!cn&&h.state.next({name:F,type:T.type,values:Lt(i)}),Is)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?cn&&p():cn||p()),pu&&h.state.next({name:F,...pl?{}:gl});if(!cn&&pl&&h.state.next({...r}),t.resolver){const{errors:vl}=await S([F]);if(J(ln),te){const zh=Wb(r.errors,n,F),Di=Wb(vl,n,zh.name||F);Ue=Di.error,F=Di.name,Jt=yr(vl)}}else v([F],!0),Ue=(await Hb(ee,l.disabled,i,m,t.shouldUseNativeValidation))[F],v([F]),J(ln),te&&(Ue?Jt=!1:(d.isValid||f.isValid)&&(Jt=await P(n,!0)));te&&(ee._f.deps&&I(ee._f.deps),k(F,Jt,Ue,gl))}},D=(T,O)=>{if(de(r.errors,O)&&T.focus)return T.focus(),1},I=async(T,O={})=>{let F,te;const ee=tc(T);if(t.resolver){const J=await E(_t(T)?T:ee);F=yr(J),te=T?!ee.some(fe=>de(J,fe)):F}else T?(te=(await Promise.all(ee.map(async J=>{const fe=de(n,J);return await P(fe&&fe._f?{[J]:fe}:fe)}))).every(Boolean),!(!te&&!r.isValid)&&p()):te=F=await P(n);return h.state.next({...!Hn(T)||(d.isValid||f.isValid)&&F!==r.isValid?{}:{name:T},...t.resolver||!T?{isValid:F}:{},errors:r.errors}),O.shouldFocus&&!te&&rc(n,D,T?ee:l.mount),te},G=T=>{const O={...o.mount?i:s};return _t(T)?O:Hn(T)?de(O,T):T.map(F=>de(O,F))},oe=(T,O)=>({invalid:!!de((O||r).errors,T),isDirty:!!de((O||r).dirtyFields,T),error:de((O||r).errors,T),isValidating:!!de(r.validatingFields,T),isTouched:!!de((O||r).touchedFields,T)}),we=T=>{T&&tc(T).forEach(O=>jt(r.errors,O)),h.state.next({errors:T?r.errors:{}})},pe=(T,O,F)=>{const te=(de(n,T,{_f:{}})._f||{}).ref,ee=de(r.errors,T)||{},{ref:J,message:fe,type:$e,...Ue}=ee;Ge(r.errors,T,{...Ue,...O,ref:te}),h.state.next({name:T,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&te&&te.focus&&te.focus()},be=(T,O)=>Nn(T)?h.state.subscribe({next:F=>"values"in F&&T(M(void 0,O),F)}):M(T,O,!0),Se=T=>h.state.subscribe({next:O=>{X6(T.name,O.name,T.exact)&&Y6(O,T.formState||d,Pr,T.reRenderRoot)&&T.callback({values:{...i},...r,...O,defaultValues:s})}}).unsubscribe,De=T=>(o.mount=!0,f={...f,...T.formState},Se({...T,formState:f})),le=(T,O={})=>{for(const F of T?tc(T):l.mount)l.mount.delete(F),l.array.delete(F),O.keepValue||(jt(n,F),jt(i,F)),!O.keepError&&jt(r.errors,F),!O.keepDirty&&jt(r.dirtyFields,F),!O.keepTouched&&jt(r.touchedFields,F),!O.keepIsValidating&&jt(r.validatingFields,F),!t.shouldUnregister&&!O.keepDefaultValue&&jt(s,F);h.state.next({values:Lt(i)}),h.state.next({...r,...O.keepDirty?{isDirty:A()}:{}}),!O.keepIsValid&&p()},me=({disabled:T,name:O})=>{($n(T)&&o.mount||T||l.disabled.has(O))&&(T?l.disabled.add(O):l.disabled.delete(O))},Pe=(T,O={})=>{let F=de(n,T);const te=$n(O.disabled)||$n(t.disabled);return Ge(n,T,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:T}},name:T,mount:!0,...O}}),l.mount.add(T),F?me({disabled:$n(O.disabled)?O.disabled:t.disabled,name:T}):j(T,!0,O.value),{...te?{disabled:O.disabled||t.disabled}:{},...t.progressive?{required:!!O.required,min:Al(O.min),max:Al(O.max),minLength:Al(O.minLength),maxLength:Al(O.maxLength),pattern:Al(O.pattern)}:{},name:T,onChange:z,onBlur:z,ref:ee=>{if(ee){Pe(T,O),F=de(n,T);const J=_t(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,fe=W6(J),$e=F._f.refs||[];if(fe?$e.find(Ue=>Ue===J):J===F._f.ref)return;Ge(n,T,{_f:{...F._f,...fe?{refs:[...$e.filter(Om),J,...Array.isArray(de(s,T))?[{}]:[]],ref:{type:J.type,name:T}}:{ref:J}}}),j(T,!1,void 0,J)}else F=de(n,T,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!($6(l.array,T)&&o.action)&&l.unMount.add(T)}}},Ee=()=>t.shouldFocusError&&rc(n,D,l.mount),Ie=T=>{$n(T)&&(h.state.next({disabled:T}),rc(n,(O,F)=>{const te=de(n,F);te&&(O.disabled=te._f.disabled||T,Array.isArray(te._f.refs)&&te._f.refs.forEach(ee=>{ee.disabled=te._f.disabled||T}))},0,!1))},ke=(T,O)=>async F=>{let te;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ee=Lt(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:J,values:fe}=await S();r.errors=J,ee=Lt(fe)}else await P(n);if(l.disabled.size)for(const J of l.disabled)jt(ee,J);if(jt(r.errors,"root"),yr(r.errors)){h.state.next({errors:{}});try{await T(ee,F)}catch(J){te=J}}else O&&await O({...r.errors},F),Ee(),setTimeout(Ee);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yr(r.errors)&&!te,submitCount:r.submitCount+1,errors:r.errors}),te)throw te},Vt=(T,O={})=>{de(n,T)&&(_t(O.defaultValue)?V(T,Lt(de(s,T))):(V(T,O.defaultValue),Ge(s,T,Lt(O.defaultValue))),O.keepTouched||jt(r.touchedFields,T),O.keepDirty||(jt(r.dirtyFields,T),r.isDirty=O.defaultValue?A(T,Lt(de(s,T))):A()),O.keepError||(jt(r.errors,T),d.isValid&&p()),h.state.next({...r}))},Ut=(T,O={})=>{const F=T?Lt(T):s,te=Lt(F),ee=yr(T),J=ee?s:te;if(O.keepDefaultValues||(s=F),!O.keepValues){if(O.keepDirtyValues){const fe=new Set([...l.mount,...Object.keys(Tl(s,i))]);for(const $e of Array.from(fe))de(r.dirtyFields,$e)?Ge(J,$e,de(i,$e)):V($e,de(J,$e))}else{if(Qx&&_t(T))for(const fe of l.mount){const $e=de(n,fe);if($e&&$e._f){const Ue=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(xf(Ue)){const Jt=Ue.closest("form");if(Jt){Jt.reset();break}}}}if(O.keepFieldsRef)for(const fe of l.mount)V(fe,de(J,fe));else n={}}i=t.shouldUnregister?O.keepDefaultValues?Lt(s):{}:Lt(J),h.array.next({values:{...J}}),h.state.next({values:{...J}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:O.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:O.keepDirty?r.isDirty:!!(O.keepDefaultValues&&!Qs(T,s)),isSubmitted:O.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:O.keepDirtyValues?O.keepDefaultValues&&i?Tl(s,i):r.dirtyFields:O.keepDefaultValues&&T?Tl(s,T):O.keepDirty?r.dirtyFields:{},touchedFields:O.keepTouched?r.touchedFields:{},errors:O.keepErrors?r.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Rn=(T,O)=>Ut(Nn(T)?T(i):T,O),Mn=(T,O={})=>{const F=de(n,T),te=F&&F._f;if(te){const ee=te.refs?te.refs[0]:te.ref;ee.focus&&(ee.focus(),O.shouldSelect&&Nn(ee.select)&&ee.select())}},Pr=T=>{r={...r,...T}},Bt={control:{register:Pe,unregister:le,getFieldState:oe,handleSubmit:ke,setError:pe,_subscribe:Se,_runSchema:S,_focusError:Ee,_getWatch:M,_getDirty:A,_setValid:p,_setFieldArray:y,_setDisabledField:me,_setErrors:b,_getFieldArray:R,_reset:Ut,_resetDefaultValues:()=>Nn(t.defaultValues)&&t.defaultValues().then(T=>{Rn(T,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:Ie,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(T){o=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return r},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:De,trigger:I,register:Pe,handleSubmit:ke,watch:be,setValue:V,getValues:G,reset:Rn,resetField:Vt,clearErrors:we,unregister:le,setError:pe,setFocus:Mn,getFieldState:oe};return{...Bt,formControl:Bt}}function sy(e={}){const t=q.useRef(void 0),r=q.useRef(void 0),[n,s]=q.useState({isDirty:!1,isValidating:!1,isLoading:Nn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Nn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Nn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=rV(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,U6(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),q.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),q.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),q.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),q.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),q.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),q.useEffect(()=>{e.values&&!Qs(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),q.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=V6(n,i),t.current}const Gb=(e,t,r)=>{if(e&&"reportValidity"in e){const n=de(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Cg=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Gb(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>Gb(s,r,e))}},Kb=(e,t)=>{t.shouldUseNativeValidation&&Cg(e,t);const r={};for(const n in e){const s=de(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(nV(t.names||Object.keys(e),n)){const o=Object.assign({},de(r,n));Ge(o,"root",i),Ge(r,n,o)}else Ge(r,n,i)}return r},nV=(e,t)=>{const r=Zb(t);return e.some(n=>Zb(n).match(`^${r}\\.\\d+`))};function Zb(e){return e.replace(/\]|\[/g,"")}function H(e,t,r){function n(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const s=(r==null?void 0:r.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(l){var c;const u=r!=null&&r.Parent?new i:this;n(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return r!=null&&r.Parent&&l instanceof r.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class Dc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Gk={};function Ni(e){return Gk}function sV(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function Eg(e,t){return typeof t=="bigint"?t.toString():t}function Kk(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ay(e){return e==null}function iy(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const Yb=Symbol("evaluating");function Xe(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==Yb)return n===void 0&&(n=Yb,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function aV(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Ai(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function cl(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Xb(e){return JSON.stringify(e)}const Zk="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function kg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const iV=Kk(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function bf(e){if(kg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(kg(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Yk(e){return bf(e)?{...e}:e}const oV=new Set(["string","number","symbol"]);function Zo(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ri(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function ye(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function lV(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function cV(e,t){const r=e._zod.def,n=cl(e._zod.def,{get shape(){const s={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(s[i]=r.shape[i])}return Ai(this,"shape",s),s},checks:[]});return Ri(e,n)}function uV(e,t){const r=e._zod.def,n=cl(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete s[i]}return Ai(this,"shape",s),s},checks:[]});return Ri(e,n)}function dV(e,t){if(!bf(t))throw new Error("Invalid input to extend: expected a plain object");const r=cl(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Ai(this,"shape",n),n},checks:[]});return Ri(e,r)}function fV(e,t){const r=cl(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ai(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Ri(e,r)}function hV(e,t,r){const n=cl(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=e?new e({type:"optional",innerType:s[o]}):s[o];return Ai(this,"shape",i),i},checks:[]});return Ri(t,n)}function mV(e,t,r){const n=cl(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new e({type:"nonoptional",innerType:s[o]});return Ai(this,"shape",i),i},checks:[]});return Ri(t,n)}function nc(e,t=0){var r;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function Xk(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Yu(e){return typeof e=="string"?e:e==null?void 0:e.message}function _i(e,t,r){var s,i,o,l,c,u;const n={...e,path:e.path??[]};if(!e.message){const d=Yu((o=(i=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??Yu((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??Yu((c=r.customError)==null?void 0:c.call(r,e))??Yu((u=r.localeError)==null?void 0:u.call(r,e))??"Invalid input";n.message=d}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function oy(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ic(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const Qk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Eg,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ly=H("$ZodError",Qk),Eh=H("$ZodError",Qk,{Parent:Error});function pV(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function gV(e,t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>s({issues:l}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(e),n}const Jk=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Dc;if(o.issues.length){const l=new((s==null?void 0:s.Err)??e)(o.issues.map(c=>_i(c,i,Ni())));throw Zk(l,s==null?void 0:s.callee),l}return o.value},vV=Jk(Eh),e2=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((s==null?void 0:s.Err)??e)(o.issues.map(c=>_i(c,i,Ni())));throw Zk(l,s==null?void 0:s.callee),l}return o.value},xV=e2(Eh),t2=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new Dc;return i.issues.length?{success:!1,error:new(e??ly)(i.issues.map(o=>_i(o,s,Ni())))}:{success:!0,data:i.value}},yV=t2(Eh),r2=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>_i(o,s,Ni())))}:{success:!0,data:i.value}},wV=r2(Eh),bV=/^[cC][^\s-]{8,}$/,jV=/^[0-9a-z]+$/,NV=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,_V=/^[0-9a-vA-V]{20}$/,SV=/^[A-Za-z0-9]{27}$/,CV=/^[a-zA-Z0-9_-]{21}$/,EV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,kV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Qb=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,PV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,TV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function AV(){return new RegExp(TV,"u")}const RV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,DV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,IV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,n2=/^[A-Za-z0-9_-]*$/,LV=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,$V=/^\+(?:[0-9]){6,14}[0-9]$/,s2="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",FV=new RegExp(`^${s2}$`);function a2(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function zV(e){return new RegExp(`^${a2(e)}$`)}function VV(e){const t=a2({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${s2}T(?:${n})$`)}const UV=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},BV=/^[^A-Z]*$/,WV=/^[^a-z]*$/,is=H("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),qV=H("$ZodCheckMaxLength",(e,t)=>{var r;is.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!ay(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const o=oy(s);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),HV=H("$ZodCheckMinLength",(e,t)=>{var r;is.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!ay(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const o=oy(s);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),GV=H("$ZodCheckLengthEquals",(e,t)=>{var r;is.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!ay(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,i=s.length;if(i===t.length)return;const o=oy(s),l=i>t.length;n.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),kh=H("$ZodCheckStringFormat",(e,t)=>{var r,n;is.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),KV=H("$ZodCheckRegex",(e,t)=>{kh.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ZV=H("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=BV),kh.init(e,t)}),YV=H("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=WV),kh.init(e,t)}),XV=H("$ZodCheckIncludes",(e,t)=>{is.init(e,t);const r=Zo(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),QV=H("$ZodCheckStartsWith",(e,t)=>{is.init(e,t);const r=new RegExp(`^${Zo(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),JV=H("$ZodCheckEndsWith",(e,t)=>{is.init(e,t);const r=new RegExp(`.*${Zo(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),eU=H("$ZodCheckOverwrite",(e,t)=>{is.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class tU{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(o=>o),s=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...r,s.join(`
`))}}const rU={major:4,minor:0,patch:17},Tt=H("$ZodType",(e,t)=>{var s;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=rU;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const o of i._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const i=(o,l,c)=>{let u=nc(o),d;for(const f of l){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const h=o.issues.length,m=f._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Dc;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,o.issues.length!==h&&(u||(u=nc(o,h)))});else{if(o.issues.length===h)continue;u||(u=nc(o,h))}}return d?d.then(()=>o):o};e._zod.run=(o,l)=>{const c=e._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new Dc;return c.then(u=>i(u,n,l))}return i(c,n,l)}}e["~standard"]={validate:i=>{var o;try{const l=yV(e,i);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return wV(e,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),cy=H("$ZodString",(e,t)=>{var r;Tt.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??UV(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),at=H("$ZodStringFormat",(e,t)=>{kh.init(e,t),cy.init(e,t)}),nU=H("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=kV),at.init(e,t)}),sU=H("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Qb(n))}else t.pattern??(t.pattern=Qb());at.init(e,t)}),aU=H("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=PV),at.init(e,t)}),iU=H("$ZodURL",(e,t)=>{at.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:LV.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),oU=H("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=AV()),at.init(e,t)}),lU=H("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=CV),at.init(e,t)}),cU=H("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=bV),at.init(e,t)}),uU=H("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=jV),at.init(e,t)}),dU=H("$ZodULID",(e,t)=>{t.pattern??(t.pattern=NV),at.init(e,t)}),fU=H("$ZodXID",(e,t)=>{t.pattern??(t.pattern=_V),at.init(e,t)}),hU=H("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=SV),at.init(e,t)}),mU=H("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=VV(t)),at.init(e,t)}),pU=H("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=FV),at.init(e,t)}),gU=H("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=zV(t)),at.init(e,t)}),vU=H("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=EV),at.init(e,t)}),xU=H("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=RV),at.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),yU=H("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=MV),at.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),wU=H("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=DV),at.init(e,t)}),bU=H("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=IV),at.init(e,t),e._zod.check=r=>{const[n,s]=r.value.split("/");try{if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function i2(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const jU=H("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=OV),at.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{i2(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function NU(e){if(!n2.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return i2(r)}const _U=H("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=n2),at.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{NU(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),SU=H("$ZodE164",(e,t)=>{t.pattern??(t.pattern=$V),at.init(e,t)});function CU(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const EU=H("$ZodJWT",(e,t)=>{at.init(e,t),e._zod.check=r=>{CU(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),kU=H("$ZodUnknown",(e,t)=>{Tt.init(e,t),e._zod.parse=r=>r}),PU=H("$ZodNever",(e,t)=>{Tt.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Jb(e,t,r){e.issues.length&&t.issues.push(...Xk(r,e.issues)),t.value[r]=e.value}const TU=H("$ZodArray",(e,t)=>{Tt.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const l=s[o],c=t.element._zod.run({value:l,issues:[]},n);c instanceof Promise?i.push(c.then(u=>Jb(u,r,o))):Jb(c,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function Xu(e,t,r,n){e.issues.length&&t.issues.push(...Xk(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const AU=H("$ZodObject",(e,t)=>{Tt.init(e,t);const r=Kk(()=>{const f=Object.keys(t.shape);for(const m of f)if(!t.shape[m]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=lV(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(h)}});Xe(e._zod,"propValues",()=>{const f=t.shape,h={};for(const m in f){const w=f[m]._zod;if(w.values){h[m]??(h[m]=new Set);for(const p of w.values)h[m].add(p)}}return h});const n=f=>{const h=new tU(["shape","payload","ctx"]),m=r.value,w=x=>{const b=Xb(x);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};h.write("const input = payload.value;");const p=Object.create(null);let v=0;for(const x of m.keys)p[x]=`key_${v++}`;h.write("const newResult = {}");for(const x of m.keys){const b=p[x],j=Xb(x);h.write(`const ${b} = ${w(x)};`),h.write(`
        if (${b}.issues.length) {
          payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${j}, ...iss.path] : [${j}]
          })));
        }
        
        if (${b}.value === undefined) {
          if (${j} in input) {
            newResult[${j}] = undefined;
          }
        } else {
          newResult[${j}] = ${b}.value;
        }
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const y=h.compile();return(x,b)=>y(f,x,b)};let s;const i=kg,o=!Gk.jitless,c=o&&iV.value,u=t.catchall;let d;e._zod.parse=(f,h)=>{d??(d=r.value);const m=f.value;if(!i(m))return f.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),f;const w=[];if(o&&c&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)s||(s=n(t.shape)),f=s(f,h);else{f.value={};const b=d.shape;for(const j of d.keys){const k=b[j]._zod.run({value:m[j],issues:[]},h);k instanceof Promise?w.push(k.then(S=>Xu(S,f,j,m))):Xu(k,f,j,m)}}if(!u)return w.length?Promise.all(w).then(()=>f):f;const p=[],v=d.keySet,y=u._zod,x=y.def.type;for(const b of Object.keys(m)){if(v.has(b))continue;if(x==="never"){p.push(b);continue}const j=y.run({value:m[b],issues:[]},h);j instanceof Promise?w.push(j.then(N=>Xu(N,f,b,m))):Xu(j,f,b,m)}return p.length&&f.issues.push({code:"unrecognized_keys",keys:p,input:m,inst:e}),w.length?Promise.all(w).then(()=>f):f}});function ej(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!nc(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>_i(o,n,Ni())))}),t)}const RU=H("$ZodUnion",(e,t)=>{Tt.init(e,t),Xe(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Xe(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Xe(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Xe(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>iy(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let o=!1;const l=[];for(const c of t.options){const u=c._zod.run({value:s.value,issues:[]},i);if(u instanceof Promise)l.push(u),o=!0;else{if(u.issues.length===0)return u;l.push(u)}}return o?Promise.all(l).then(c=>ej(c,s,e,i)):ej(l,s,e,i)}}),MU=H("$ZodIntersection",(e,t)=>{Tt.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,i=t.left._zod.run({value:s,issues:[]},n),o=t.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([c,u])=>tj(r,c,u)):tj(r,i,o)}});function Pg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(bf(e)&&bf(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),s={...e,...t};for(const i of n){const o=Pg(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],i=t[n],o=Pg(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function tj(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),nc(e))return e;const n=Pg(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const DU=H("$ZodEnum",(e,t)=>{Tt.init(e,t);const r=sV(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>oV.has(typeof s)).map(s=>typeof s=="string"?Zo(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const o=s.value;return n.has(o)||s.issues.push({code:"invalid_value",values:r,input:o,inst:e}),s}}),IU=H("$ZodLiteral",(e,t)=>{if(Tt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Zo(r):r?Zo(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const s=r.value;return e._zod.values.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),OU=H("$ZodTransform",(e,t)=>{Tt.init(e,t),e._zod.parse=(r,n)=>{const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(r.value=o,r));if(s instanceof Promise)throw new Dc;return r.value=s,r}});function rj(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const LU=H("$ZodOptional",(e,t)=>{Tt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Xe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Xe(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${iy(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>rj(i,r.value)):rj(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),$U=H("$ZodNullable",(e,t)=>{Tt.init(e,t),Xe(e._zod,"optin",()=>t.innerType._zod.optin),Xe(e._zod,"optout",()=>t.innerType._zod.optout),Xe(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${iy(r.source)}|null)$`):void 0}),Xe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),FU=H("$ZodDefault",(e,t)=>{Tt.init(e,t),e._zod.optin="optional",Xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>nj(i,t)):nj(s,t)}});function nj(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const zU=H("$ZodPrefault",(e,t)=>{Tt.init(e,t),e._zod.optin="optional",Xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),VU=H("$ZodNonOptional",(e,t)=>{Tt.init(e,t),Xe(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>sj(i,e)):sj(s,e)}});function sj(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const UU=H("$ZodCatch",(e,t)=>{Tt.init(e,t),Xe(e._zod,"optin",()=>t.innerType._zod.optin),Xe(e._zod,"optout",()=>t.innerType._zod.optout),Xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>_i(o,n,Ni()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>_i(i,n,Ni()))},input:r.value}),r.issues=[]),r)}}),BU=H("$ZodPipe",(e,t)=>{Tt.init(e,t),Xe(e._zod,"values",()=>t.in._zod.values),Xe(e._zod,"optin",()=>t.in._zod.optin),Xe(e._zod,"optout",()=>t.out._zod.optout),Xe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(i=>aj(i,t,n)):aj(s,t,n)}});function aj(e,t,r){return e.issues.length?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const WU=H("$ZodReadonly",(e,t)=>{Tt.init(e,t),Xe(e._zod,"propValues",()=>t.innerType._zod.propValues),Xe(e._zod,"values",()=>t.innerType._zod.values),Xe(e._zod,"optin",()=>t.innerType._zod.optin),Xe(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(ij):ij(s)}});function ij(e){return e.value=Object.freeze(e.value),e}const qU=H("$ZodCustom",(e,t)=>{is.init(e,t),Tt.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(i=>oj(i,r,n,e));oj(s,r,n,e)}});function oj(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(Ic(s))}}class HU{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function GU(){return new HU}const Qu=GU();function KU(e,t){return new e({type:"string",...ye(t)})}function ZU(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ye(t)})}function lj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ye(t)})}function YU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ye(t)})}function XU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ye(t)})}function QU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ye(t)})}function JU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ye(t)})}function eB(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ye(t)})}function tB(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ye(t)})}function rB(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ye(t)})}function nB(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ye(t)})}function sB(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ye(t)})}function aB(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ye(t)})}function iB(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ye(t)})}function oB(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ye(t)})}function lB(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ye(t)})}function cB(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ye(t)})}function uB(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ye(t)})}function dB(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ye(t)})}function fB(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ye(t)})}function hB(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ye(t)})}function mB(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ye(t)})}function pB(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ye(t)})}function gB(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ye(t)})}function vB(e,t){return new e({type:"string",format:"date",check:"string_format",...ye(t)})}function xB(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ye(t)})}function yB(e,t){return new e({type:"string",format:"duration",check:"string_format",...ye(t)})}function wB(e){return new e({type:"unknown"})}function bB(e,t){return new e({type:"never",...ye(t)})}function o2(e,t){return new qV({check:"max_length",...ye(t),maximum:e})}function jf(e,t){return new HV({check:"min_length",...ye(t),minimum:e})}function l2(e,t){return new GV({check:"length_equals",...ye(t),length:e})}function jB(e,t){return new KV({check:"string_format",format:"regex",...ye(t),pattern:e})}function NB(e){return new ZV({check:"string_format",format:"lowercase",...ye(e)})}function _B(e){return new YV({check:"string_format",format:"uppercase",...ye(e)})}function SB(e,t){return new XV({check:"string_format",format:"includes",...ye(t),includes:e})}function CB(e,t){return new QV({check:"string_format",format:"starts_with",...ye(t),prefix:e})}function EB(e,t){return new JV({check:"string_format",format:"ends_with",...ye(t),suffix:e})}function ou(e){return new eU({check:"overwrite",tx:e})}function kB(e){return ou(t=>t.normalize(e))}function PB(){return ou(e=>e.trim())}function TB(){return ou(e=>e.toLowerCase())}function AB(){return ou(e=>e.toUpperCase())}function RB(e,t,r){return new e({type:"array",element:t,...ye(r)})}function MB(e,t,r){return new e({type:"custom",check:"custom",fn:t,...ye(r)})}function DB(e){const t=IB(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Ic(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(Ic(s))}},e(r.value,r)));return t}function IB(e,t){const r=new is({check:"custom",...ye(t)});return r._zod.check=e,r}function cj(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function OB(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=ty(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r}function LB(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"&&n.errors.length>0){var l=n.errors[0][0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(d){return d.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=ty(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r}function uy(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,s,i){try{return Promise.resolve(cj(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(o){return i.shouldUseNativeValidation&&Cg({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(o))return{values:{},errors:Kb(OB(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,s,i){try{return Promise.resolve(cj(function(){return Promise.resolve((r.mode==="sync"?vV:xV)(e,n,t)).then(function(o){return i.shouldUseNativeValidation&&Cg({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(l){return l instanceof ly}(o))return{values:{},errors:Kb(LB(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const $B=H("ZodISODateTime",(e,t)=>{mU.init(e,t),ut.init(e,t)});function FB(e){return gB($B,e)}const zB=H("ZodISODate",(e,t)=>{pU.init(e,t),ut.init(e,t)});function VB(e){return vB(zB,e)}const UB=H("ZodISOTime",(e,t)=>{gU.init(e,t),ut.init(e,t)});function BB(e){return xB(UB,e)}const WB=H("ZodISODuration",(e,t)=>{vU.init(e,t),ut.init(e,t)});function qB(e){return yB(WB,e)}const HB=(e,t)=>{ly.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>gV(e,r)},flatten:{value:r=>pV(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Eg,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Eg,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ph=H("ZodError",HB,{Parent:Error}),GB=Jk(Ph),KB=e2(Ph),ZB=t2(Ph),YB=r2(Ph),It=H("ZodType",(e,t)=>(Tt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Ri(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>GB(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>ZB(e,r,n),e.parseAsync=async(r,n)=>KB(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>YB(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(V8(r,n)),e.superRefine=r=>e.check(U8(r)),e.overwrite=r=>e.check(ou(r)),e.optional=()=>fj(e),e.nullable=()=>hj(e),e.nullish=()=>fj(hj(e)),e.nonoptional=r=>D8(e,r),e.array=()=>y8(e),e.or=r=>j8([e,r]),e.and=r=>_8(e,r),e.transform=r=>mj(e,k8(r)),e.default=r=>A8(e,r),e.prefault=r=>M8(e,r),e.catch=r=>O8(e,r),e.pipe=r=>mj(e,r),e.readonly=()=>F8(e),e.describe=r=>{const n=e.clone();return Qu.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=Qu.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Qu.get(e);const n=e.clone();return Qu.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),c2=H("_ZodString",(e,t)=>{cy.init(e,t),It.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(jB(...n)),e.includes=(...n)=>e.check(SB(...n)),e.startsWith=(...n)=>e.check(CB(...n)),e.endsWith=(...n)=>e.check(EB(...n)),e.min=(...n)=>e.check(jf(...n)),e.max=(...n)=>e.check(o2(...n)),e.length=(...n)=>e.check(l2(...n)),e.nonempty=(...n)=>e.check(jf(1,...n)),e.lowercase=n=>e.check(NB(n)),e.uppercase=n=>e.check(_B(n)),e.trim=()=>e.check(PB()),e.normalize=(...n)=>e.check(kB(...n)),e.toLowerCase=()=>e.check(TB()),e.toUpperCase=()=>e.check(AB())}),XB=H("ZodString",(e,t)=>{cy.init(e,t),c2.init(e,t),e.email=r=>e.check(ZU(QB,r)),e.url=r=>e.check(eB(JB,r)),e.jwt=r=>e.check(pB(m8,r)),e.emoji=r=>e.check(tB(e8,r)),e.guid=r=>e.check(lj(uj,r)),e.uuid=r=>e.check(YU(Ju,r)),e.uuidv4=r=>e.check(XU(Ju,r)),e.uuidv6=r=>e.check(QU(Ju,r)),e.uuidv7=r=>e.check(JU(Ju,r)),e.nanoid=r=>e.check(rB(t8,r)),e.guid=r=>e.check(lj(uj,r)),e.cuid=r=>e.check(nB(r8,r)),e.cuid2=r=>e.check(sB(n8,r)),e.ulid=r=>e.check(aB(s8,r)),e.base64=r=>e.check(fB(d8,r)),e.base64url=r=>e.check(hB(f8,r)),e.xid=r=>e.check(iB(a8,r)),e.ksuid=r=>e.check(oB(i8,r)),e.ipv4=r=>e.check(lB(o8,r)),e.ipv6=r=>e.check(cB(l8,r)),e.cidrv4=r=>e.check(uB(c8,r)),e.cidrv6=r=>e.check(dB(u8,r)),e.e164=r=>e.check(mB(h8,r)),e.datetime=r=>e.check(FB(r)),e.date=r=>e.check(VB(r)),e.time=r=>e.check(BB(r)),e.duration=r=>e.check(qB(r))});function Ht(e){return KU(XB,e)}const ut=H("ZodStringFormat",(e,t)=>{at.init(e,t),c2.init(e,t)}),QB=H("ZodEmail",(e,t)=>{aU.init(e,t),ut.init(e,t)}),uj=H("ZodGUID",(e,t)=>{nU.init(e,t),ut.init(e,t)}),Ju=H("ZodUUID",(e,t)=>{sU.init(e,t),ut.init(e,t)}),JB=H("ZodURL",(e,t)=>{iU.init(e,t),ut.init(e,t)}),e8=H("ZodEmoji",(e,t)=>{oU.init(e,t),ut.init(e,t)}),t8=H("ZodNanoID",(e,t)=>{lU.init(e,t),ut.init(e,t)}),r8=H("ZodCUID",(e,t)=>{cU.init(e,t),ut.init(e,t)}),n8=H("ZodCUID2",(e,t)=>{uU.init(e,t),ut.init(e,t)}),s8=H("ZodULID",(e,t)=>{dU.init(e,t),ut.init(e,t)}),a8=H("ZodXID",(e,t)=>{fU.init(e,t),ut.init(e,t)}),i8=H("ZodKSUID",(e,t)=>{hU.init(e,t),ut.init(e,t)}),o8=H("ZodIPv4",(e,t)=>{xU.init(e,t),ut.init(e,t)}),l8=H("ZodIPv6",(e,t)=>{yU.init(e,t),ut.init(e,t)}),c8=H("ZodCIDRv4",(e,t)=>{wU.init(e,t),ut.init(e,t)}),u8=H("ZodCIDRv6",(e,t)=>{bU.init(e,t),ut.init(e,t)}),d8=H("ZodBase64",(e,t)=>{jU.init(e,t),ut.init(e,t)}),f8=H("ZodBase64URL",(e,t)=>{_U.init(e,t),ut.init(e,t)}),h8=H("ZodE164",(e,t)=>{SU.init(e,t),ut.init(e,t)}),m8=H("ZodJWT",(e,t)=>{EU.init(e,t),ut.init(e,t)}),p8=H("ZodUnknown",(e,t)=>{kU.init(e,t),It.init(e,t)});function dj(){return wB(p8)}const g8=H("ZodNever",(e,t)=>{PU.init(e,t),It.init(e,t)});function v8(e){return bB(g8,e)}const x8=H("ZodArray",(e,t)=>{TU.init(e,t),It.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(jf(r,n)),e.nonempty=r=>e.check(jf(1,r)),e.max=(r,n)=>e.check(o2(r,n)),e.length=(r,n)=>e.check(l2(r,n)),e.unwrap=()=>e.element});function y8(e,t){return RB(x8,e,t)}const w8=H("ZodObject",(e,t)=>{AU.init(e,t),It.init(e,t),Xe(e,"shape",()=>t.shape),e.keyof=()=>u2(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:dj()}),e.loose=()=>e.clone({...e._zod.def,catchall:dj()}),e.strict=()=>e.clone({...e._zod.def,catchall:v8()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>dV(e,r),e.merge=r=>fV(e,r),e.pick=r=>cV(e,r),e.omit=r=>uV(e,r),e.partial=(...r)=>hV(d2,e,r[0]),e.required=(...r)=>mV(f2,e,r[0])});function dy(e,t){const r={type:"object",get shape(){return Ai(this,"shape",e?aV(e):{}),this.shape},...ye(t)};return new w8(r)}const b8=H("ZodUnion",(e,t)=>{RU.init(e,t),It.init(e,t),e.options=t.options});function j8(e,t){return new b8({type:"union",options:e,...ye(t)})}const N8=H("ZodIntersection",(e,t)=>{MU.init(e,t),It.init(e,t)});function _8(e,t){return new N8({type:"intersection",left:e,right:t})}const Tg=H("ZodEnum",(e,t)=>{DU.init(e,t),It.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const i={};for(const o of n)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Tg({...t,checks:[],...ye(s),entries:i})},e.exclude=(n,s)=>{const i={...t.entries};for(const o of n)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Tg({...t,checks:[],...ye(s),entries:i})}});function u2(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Tg({type:"enum",entries:r,...ye(t)})}const S8=H("ZodLiteral",(e,t)=>{IU.init(e,t),It.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function C8(e,t){return new S8({type:"literal",values:Array.isArray(e)?e:[e],...ye(t)})}const E8=H("ZodTransform",(e,t)=>{OU.init(e,t),It.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=i=>{if(typeof i=="string")r.issues.push(Ic(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(Ic(o))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(i=>(r.value=i,r)):(r.value=s,r)}});function k8(e){return new E8({type:"transform",transform:e})}const d2=H("ZodOptional",(e,t)=>{LU.init(e,t),It.init(e,t),e.unwrap=()=>e._zod.def.innerType});function fj(e){return new d2({type:"optional",innerType:e})}const P8=H("ZodNullable",(e,t)=>{$U.init(e,t),It.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hj(e){return new P8({type:"nullable",innerType:e})}const T8=H("ZodDefault",(e,t)=>{FU.init(e,t),It.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function A8(e,t){return new T8({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Yk(t)}})}const R8=H("ZodPrefault",(e,t)=>{zU.init(e,t),It.init(e,t),e.unwrap=()=>e._zod.def.innerType});function M8(e,t){return new R8({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Yk(t)}})}const f2=H("ZodNonOptional",(e,t)=>{VU.init(e,t),It.init(e,t),e.unwrap=()=>e._zod.def.innerType});function D8(e,t){return new f2({type:"nonoptional",innerType:e,...ye(t)})}const I8=H("ZodCatch",(e,t)=>{UU.init(e,t),It.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function O8(e,t){return new I8({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const L8=H("ZodPipe",(e,t)=>{BU.init(e,t),It.init(e,t),e.in=t.in,e.out=t.out});function mj(e,t){return new L8({type:"pipe",in:e,out:t})}const $8=H("ZodReadonly",(e,t)=>{WU.init(e,t),It.init(e,t),e.unwrap=()=>e._zod.def.innerType});function F8(e){return new $8({type:"readonly",innerType:e})}const z8=H("ZodCustom",(e,t)=>{qU.init(e,t),It.init(e,t)});function V8(e,t={}){return MB(z8,e,t)}function U8(e){return DB(e)}const Ce=g.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:re("flex h-11 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 min-h-[44px]",e),ref:n,...r}));Ce.displayName="Input";var B8="Label",h2=g.forwardRef((e,t)=>a.jsx(on.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));h2.displayName=B8;var m2=h2;const W8=wx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ae=g.forwardRef(({className:e,...t},r)=>a.jsx(m2,{ref:r,className:re(W8(),e),...t}));ae.displayName=m2.displayName;const q8=dy({email:Ht().email("Correo electrónico inválido"),password:Ht().min(6,"La contraseña debe tener al menos 6 caracteres")});function H8(){var v;const[e,t]=g.useState(!1),[r,n]=g.useState(!1),{signIn:s,signInWithGoogle:i,signInWithGithub:o}=qe(),l=or(),u=((v=sn().state)==null?void 0:v.from)||"/app/dashboard",{register:d,handleSubmit:f,formState:{errors:h}}=sy({resolver:uy(q8)}),m=async y=>{try{t(!0);const{error:x}=await s(y.email,y.password);if(x){x.message.includes("Invalid login credentials")?W.error("Credenciales incorrectas"):W.error("Error al iniciar sesión: "+x.message);return}W.success("¡Bienvenido de vuelta!"),l(u,{replace:!0})}catch(x){W.error("Error inesperado: "+x.message)}finally{t(!1)}},w=async()=>{try{t(!0);const{error:y}=await i();y&&W.error("Error al iniciar sesión con Google: "+y.message)}catch(y){W.error("Error inesperado: "+y.message)}finally{t(!1)}},p=async()=>{try{t(!0);const{error:y}=await o();y&&W.error("Error al iniciar sesión con GitHub: "+y.message)}catch(y){W.error("Error inesperado: "+y.message)}finally{t(!1)}};return a.jsxs(X,{className:"w-full max-w-md mx-auto",children:[a.jsxs(ne,{className:"space-y-1",children:[a.jsx(ie,{className:"text-2xl font-bold text-center",children:"Iniciar Sesión"}),a.jsx(ge,{className:"text-center",children:"Ingresa tus credenciales para acceder a tu cuenta"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("form",{onSubmit:f(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"email",children:"Correo electrónico"}),a.jsx(Ce,{id:"email",type:"email",placeholder:"tu@ejemplo.com",...d("email"),disabled:e}),h.email&&a.jsx("p",{className:"text-sm text-destructive",children:h.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"password",children:"Contraseña"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ce,{id:"password",type:r?"text":"password",placeholder:"••••••••",...d("password"),disabled:e}),a.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!r),disabled:e,children:r?a.jsx(Wo,{className:"h-4 w-4"}):a.jsx(En,{className:"h-4 w-4"})})]}),h.password&&a.jsx("p",{className:"text-sm text-destructive",children:h.password.message})]}),a.jsx(B,{type:"submit",className:"w-full",disabled:e,children:e?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Iniciando sesión..."]}):"Iniciar Sesión"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"O continúa con"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(B,{variant:"outline",onClick:w,disabled:e,children:[a.jsx(px,{className:"mr-2 h-4 w-4"}),"Google"]}),a.jsxs(B,{variant:"outline",onClick:p,disabled:e,children:[a.jsx(oC,{className:"mr-2 h-4 w-4"}),"GitHub"]})]}),a.jsxs("div",{className:"text-center text-sm",children:["¿No tienes cuenta?"," ",a.jsx(Fe,{to:"/register",className:"text-primary hover:underline font-medium",children:"Regístrate aquí"})]})]})]})}const G8=dy({fullName:Ht().min(2,"El nombre debe tener al menos 2 caracteres"),email:Ht().email("Correo electrónico inválido"),password:Ht().min(6,"La contraseña debe tener al menos 6 caracteres"),confirmPassword:Ht()}).refine(e=>e.password===e.confirmPassword,{message:"Las contraseñas no coinciden",path:["confirmPassword"]});function K8(){const[e,t]=g.useState(!1),[r,n]=g.useState(!1),[s,i]=g.useState(!1),{signUp:o,signInWithGoogle:l,signInWithGithub:c}=qe(),u=or(),{register:d,handleSubmit:f,formState:{errors:h}}=sy({resolver:uy(G8)}),m=async v=>{try{t(!0);const{error:y}=await o(v.email,v.password,v.fullName);if(y){y.message.includes("already registered")?W.error("Este correo ya está registrado"):W.error("Error al registrarse: "+y.message);return}W.success("¡Cuenta creada exitosamente! Bienvenido a ConvocatoriasPro"),u("/plans",{replace:!0})}catch(y){W.error("Error inesperado: "+y.message)}finally{t(!1)}},w=async()=>{try{t(!0);const{error:v}=await l();v&&W.error("Error al registrarse con Google: "+v.message)}catch(v){W.error("Error inesperado: "+v.message)}finally{t(!1)}},p=async()=>{try{t(!0);const{error:v}=await c();v&&W.error("Error al registrarse con GitHub: "+v.message)}catch(v){W.error("Error inesperado: "+v.message)}finally{t(!1)}};return a.jsxs(X,{className:"w-full max-w-md mx-auto",children:[a.jsxs(ne,{className:"space-y-1",children:[a.jsx(ie,{className:"text-2xl font-bold text-center",children:"Crear Cuenta"}),a.jsx(ge,{className:"text-center",children:"Únete a ConvocatoriasPro y gestiona tus fondos"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("form",{onSubmit:f(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"fullName",children:"Nombre completo"}),a.jsx(Ce,{id:"fullName",type:"text",placeholder:"Tu nombre completo",...d("fullName"),disabled:e}),h.fullName&&a.jsx("p",{className:"text-sm text-destructive",children:h.fullName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"email",children:"Correo electrónico"}),a.jsx(Ce,{id:"email",type:"email",placeholder:"tu@ejemplo.com",...d("email"),disabled:e}),h.email&&a.jsx("p",{className:"text-sm text-destructive",children:h.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"password",children:"Contraseña"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ce,{id:"password",type:r?"text":"password",placeholder:"••••••••",...d("password"),disabled:e}),a.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!r),disabled:e,children:r?a.jsx(Wo,{className:"h-4 w-4"}):a.jsx(En,{className:"h-4 w-4"})})]}),h.password&&a.jsx("p",{className:"text-sm text-destructive",children:h.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"confirmPassword",children:"Confirmar contraseña"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ce,{id:"confirmPassword",type:s?"text":"password",placeholder:"••••••••",...d("confirmPassword"),disabled:e}),a.jsx(B,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!s),disabled:e,children:s?a.jsx(Wo,{className:"h-4 w-4"}):a.jsx(En,{className:"h-4 w-4"})})]}),h.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:h.confirmPassword.message})]}),a.jsx(B,{type:"submit",className:"w-full",disabled:e,children:e?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando cuenta..."]}):"Crear Cuenta"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"O continúa con"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(B,{variant:"outline",onClick:w,disabled:e,children:[a.jsx(px,{className:"mr-2 h-4 w-4"}),"Google"]}),a.jsxs(B,{variant:"outline",onClick:p,disabled:e,children:[a.jsx(oC,{className:"mr-2 h-4 w-4"}),"GitHub"]})]}),a.jsxs("div",{className:"text-center text-sm",children:["¿Ya tienes cuenta?"," ",a.jsx(Fe,{to:"/login",className:"text-primary hover:underline font-medium",children:"Inicia sesión aquí"})]})]})]})}function pj({type:e}){var r;return(r=sn().state)!=null&&r.from,a.jsx(eC,{requireAuth:!1,children:a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(mr,{className:"h-8 w-8 text-primary"}),a.jsx("span",{className:"text-2xl font-bold",children:"ConvocatoriasPro"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus convocatorias de financiamiento"})]}),e==="login"?a.jsx(H8,{}):a.jsx(K8,{})]})})})}var Z8="Separator",gj="horizontal",Y8=["horizontal","vertical"],p2=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=gj,...s}=e,i=X8(n)?n:gj,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(on.div,{"data-orientation":i,...l,...s,ref:t})});p2.displayName=Z8;function X8(e){return Y8.includes(e)}var g2=p2;const nr=g.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(g2,{ref:s,decorative:r,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));nr.displayName=g2.displayName;const fy=g.createContext({});function hy(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const my=typeof window<"u",v2=my?g.useLayoutEffect:g.useEffect,Th=g.createContext(null);function py(e,t){e.indexOf(t)===-1&&e.push(t)}function gy(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ks=(e,t,r)=>r>t?t:r<e?e:r;let vy=()=>{};const Ps={},x2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function y2(e){return typeof e=="object"&&e!==null}const w2=e=>/^0[^.\s]+$/u.test(e);function xy(e){let t;return()=>(t===void 0&&(t=e()),t)}const en=e=>e,Q8=(e,t)=>r=>t(e(r)),lu=(...e)=>e.reduce(Q8),Oc=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class yy{constructor(){this.subscriptions=[]}add(t){return py(this.subscriptions,t),()=>gy(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qn=e=>e*1e3,Jn=e=>e/1e3;function b2(e,t){return t?e*(1e3/t):0}const j2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,J8=1e-7,e9=12;function t9(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=j2(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>J8&&++l<e9);return o}function cu(e,t,r,n){if(e===t&&r===n)return en;const s=i=>t9(i,0,1,e,r);return i=>i===0||i===1?i:j2(s(i),t,n)}const N2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_2=e=>t=>1-e(1-t),S2=cu(.33,1.53,.69,.99),wy=_2(S2),C2=N2(wy),E2=e=>(e*=2)<1?.5*wy(e):.5*(2-Math.pow(2,-10*(e-1))),by=e=>1-Math.sin(Math.acos(e)),k2=_2(by),P2=N2(by),r9=cu(.42,0,1,1),n9=cu(0,0,.58,1),T2=cu(.42,0,.58,1),s9=e=>Array.isArray(e)&&typeof e[0]!="number",A2=e=>Array.isArray(e)&&typeof e[0]=="number",a9={linear:en,easeIn:r9,easeInOut:T2,easeOut:n9,circIn:by,circInOut:P2,circOut:k2,backIn:wy,backInOut:C2,backOut:S2,anticipate:E2},i9=e=>typeof e=="string",vj=e=>{if(A2(e)){vy(e.length===4);const[t,r,n,s]=e;return cu(t,r,n,s)}else if(i9(e))return a9[e];return e},ed=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function o9(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const w=h&&s?r:n;return f&&o.add(d),w.has(d)||w.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const l9=40;function R2(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=ed.reduce((b,j)=>(b[j]=o9(i),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:w}=o,p=()=>{const b=Ps.useManualTiming?s.timestamp:performance.now();r=!1,Ps.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,l9),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),m.process(s),w.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:ed.reduce((b,j)=>{const N=o[j];return b[j]=(k,S=!1,E=!1)=>(r||v(),N.schedule(k,S,E)),b},{}),cancel:b=>{for(let j=0;j<ed.length;j++)o[ed[j]].cancel(b)},state:s,steps:o}}const{schedule:st,cancel:ka,state:Gt,steps:Lm}=R2(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0);let Sd;function c9(){Sd=void 0}const _r={now:()=>(Sd===void 0&&_r.set(Gt.isProcessing||Ps.useManualTiming?Gt.timestamp:performance.now()),Sd),set:e=>{Sd=e,queueMicrotask(c9)}},M2=e=>t=>typeof t=="string"&&t.startsWith(e),jy=M2("--"),u9=M2("var(--"),Ny=e=>u9(e)?d9.test(e.split("/*")[0].trim()):!1,d9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ul={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Lc={...ul,transform:e=>ks(0,1,e)},td={...ul,default:1},sc=e=>Math.round(e*1e5)/1e5,_y=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function f9(e){return e==null}const h9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sy=(e,t)=>r=>!!(typeof r=="string"&&h9.test(r)&&r.startsWith(e)||t&&!f9(r)&&Object.prototype.hasOwnProperty.call(r,t)),D2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(_y);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},m9=e=>ks(0,255,e),$m={...ul,transform:e=>Math.round(m9(e))},ri={test:Sy("rgb","red"),parse:D2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+$m.transform(e)+", "+$m.transform(t)+", "+$m.transform(r)+", "+sc(Lc.transform(n))+")"};function p9(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Ag={test:Sy("#"),parse:p9,transform:ri.transform},uu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hs=uu("deg"),es=uu("%"),xe=uu("px"),g9=uu("vh"),v9=uu("vw"),xj={...es,parse:e=>es.parse(e)/100,transform:e=>es.transform(e*100)},lo={test:Sy("hsl","hue"),parse:D2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+es.transform(sc(t))+", "+es.transform(sc(r))+", "+sc(Lc.transform(n))+")"},Nt={test:e=>ri.test(e)||Ag.test(e)||lo.test(e),parse:e=>ri.test(e)?ri.parse(e):lo.test(e)?lo.parse(e):Ag.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ri.transform(e):lo.transform(e),getAnimatableNone:e=>{const t=Nt.parse(e);return t.alpha=0,Nt.transform(t)}},x9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function y9(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_y))==null?void 0:t.length)||0)+(((r=e.match(x9))==null?void 0:r.length)||0)>0}const I2="number",O2="color",w9="var",b9="var(",yj="${}",j9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $c(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(j9,c=>(Nt.test(c)?(n.color.push(i),s.push(O2),r.push(Nt.parse(c))):c.startsWith(b9)?(n.var.push(i),s.push(w9),r.push(c)):(n.number.push(i),s.push(I2),r.push(parseFloat(c))),++i,yj)).split(yj);return{values:r,split:l,indexes:n,types:s}}function L2(e){return $c(e).values}function $2(e){const{split:t,types:r}=$c(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===I2?i+=sc(s[o]):l===O2?i+=Nt.transform(s[o]):i+=s[o]}return i}}const N9=e=>typeof e=="number"?0:Nt.test(e)?Nt.getAnimatableNone(e):e;function _9(e){const t=L2(e);return $2(e)(t.map(N9))}const Pa={test:y9,parse:L2,createTransformer:$2,getAnimatableNone:_9};function Fm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function S9({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Fm(c,l,e+1/3),i=Fm(c,l,e),o=Fm(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Nf(e,t){return r=>r>0?t:e}const ot=(e,t,r)=>e+(t-e)*r,zm=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},C9=[Ag,ri,lo],E9=e=>C9.find(t=>t.test(e));function wj(e){const t=E9(e);if(!t)return!1;let r=t.parse(e);return t===lo&&(r=S9(r)),r}const bj=(e,t)=>{const r=wj(e),n=wj(t);if(!r||!n)return Nf(e,t);const s={...r};return i=>(s.red=zm(r.red,n.red,i),s.green=zm(r.green,n.green,i),s.blue=zm(r.blue,n.blue,i),s.alpha=ot(r.alpha,n.alpha,i),ri.transform(s))},Rg=new Set(["none","hidden"]);function k9(e,t){return Rg.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function P9(e,t){return r=>ot(e,t,r)}function Cy(e){return typeof e=="number"?P9:typeof e=="string"?Ny(e)?Nf:Nt.test(e)?bj:R9:Array.isArray(e)?F2:typeof e=="object"?Nt.test(e)?bj:T9:Nf}function F2(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>Cy(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function T9(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Cy(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function A9(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],l=e.values[o]??0;r[s]=l,n[i]++}return r}const R9=(e,t)=>{const r=Pa.createTransformer(t),n=$c(e),s=$c(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Rg.has(e)&&!s.values.length||Rg.has(t)&&!n.values.length?k9(e,t):lu(F2(A9(n,s),s.values),r):Nf(e,t)};function z2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ot(e,t,r):Cy(e)(e,t)}const M9=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>st.update(t,r),stop:()=>ka(t),now:()=>Gt.isProcessing?Gt.timestamp:_r.now()}},V2=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},_f=2e4;function Ey(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<_f;)t+=r,n=e.next(t);return t>=_f?1/0:t}function D9(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(Ey(n),_f);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Jn(s)}}const I9=5;function U2(e,t,r){const n=Math.max(t-I9,0);return b2(r-e(n),t-n)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jj=.001;function O9({duration:e=ft.duration,bounce:t=ft.bounce,velocity:r=ft.velocity,mass:n=ft.mass}){let s,i,o=1-t;o=ks(ft.minDamping,ft.maxDamping,o),e=ks(ft.minDuration,ft.maxDuration,Jn(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-r,m=Mg(u,o),w=Math.exp(-f);return jj-h/m*w},i=u=>{const f=u*o*e,h=f*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-f),p=Mg(Math.pow(u,2),o);return(-s(u)+jj>0?-1:1)*((h-m)*w)/p}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-.001+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=$9(s,i,l);if(e=Qn(e),isNaN(c))return{stiffness:ft.stiffness,damping:ft.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const L9=12;function $9(e,t,r){let n=r;for(let s=1;s<L9;s++)n=n-e(n)/t(n);return n}function Mg(e,t){return e*Math.sqrt(1-t*t)}const F9=["duration","bounce"],z9=["stiffness","damping","mass"];function Nj(e,t){return t.some(r=>e[r]!==void 0)}function V9(e){let t={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...e};if(!Nj(e,z9)&&Nj(e,F9))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*ks(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ft.mass,stiffness:s,damping:i}}else{const r=O9(e);t={...t,...r,mass:ft.mass},t.isResolvedFromDuration=!0}return t}function Sf(e=ft.visualDuration,t=ft.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=V9({...r,velocity:-Jn(r.velocity||0)}),w=h||0,p=u/(2*Math.sqrt(c*d)),v=o-i,y=Jn(Math.sqrt(c/d)),x=Math.abs(v)<5;n||(n=x?ft.restSpeed.granular:ft.restSpeed.default),s||(s=x?ft.restDelta.granular:ft.restDelta.default);let b;if(p<1){const N=Mg(y,p);b=k=>{const S=Math.exp(-p*y*k);return o-S*((w+p*y*v)/N*Math.sin(N*k)+v*Math.cos(N*k))}}else if(p===1)b=N=>o-Math.exp(-y*N)*(v+(w+y*v)*N);else{const N=y*Math.sqrt(p*p-1);b=k=>{const S=Math.exp(-p*y*k),E=Math.min(N*k,300);return o-S*((w+p*y*v)*Math.sinh(E)+N*v*Math.cosh(E))/N}}const j={calculatedDuration:m&&f||null,next:N=>{const k=b(N);if(m)l.done=N>=f;else{let S=N===0?w:0;p<1&&(S=N===0?Qn(w):U2(b,N,k));const E=Math.abs(S)<=n,P=Math.abs(o-k)<=s;l.done=E&&P}return l.value=l.done?o:k,l},toString:()=>{const N=Math.min(Ey(j),_f),k=V2(S=>j.next(N*S).value,N,30);return N+"ms "+k},toTransition:()=>{}};return j}Sf.applyToOptions=e=>{const t=D9(e,100,Sf);return e.ease=t.ease,e.duration=Qn(t.duration),e.type="keyframes",e};function Dg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>l!==void 0&&E<l||c!==void 0&&E>c,w=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let p=r*t;const v=f+p,y=o===void 0?v:o(v);y!==v&&(p=y-f);const x=E=>-p*Math.exp(-E/n),b=E=>y+x(E),j=E=>{const P=x(E),C=b(E);h.done=Math.abs(P)<=u,h.value=h.done?y:C};let N,k;const S=E=>{m(h.value)&&(N=E,k=Sf({keyframes:[h.value,w(h.value)],velocity:U2(b,E,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let P=!1;return!k&&N===void 0&&(P=!0,j(E),S(E)),N!==void 0&&E>=N?k.next(E-N):(!P&&j(E),h)}}}function U9(e,t,r){const n=[],s=r||Ps.mix||z2,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||en:t;l=lu(c,l)}n.push(l)}return n}function B9(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(vy(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=U9(t,n,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Oc(e[f],e[f+1],d);return l[f](h)};return r?d=>u(ks(e[0],e[i-1],d)):u}function W9(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Oc(0,t,n);e.push(ot(r,1,s))}}function q9(e){const t=[0];return W9(t,e.length-1),t}function H9(e,t){return e.map(r=>r*t)}function G9(e,t){return e.map(()=>t||T2).splice(0,e.length-1)}function ac({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=s9(n)?n.map(vj):vj(n),i={done:!1,value:t[0]},o=H9(r&&r.length===t.length?r:q9(t),e),l=B9(o,t,{ease:Array.isArray(s)?s:G9(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const K9=e=>e!==null;function ky(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(K9),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Z9={decay:Dg,inertia:Dg,tween:ac,keyframes:ac,spring:Sf};function B2(e){typeof e.type=="string"&&(e.type=Z9[e.type])}class Py{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Y9=e=>e/100;class Ty extends Py{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==_r.now()&&this.tick(_r.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;B2(t);const{type:r=ac,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||ac;c!==ac&&typeof l[0]!="number"&&(this.mixKeyframes=lu(Y9,z2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ey(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:w,onUpdate:p,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,j=n;if(f){const E=Math.min(this.currentTime,s)/l;let P=Math.floor(E),C=E%1;!C&&E>=1&&(C=1),C===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(h==="reverse"?(C=1-C,m&&(C-=m/l)):h==="mirror"&&(j=o)),b=ks(0,1,C)*l}const N=x?{done:!1,value:d[0]}:j.next(b);i&&(N.value=i(N.value));let{done:k}=N;!x&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return S&&w!==Dg&&(N.value=ky(d,this.options,v,this.speed)),p&&p(N.value),S&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return Jn(this.calculatedDuration)}get time(){return Jn(this.currentTime)}set time(t){var r;t=Qn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_r.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Jn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=M9,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_r.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function X9(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ni=e=>e*180/Math.PI,Ig=e=>{const t=ni(Math.atan2(e[1],e[0]));return Og(t)},Q9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ig,rotateZ:Ig,skewX:e=>ni(Math.atan(e[1])),skewY:e=>ni(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Og=e=>(e=e%360,e<0&&(e+=360),e),_j=Ig,Sj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Cj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),J9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sj,scaleY:Cj,scale:e=>(Sj(e)+Cj(e))/2,rotateX:e=>Og(ni(Math.atan2(e[6],e[5]))),rotateY:e=>Og(ni(Math.atan2(-e[2],e[0]))),rotateZ:_j,rotate:_j,skewX:e=>ni(Math.atan(e[4])),skewY:e=>ni(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Lg(e){return e.includes("scale")?1:0}function $g(e,t){if(!e||e==="none")return Lg(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=J9,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Q9,s=l}if(!s)return Lg(t);const i=n[t],o=s[1].split(",").map(tW);return typeof i=="function"?i(o):o[i]}const eW=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return $g(r,t)};function tW(e){return parseFloat(e.trim())}const dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(dl),Ej=e=>e===ul||e===xe,rW=new Set(["x","y","z"]),nW=dl.filter(e=>!rW.has(e));function sW(e){const t=[];return nW.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const fi={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$g(t,"x"),y:(e,{transform:t})=>$g(t,"y")};fi.translateX=fi.x;fi.translateY=fi.y;const hi=new Set;let Fg=!1,zg=!1,Vg=!1;function W2(){if(zg){const e=Array.from(hi).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=sW(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}zg=!1,Fg=!1,hi.forEach(e=>e.complete(Vg)),hi.clear()}function q2(){hi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zg=!0)})}function aW(){Vg=!0,q2(),W2(),Vg=!1}class Ay{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(hi.add(this),Fg||(Fg=!0,st.read(q2),st.resolveKeyframes(W2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}X9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),hi.delete(this)}cancel(){this.state==="scheduled"&&(hi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iW=e=>e.startsWith("--");function oW(e,t,r){iW(t)?e.style.setProperty(t,r):e.style[t]=r}const lW=xy(()=>window.ScrollTimeline!==void 0),cW={};function uW(e,t){const r=xy(e);return()=>cW[t]??r()}const H2=uW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,kj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vl([0,.65,.55,1]),circOut:Vl([.55,0,1,.45]),backIn:Vl([.31,.01,.66,-.59]),backOut:Vl([.33,1.53,.69,.99])};function G2(e,t){if(e)return typeof e=="function"?H2()?V2(e,t):"ease-out":A2(e)?Vl(e):Array.isArray(e)?e.map(r=>G2(r,t)||kj.easeOut):kj[e]}function dW(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=G2(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function K2(e){return typeof e=="function"&&"applyToOptions"in e}function fW({type:e,...t}){return K2(e)&&H2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class hW extends Py{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,vy(typeof t.type!="string");const u=fW(t);this.animation=dW(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=ky(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):oW(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Jn(Number(t))}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Qn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&lW()?(this.animation.timeline=t,en):r(this)}}const Z2={anticipate:E2,backInOut:C2,circInOut:P2};function mW(e){return e in Z2}function pW(e){typeof e.ease=="string"&&mW(e.ease)&&(e.ease=Z2[e.ease])}const Pj=10;class gW extends hW{constructor(t){pW(t),B2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new Ty({...o,autoplay:!1}),c=Qn(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-Pj).value,l.sample(c).value,Pj),l.stop()}}const Tj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pa.test(e)||e==="0")&&!e.startsWith("url("));function vW(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function xW(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Tj(s,t),l=Tj(i,t);return!o||!l?!1:vW(e)||(r==="spring"||K2(r))&&n}function Ug(e){e.duration=0,e.type}const yW=new Set(["opacity","clipPath","filter","transform"]),wW=xy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bW(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return wW()&&r&&yW.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const jW=40;class NW extends Py{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var w;super(),this.stop=()=>{var p,v;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=_r.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||Ay;this.keyframeResolver=new m(l,(p,v,y)=>this.onKeyframesResolved(p,v,h,!y),c,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=_r.now(),xW(t,i,o,l)||((Ps.instantAnimations||!c)&&(d==null||d(ky(t,n,r))),t[0]=t[t.length-1],Ug(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>jW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&bW(h)?new gW({...h,element:h.motionValue.owner.current}):new Ty(h);m.finished.then(()=>this.notifyFinished()).catch(en),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),aW()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const _W=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SW(e){const t=_W.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Y2(e,t,r=1){const[n,s]=SW(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return x2(o)?parseFloat(o):o}return Ny(s)?Y2(s,t,r+1):s}function Ry(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const X2=new Set(["width","height","top","left","right","bottom",...dl]),CW={test:e=>e==="auto",parse:e=>e},Q2=e=>t=>t.test(e),J2=[ul,xe,es,Hs,v9,g9,CW],Aj=e=>J2.find(Q2(e));function EW(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||w2(e):!0}const kW=new Set(["brightness","contrast","saturate","opacity"]);function PW(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(_y)||[];if(!n)return e;const s=r.replace(n,"");let i=kW.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const TW=/\b([a-z-]*)\(.*?\)/gu,Bg={...Pa,getAnimatableNone:e=>{const t=e.match(TW);return t?t.map(PW).join(" "):e}},Rj={...ul,transform:Math.round},AW={rotate:Hs,rotateX:Hs,rotateY:Hs,rotateZ:Hs,scale:td,scaleX:td,scaleY:td,scaleZ:td,skew:Hs,skewX:Hs,skewY:Hs,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Lc,originX:xj,originY:xj,originZ:xe},My={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...AW,zIndex:Rj,fillOpacity:Lc,strokeOpacity:Lc,numOctaves:Rj},RW={...My,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Bg,WebkitFilter:Bg},eP=e=>RW[e];function tP(e,t){let r=eP(e);return r!==Bg&&(r=Pa),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const MW=new Set(["auto","none","0"]);function DW(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!MW.has(i)&&$c(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=tP(r,s)}class IW extends Ay{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Ny(u))){const d=Y2(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!X2.has(n)||t.length!==2)return;const[s,i]=t,o=Aj(s),l=Aj(i);if(o!==l)if(Ej(o)&&Ej(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else fi[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||EW(t[s]))&&n.push(s);n.length&&DW(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=fi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function OW(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const rP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function nP(e){return y2(e)&&"offsetHeight"in e}const Mj=30,LW=e=>!isNaN(parseFloat(e));class $W{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=_r.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=_r.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=LW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new yy);const n=this.events[t].add(r);return t==="change"?()=>{n(),st.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_r.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Mj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Mj);return b2(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(e,t){return new $W(e,t)}const{schedule:Dy}=R2(queueMicrotask,!1),mn={x:!1,y:!1};function sP(){return mn.x||mn.y}function FW(e){return e==="x"||e==="y"?mn[e]?null:(mn[e]=!0,()=>{mn[e]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}function aP(e,t){const r=OW(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Dj(e){return!(e.pointerType==="touch"||sP())}function zW(e,t,r={}){const[n,s,i]=aP(e,r),o=l=>{if(!Dj(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{Dj(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const iP=(e,t)=>t?e===t?!0:iP(e,t.parentElement):!1,Iy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UW(e){return VW.has(e.tagName)||e.tabIndex!==-1}const Cd=new WeakSet;function Ij(e){return t=>{t.key==="Enter"&&e(t)}}function Vm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const BW=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Ij(()=>{if(Cd.has(r))return;Vm(r,"down");const s=Ij(()=>{Vm(r,"up")}),i=()=>Vm(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Oj(e){return Iy(e)&&!sP()}function WW(e,t,r={}){const[n,s,i]=aP(e,r),o=l=>{const c=l.currentTarget;if(!Oj(l))return;Cd.add(c);const u=t(c,l),d=(m,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Cd.has(c)&&Cd.delete(c),Oj(m)&&typeof u=="function"&&u(m,{success:w})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||iP(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),nP(l)&&(l.addEventListener("focus",u=>BW(u,s)),!UW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function oP(e){return y2(e)&&"ownerSVGElement"in e}function qW(e){return oP(e)&&e.tagName==="svg"}const ar=e=>!!(e&&e.getVelocity),HW=[...J2,Nt,Pa],GW=e=>HW.find(Q2(e)),Oy=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class KW extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=nP(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZW({children:e,isPresent:t,anchorX:r,root:n}){const s=g.useId(),i=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(Oy);return g.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=o.current;if(t||!i.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");l&&(w.nonce=l);const p=n??document.head;return p.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{p.contains(w)&&p.removeChild(w)}},[t]),a.jsx(KW,{isPresent:t,childRef:i,sizeRef:o,children:g.cloneElement(e,{ref:i})})}const YW=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=hy(XW),d=g.useId();let f=!0,h=g.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:m=>{u.set(m,!0);for(const w of u.values())if(!w)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return i&&f&&(h={...h}),g.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[r]),g.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(ZW,{isPresent:r,anchorX:l,root:c,children:e})),a.jsx(Th.Provider,{value:h,children:e})};function XW(){return new Map}function lP(e=!0){const t=g.useContext(Th);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=g.useId();g.useEffect(()=>{if(e)return s(i)},[e]);const o=g.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const rd=e=>e.key||"";function Lj(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const QW=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=lP(o),f=g.useMemo(()=>Lj(e),[e]),h=o&&!u?[]:f.map(rd),m=g.useRef(!0),w=g.useRef(f),p=hy(()=>new Map),[v,y]=g.useState(f),[x,b]=g.useState(f);v2(()=>{m.current=!1,w.current=f;for(let k=0;k<x.length;k++){const S=rd(x[k]);h.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[x,h.length,h.join("-")]);const j=[];if(f!==v){let k=[...f];for(let S=0;S<x.length;S++){const E=x[S],P=rd(E);h.includes(P)||(k.splice(S,0,E),j.push(E))}return i==="wait"&&j.length&&(k=j),b(Lj(k)),y(f),null}const{forceRender:N}=g.useContext(fy);return a.jsx(a.Fragment,{children:x.map(k=>{const S=rd(k),E=o&&!u?!1:f===x||h.includes(S),P=()=>{if(p.has(S))p.set(S,!0);else return;let C=!0;p.forEach(A=>{A||(C=!1)}),C&&(N==null||N(),b(w.current),o&&(d==null||d()),n&&n())};return a.jsx(YW,{isPresent:E,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:E?void 0:P,anchorX:l,children:k},S)})})},cP=g.createContext({strict:!1}),$j={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const e in $j)Xo[e]={isEnabled:t=>$j[e].some(r=>!!t[r])};function JW(e){for(const t in e)Xo[t]={...Xo[t],...e[t]}}const e7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||e7.has(e)}let uP=e=>!Cf(e);function t7(e){typeof e=="function"&&(uP=t=>t.startsWith("on")?!Cf(t):e(t))}try{t7(require("@emotion/is-prop-valid").default)}catch{}function r7(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(uP(s)||r===!0&&Cf(s)||!t&&!Cf(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const Ah=g.createContext({});function Rh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fc(e){return typeof e=="string"||Array.isArray(e)}const Ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$y=["initial",...Ly];function Mh(e){return Rh(e.animate)||$y.some(t=>Fc(e[t]))}function dP(e){return!!(Mh(e)||e.variants)}function n7(e,t){if(Mh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Fc(r)?r:void 0,animate:Fc(n)?n:void 0}}return e.inherit!==!1?t:{}}function s7(e){const{initial:t,animate:r}=n7(e,g.useContext(Ah));return g.useMemo(()=>({initial:t,animate:r}),[Fj(t),Fj(r)])}function Fj(e){return Array.isArray(e)?e.join(" "):e}const zc={};function a7(e){for(const t in e)zc[t]=e[t],jy(t)&&(zc[t].isCSSVariable=!0)}function fP(e,{layout:t,layoutId:r}){return fl.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!zc[e]||e==="opacity")}const i7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o7=dl.length;function l7(e,t,r){let n="",s=!0;for(let i=0;i<o7;i++){const o=dl[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=rP(l,My[o]);if(!c){s=!1;const d=i7[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Fy(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(fl.has(c)){o=!0;continue}else if(jy(c)){s[c]=u;continue}else{const d=rP(u,My[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=l7(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hP(e,t,r){for(const n in t)!ar(t[n])&&!fP(n,r)&&(e[n]=t[n])}function c7({transformTemplate:e},t){return g.useMemo(()=>{const r=zy();return Fy(r,t,e),Object.assign({},r.vars,r.style)},[t])}function u7(e,t){const r=e.style||{},n={};return hP(n,r,e),Object.assign(n,c7(e,t)),n}function d7(e,t){const r={},n=u7(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const f7={offset:"stroke-dashoffset",array:"stroke-dasharray"},h7={offset:"strokeDashoffset",array:"strokeDasharray"};function m7(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?f7:h7;e[i.offset]=xe.transform(-n);const o=xe.transform(t),l=xe.transform(r);e[i.array]=`${o} ${l}`}function mP(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(Fy(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&m7(f,s,i,o,!1)}const pP=()=>({...zy(),attrs:{}}),gP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function p7(e,t,r,n){const s=g.useMemo(()=>{const i=pP();return mP(i,t,gP(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};hP(i,e.style,e),s.style={...i,...s.style}}return s}const g7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vy(e){return typeof e!="string"||e.includes("-")?!1:!!(g7.indexOf(e)>-1||/[A-Z]/u.test(e))}function v7(e,t,r,{latestValues:n},s,i=!1){const l=(Vy(e)?p7:d7)(t,n,s,e),c=r7(t,typeof e=="string",i),u=e!==g.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=g.useMemo(()=>ar(d)?d.get():d,[d]);return g.createElement(e,{...u,children:f})}function zj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Uy(e,t,r,n){if(typeof t=="function"){const[s,i]=zj(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=zj(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function Ed(e){return ar(e)?e.get():e}function x7({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:y7(r,n,s,e),renderState:t()}}function y7(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=Ed(i[h]);let{initial:o,animate:l}=e;const c=Mh(e),u=dP(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Rh(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const w=Uy(e,h[m]);if(w){const{transitionEnd:p,transition:v,...y}=w;for(const x in y){let b=y[x];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[x]=b)}for(const x in p)s[x]=p[x]}}}return s}const vP=e=>(t,r)=>{const n=g.useContext(Ah),s=g.useContext(Th),i=()=>x7(e,t,n,s);return r?i():hy(i)};function By(e,t,r){var i;const{style:n}=e,s={};for(const o in n)(ar(n[o])||t.style&&ar(t.style[o])||fP(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const w7=vP({scrapeMotionValuesFromProps:By,createRenderState:zy});function xP(e,t,r){const n=By(e,t,r);for(const s in e)if(ar(e[s])||ar(t[s])){const i=dl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const b7=vP({scrapeMotionValuesFromProps:xP,createRenderState:pP}),j7=Symbol.for("motionComponentSymbol");function co(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function N7(e,t,r){return g.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):co(r)&&(r.current=n))},[t])}const Wy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_7="framerAppearId",yP="data-"+Wy(_7),wP=g.createContext({});function S7(e,t,r,n,s){var p,v;const{visualElement:i}=g.useContext(Ah),o=g.useContext(cP),l=g.useContext(Th),c=g.useContext(Oy).reducedMotion,u=g.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=g.useContext(wP);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&C7(u.current,r,s,f);const h=g.useRef(!1);g.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[yP],w=g.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return v2(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),w.current=!1),d.enteringChildren=void 0)}),d}function C7(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:bP(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&co(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function bP(e){if(e)return e.options.allowProjection!==!1?e.projection:bP(e.parent)}function Um(e,{forwardMotionProps:t=!1}={},r,n){r&&JW(r);const s=Vy(e)?b7:w7;function i(l,c){let u;const d={...g.useContext(Oy),...l,layoutId:E7(l)},{isStatic:f}=d,h=s7(l),m=s(l,f);if(!f&&my){k7();const w=P7(d);u=w.MeasureLayout,h.visualElement=S7(e,m,d,n,w.ProjectionNode)}return a.jsxs(Ah.Provider,{value:h,children:[u&&h.visualElement?a.jsx(u,{visualElement:h.visualElement,...d}):null,v7(e,l,N7(m,h.visualElement,c),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=g.forwardRef(i);return o[j7]=e,o}function E7({layoutId:e}){const t=g.useContext(fy).id;return t&&e!==void 0?t+"-"+e:e}function k7(e,t){g.useContext(cP).strict}function P7(e){const{drag:t,layout:r}=Xo;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function T7(e,t){if(typeof Proxy>"u")return Um;const r=new Map,n=(i,o)=>Um(i,o,e,t),s=(i,o)=>n(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,Um(o,void 0,e,t)),r.get(o))})}function jP({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function A7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function R7(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Bm(e){return e===void 0||e===1}function Wg({scale:e,scaleX:t,scaleY:r}){return!Bm(e)||!Bm(t)||!Bm(r)}function Za(e){return Wg(e)||NP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function NP(e){return Vj(e.x)||Vj(e.y)}function Vj(e){return e&&e!=="0%"}function Ef(e,t,r){const n=e-r,s=t*n;return r+s}function Uj(e,t,r,n,s){return s!==void 0&&(e=Ef(e,s,n)),Ef(e,r,n)+t}function qg(e,t=0,r=1,n,s){e.min=Uj(e.min,t,r,n,s),e.max=Uj(e.max,t,r,n,s)}function _P(e,{x:t,y:r}){qg(e.x,t.translate,t.scale,t.originPoint),qg(e.y,r.translate,r.scale,r.originPoint)}const Bj=.999999999999,Wj=1.0000000000001;function M7(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,_P(e,o)),n&&Za(i.latestValues)&&fo(e,i.latestValues))}t.x<Wj&&t.x>Bj&&(t.x=1),t.y<Wj&&t.y>Bj&&(t.y=1)}function uo(e,t){e.min=e.min+t,e.max=e.max+t}function qj(e,t,r,n,s=.5){const i=ot(e.min,e.max,s);qg(e,t,r,i,n)}function fo(e,t){qj(e.x,t.x,t.scaleX,t.scale,t.originX),qj(e.y,t.y,t.scaleY,t.scale,t.originY)}function SP(e,t){return jP(R7(e.getBoundingClientRect(),t))}function D7(e,t,r){const n=SP(e,r),{scroll:s}=t;return s&&(uo(n.x,s.offset.x),uo(n.y,s.offset.y)),n}const Hj=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:Hj(),y:Hj()}),Gj=()=>({min:0,max:0}),pt=()=>({x:Gj(),y:Gj()}),Hg={current:null},CP={current:!1};function I7(){if(CP.current=!0,!!my)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hg.current=e.matches;e.addEventListener("change",t),t()}else Hg.current=!1}const O7=new WeakMap;function L7(e,t,r){for(const n in t){const s=t[n],i=r[n];if(ar(s))e.addValue(n,s);else if(ar(i))e.addValue(n,Yo(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Yo(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Kj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $7{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ay,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=_r.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,st.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Mh(r),this.isVariantNode=dP(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&ar(m)&&m.set(c[h])}}mount(t){var r;this.current=t,O7.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),CP.current||I7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hg.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ka(this.notifyUpdate),ka(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=fl.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&st.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xo){const r=Xo[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Kj.length;n++){const s=Kj[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=L7(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Yo(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(x2(n)||w2(n))?n=parseFloat(n):!GW(n)&&Pa.test(r)&&(n=tP(t,r)),this.setBaseTarget(t,ar(n)?n.get():n)),ar(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Uy(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ar(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new yy),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Dy.render(this.render)}}class EP extends $7{constructor(){super(...arguments),this.KeyframeResolver=IW}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ar(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function kP(e,{style:t,vars:r},n,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function F7(e){return window.getComputedStyle(e)}class z7 extends EP{constructor(){super(...arguments),this.type="html",this.renderInstance=kP}readValueFromInstance(t,r){var n;if(fl.has(r))return(n=this.projection)!=null&&n.isProjecting?Lg(r):eW(t,r);{const s=F7(t),i=(jy(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return SP(t,r)}build(t,r,n){Fy(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return By(t,r,n)}}const PP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V7(e,t,r,n){kP(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(PP.has(s)?s:Wy(s),t.attrs[s])}class U7 extends EP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(fl.has(r)){const n=eP(r);return n&&n.default||0}return r=PP.has(r)?r:Wy(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return xP(t,r,n)}build(t,r,n){mP(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){V7(t,r,n,s)}mount(t){this.isSVGTag=gP(t.tagName),super.mount(t)}}const B7=(e,t)=>Vy(e)?new U7(t):new z7(t,{allowProjection:e!==g.Fragment});function _o(e,t,r){const n=e.getProps();return Uy(n,t,r!==void 0?r:n.custom,e)}const Gg=e=>Array.isArray(e);function W7(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Yo(r))}function q7(e){return Gg(e)?e[e.length-1]||0:e}function H7(e,t){const r=_o(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=q7(i[o]);W7(e,o,l)}}function G7(e){return!!(ar(e)&&e.add)}function Kg(e,t){const r=e.getValue("willChange");if(G7(r))return r.add(t);if(!r&&Ps.WillChange){const n=new Ps.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function TP(e){return e.props[yP]}const K7=e=>e!==null;function Z7(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(K7),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const Y7={type:"spring",stiffness:500,damping:25,restSpeed:10},X7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Q7={type:"keyframes",duration:.8},J7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eq=(e,{keyframes:t})=>t.length>2?Q7:fl.has(e)?e.startsWith("scale")?X7(t[1]):Y7:J7;function tq({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const qy=(e,t,r,n={},s,i)=>o=>{const l=Ry(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Qn(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};tq(l)||Object.assign(d,eq(e,d)),d.duration&&(d.duration=Qn(d.duration)),d.repeatDelay&&(d.repeatDelay=Qn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Ug(d),d.delay===0&&(f=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(f=!0,Ug(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=Z7(d.keyframes,l);if(h!==void 0){st.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new Ty(d):new NW(d)};function rq({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function AP(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&rq(u,d))continue;const m={delay:r,...Ry(i||{},d)},w=f.get();if(w!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===w&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=TP(e);if(y){const x=window.MotionHandoffAnimation(y,d,st);x!==null&&(m.startTime=x,p=!0)}}Kg(e,d),f.start(qy(d,f,h,e.shouldReduceMotion&&X2.has(d)?{type:!1}:m,e,p));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{st.update(()=>{o&&H7(e,o)})}),c}function RP(e,t,r,n=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:l-i*n}function Zg(e,t,r={}){var c;const n=_o(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(AP(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return nq(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function nq(e,t,r=0,n=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Zg(c,t,{...o,delay:r+(typeof n=="function"?0:n)+RP(e.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function sq(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Zg(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Zg(e,t,r);else{const s=typeof t=="function"?_o(e,t,r.custom):t;n=Promise.all(AP(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function MP(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const aq=$y.length;function DP(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?DP(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<aq;r++){const n=$y[r],s=e.props[n];(Fc(s)||s===!1)&&(t[n]=s)}return t}const iq=[...Ly].reverse(),oq=Ly.length;function lq(e){return t=>Promise.all(t.map(({animation:r,options:n})=>sq(e,r,n)))}function cq(e){let t=lq(e),r=Zj(),n=!0;const s=c=>(u,d)=>{var h;const f=_o(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:w,...p}=f;u={...u,...p,...w}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=DP(e.parent)||{},f=[],h=new Set;let m={},w=1/0;for(let v=0;v<oq;v++){const y=iq[v],x=r[y],b=u[y]!==void 0?u[y]:d[y],j=Fc(b),N=y===c?x.isActive:null;N===!1&&(w=v);let k=b===d[y]&&b!==u[y]&&j;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...m},!x.isActive&&N===null||!b&&!x.prevProp||Rh(b)||typeof b=="boolean")continue;const S=uq(x.prevProp,b);let E=S||y===c&&x.isActive&&!k&&j||v>w&&j,P=!1;const C=Array.isArray(b)?b:[b];let A=C.reduce(s(y),{});N===!1&&(A={});const{prevResolvedValues:M={}}=x,R={...M,...A},L=z=>{E=!0,h.has(z)&&(P=!0,h.delete(z)),x.needsAnimating[z]=!0;const D=e.getValue(z);D&&(D.liveStyle=!1)};for(const z in R){const D=A[z],I=M[z];if(m.hasOwnProperty(z))continue;let G=!1;Gg(D)&&Gg(I)?G=!MP(D,I):G=D!==I,G?D!=null?L(z):h.add(z):D!==void 0&&h.has(z)?L(z):x.protectedKeys[z]=!0}x.prevProp=b,x.prevResolvedValues=A,x.isActive&&(m={...m,...A}),n&&e.blockInitialAnimation&&(E=!1);const U=k&&S;E&&(!U||P)&&f.push(...C.map(z=>{const D={type:y};if(typeof z=="string"&&n&&!U&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,G=_o(I,z);if(I.enteringChildren&&G){const{delayChildren:oe}=G.transition||{};D.delay=RP(I.enteringChildren,e,oe)}}return{animation:z,options:D}}))}if(h.size){const v={};if(typeof u.initial!="boolean"){const y=_o(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const x=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=x??null}),f.push({animation:v})}let p=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=o(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Zj(),n=!0}}}function uq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MP(t,e):!1}function qa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zj(){return{animate:qa(!0),whileInView:qa(),whileHover:qa(),whileTap:qa(),whileDrag:qa(),whileFocus:qa(),exit:qa()}}class La{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dq extends La{constructor(t){super(t),t.animationState||(t.animationState=cq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Rh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let fq=0;class hq extends La{constructor(){super(...arguments),this.id=fq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mq={animation:{Feature:dq},exit:{Feature:hq}};function Vc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function du(e){return{point:{x:e.pageX,y:e.pageY}}}const pq=e=>t=>Iy(t)&&e(t,du(t));function ic(e,t,r,n){return Vc(e,t,pq(r),n)}const IP=1e-4,gq=1-IP,vq=1+IP,OP=.01,xq=0-OP,yq=0+OP;function fr(e){return e.max-e.min}function wq(e,t,r){return Math.abs(e-t)<=r}function Yj(e,t,r,n=.5){e.origin=n,e.originPoint=ot(t.min,t.max,e.origin),e.scale=fr(r)/fr(t),e.translate=ot(r.min,r.max,e.origin)-e.originPoint,(e.scale>=gq&&e.scale<=vq||isNaN(e.scale))&&(e.scale=1),(e.translate>=xq&&e.translate<=yq||isNaN(e.translate))&&(e.translate=0)}function oc(e,t,r,n){Yj(e.x,t.x,r.x,n?n.originX:void 0),Yj(e.y,t.y,r.y,n?n.originY:void 0)}function Xj(e,t,r){e.min=r.min+t.min,e.max=e.min+fr(t)}function bq(e,t,r){Xj(e.x,t.x,r.x),Xj(e.y,t.y,r.y)}function Qj(e,t,r){e.min=t.min-r.min,e.max=e.min+fr(t)}function lc(e,t,r){Qj(e.x,t.x,r.x),Qj(e.y,t.y,r.y)}function Wr(e){return[e("x"),e("y")]}const LP=({current:e})=>e?e.ownerDocument.defaultView:null,Jj=(e,t)=>Math.abs(e-t);function jq(e,t){const r=Jj(e.x,t.x),n=Jj(e.y,t.y);return Math.sqrt(r**2+n**2)}class $P{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=qm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=jq(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:p}=h,{timestamp:v}=Gt;this.history.push({...p,timestamp:v});const{onStart:y,onMove:x}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Wm(m,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:w,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=qm(h.type==="pointercancel"?this.lastMoveEventInfo:Wm(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(h,y),p&&p(h,y)},!Iy(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=du(t),c=Wm(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Gt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,qm(c,this.history)),this.removeListeners=lu(ic(this.contextWindow,"pointermove",this.handlePointerMove),ic(this.contextWindow,"pointerup",this.handlePointerUp),ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ka(this.updatePoint)}}function Wm(e,t){return t?{point:t(e.point)}:e}function e1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qm({point:e},t){return{point:e,delta:e1(e,FP(t)),offset:e1(e,Nq(t)),velocity:_q(t,.1)}}function Nq(e){return e[0]}function FP(e){return e[e.length-1]}function _q(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=FP(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Qn(t)));)r--;if(!n)return{x:0,y:0};const i=Jn(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Sq(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ot(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ot(r,e,n.max):Math.min(e,r)),e}function t1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Cq(e,{top:t,left:r,bottom:n,right:s}){return{x:t1(e.x,r,s),y:t1(e.y,t,n)}}function r1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Eq(e,t){return{x:r1(e.x,t.x),y:r1(e.y,t.y)}}function kq(e,t){let r=.5;const n=fr(e),s=fr(t);return s>n?r=Oc(t.min,t.max-n,e.min):n>s&&(r=Oc(e.min,e.max-s,t.min)),ks(0,1,r)}function Pq(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Yg=.35;function Tq(e=Yg){return e===!1?e=0:e===!0&&(e=Yg),{x:n1(e,"left","right"),y:n1(e,"top","bottom")}}function n1(e,t,r){return{min:s1(e,t),max:s1(e,r)}}function s1(e,t){return typeof e=="number"?e:e[t]||0}const Aq=new WeakMap;class Rq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(du(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:w,onDragStart:p}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FW(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wr(y=>{let x=this.getAxisMotionValue(y).get()||0;if(es.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[y];j&&(x=fr(j)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&st.postRender(()=>p(f,h)),Kg(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:p,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(w&&this.currentDirection===null){this.currentDirection=Mq(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),v&&v(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Wr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new $P(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:LP(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&st.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!nd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Sq(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&co(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Cq(n.layoutBox,t):this.constraints=!1,this.elastic=Tq(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Wr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Pq(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!co(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=D7(n,s.root,this.visualElement.getTransformPagePoint());let o=Eq(s.layout.layoutBox,i);if(r){const l=r(A7(o));this.hasMutatedConstraints=!!l,l&&(o=jP(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Wr(d=>{if(!nd(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Kg(this.visualElement,t),n.start(qy(t,n,0,r,this.visualElement,!1))}stopAnimation(){Wr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Wr(r=>{const{drag:n}=this.getProps();if(!nd(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-ot(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!co(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Wr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=kq({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Wr(o=>{if(!nd(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ot(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Aq.set(this.visualElement,this);const t=this.visualElement.current,r=ic(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();co(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),st.read(n);const o=Vc(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Wr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Yg,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function nd(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Mq(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Dq extends La{constructor(t){super(t),this.removeGroupControls=en,this.removeListeners=en,this.controls=new Rq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const a1=e=>(t,r)=>{e&&st.postRender(()=>e(t,r))};class Iq extends La{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(t){this.session=new $P(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:a1(t),onStart:a1(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&st.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ic(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xe.test(e))e=parseFloat(e);else return e;const r=i1(e,t.target.x),n=i1(e,t.target.y);return`${r}% ${n}%`}},Oq={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Pa.parse(e);if(s.length>5)return n;const i=Pa.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=ot(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let Hm=!1;class Lq extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;a7($q),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),Hm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,Hm=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||st.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Dy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;Hm=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zP(e){const[t,r]=lP(),n=g.useContext(fy);return a.jsx(Lq,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(wP),isPresent:t,safeToRemove:r})}const $q={borderRadius:{...Rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rl,borderTopRightRadius:Rl,borderBottomLeftRadius:Rl,borderBottomRightRadius:Rl,boxShadow:Oq};function Fq(e,t,r){const n=ar(e)?e:Yo(e);return n.start(qy("",n,t,r)),n.animation}const zq=(e,t)=>e.depth-t.depth;class Vq{constructor(){this.children=[],this.isDirty=!1}add(t){py(this.children,t),this.isDirty=!0}remove(t){gy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zq),this.isDirty=!1,this.children.forEach(t)}}function Uq(e,t){const r=_r.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(ka(n),e(i-t))};return st.setup(n,!0),()=>ka(n)}const VP=["TopLeft","TopRight","BottomLeft","BottomRight"],Bq=VP.length,o1=e=>typeof e=="string"?parseFloat(e):e,l1=e=>typeof e=="number"||xe.test(e);function Wq(e,t,r,n,s,i){s?(e.opacity=ot(0,r.opacity??1,qq(n)),e.opacityExit=ot(t.opacity??1,0,Hq(n))):i&&(e.opacity=ot(t.opacity??1,r.opacity??1,n));for(let o=0;o<Bq;o++){const l=`border${VP[o]}Radius`;let c=c1(t,l),u=c1(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||l1(c)===l1(u)?(e[l]=Math.max(ot(o1(c),o1(u),n),0),(es.test(u)||es.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=ot(t.rotate||0,r.rotate||0,n))}function c1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qq=UP(0,.5,k2),Hq=UP(.5,.95,en);function UP(e,t,r){return n=>n<e?0:n>t?1:r(Oc(e,t,n))}function u1(e,t){e.min=t.min,e.max=t.max}function Br(e,t){u1(e.x,t.x),u1(e.y,t.y)}function d1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function f1(e,t,r,n,s){return e-=t,e=Ef(e,1/r,n),s!==void 0&&(e=Ef(e,1/s,n)),e}function Gq(e,t=0,r=1,n=.5,s,i=e,o=e){if(es.test(t)&&(t=parseFloat(t),t=ot(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ot(i.min,i.max,n);e===i&&(l-=t),e.min=f1(e.min,t,r,l,s),e.max=f1(e.max,t,r,l,s)}function h1(e,t,[r,n,s],i,o){Gq(e,t[r],t[n],t[s],t.scale,i,o)}const Kq=["x","scaleX","originX"],Zq=["y","scaleY","originY"];function m1(e,t,r,n){h1(e.x,t,Kq,r?r.x:void 0,n?n.x:void 0),h1(e.y,t,Zq,r?r.y:void 0,n?n.y:void 0)}function p1(e){return e.translate===0&&e.scale===1}function BP(e){return p1(e.x)&&p1(e.y)}function g1(e,t){return e.min===t.min&&e.max===t.max}function Yq(e,t){return g1(e.x,t.x)&&g1(e.y,t.y)}function v1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function WP(e,t){return v1(e.x,t.x)&&v1(e.y,t.y)}function x1(e){return fr(e.x)/fr(e.y)}function y1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Xq{constructor(){this.members=[]}add(t){py(this.members,t),t.scheduleRender()}remove(t){if(gy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qq(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:w}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Gm=["","X","Y","Z"],Jq=1e3;let eH=0;function Km(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function qP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=TP(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",st,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&qP(n)}function HP({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=eH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nH),this.nodes.forEach(oH),this.nodes.forEach(lH),this.nodes.forEach(sH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vq)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yy),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=oP(o)&&!qW(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;st.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=Uq(h,250),kd.hasAnimatedSinceResize&&(kd.hasAnimatedSinceResize=!1,this.nodes.forEach(j1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||hH,{onLayoutAnimationStart:p,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!WP(this.targetLayout,m),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Ry(w,"layout"),onPlay:p,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,x)}else f||j1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ka(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(w1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(b1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iH),this.nodes.forEach(tH),this.nodes.forEach(rH)):this.nodes.forEach(b1),this.clearAllSnapshots();const l=_r.now();Gt.delta=ks(0,1e3/60,l-Gt.timestamp),Gt.timestamp=l,Gt.isProcessing=!0,Lm.update.process(Gt),Lm.preRender.process(Gt),Lm.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aH),this.sharedNodes.forEach(uH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fr(this.snapshot.measuredBox.x)&&!fr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!BP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Za(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),mH(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return pt();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(pH))){const{scroll:d}=this.root;d&&(uo(l.x,d.offset.x),uo(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=pt();if(Br(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Br(l,o),uo(l.x,f.offset.x),uo(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=pt();Br(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&fo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Za(d.latestValues)&&fo(c,d.latestValues)}return Za(this.latestValues)&&fo(c,this.latestValues),c}removeTransform(o){const l=pt();Br(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Za(u.latestValues))continue;Wg(u.latestValues)&&u.updateSnapshot();const d=pt(),f=u.measurePageBox();Br(d,f),m1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Za(this.latestValues)&&m1(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Gt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),lc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Br(this.target,this.layout.layoutBox),_P(this.target,this.targetDelta)):Br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),lc(this.relativeTargetOrigin,this.target,m.target),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||NP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Br(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;M7(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(d1(this.prevProjectionDelta.x,this.projectionDelta.x),d1(this.prevProjectionDelta.y,this.projectionDelta.y)),oc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!y1(this.projectionDelta.x,this.prevProjectionDelta.x)||!y1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ho(),this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=pt(),m=c?c.source:void 0,w=this.layout?this.layout.source:void 0,p=m!==w,v=this.getStack(),y=!v||v.members.length<=1,x=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(fH));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const N=j/1e3;N1(f.x,o.x,N),N1(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dH(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&Yq(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=pt()),Br(b,this.relativeTarget)),p&&(this.animationValues=d,Wq(d,u,this.latestValues,N,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ka(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{kd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yo(0)),this.currentAnimation=Fq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&GP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||pt();const f=fr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=fr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Br(l,c),fo(l,d),oc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Xq),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Km("z",o,u,this.animationValues);for(let d=0;d<Gm.length;d++)Km(`rotate${Gm[d]}`,o,u,this.animationValues),Km(`skew${Gm[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ed(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ed(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Za(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Qq(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in zc){if(d[w]===void 0)continue;const{correct:p,applyTo:v,isCSSVariable:y}=zc[w],x=f==="none"?d[w]:p(d[w],u);if(v){const b=v.length;for(let j=0;j<b;j++)o[v[j]]=x}else y?this.options.visualElement.renderState.vars[w]=x:o[w]=x}this.options.layoutId&&(o.pointerEvents=u===this?Ed(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(w1),this.root.sharedNodes.clear()}}}function tH(e){e.updateLayout()}function rH(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Wr(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=fr(h);h.min=n[f].min,h.max=h.min+m}):GP(i,t.layoutBox,n)&&Wr(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=fr(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ho();oc(l,n,t.layoutBox);const c=ho();o?oc(c,e.applyTransform(s,!0),t.measuredBox):oc(c,n,t.layoutBox);const u=!BP(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const w=pt();lc(w,t.layoutBox,h.layoutBox);const p=pt();lc(p,n,m.layoutBox),WP(w,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function nH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aH(e){e.clearSnapshot()}function w1(e){e.clearMeasurements()}function b1(e){e.isLayoutDirty=!1}function iH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function j1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oH(e){e.resolveTargetDelta()}function lH(e){e.calcProjection()}function cH(e){e.resetSkewAndRotation()}function uH(e){e.removeLeadSnapshot()}function N1(e,t,r){e.translate=ot(t.translate,0,r),e.scale=ot(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function _1(e,t,r,n){e.min=ot(t.min,r.min,n),e.max=ot(t.max,r.max,n)}function dH(e,t,r,n){_1(e.x,t.x,r.x,n),_1(e.y,t.y,r.y,n)}function fH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hH={duration:.45,ease:[.4,0,.1,1]},S1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),C1=S1("applewebkit/")&&!S1("chrome/")?Math.round:en;function E1(e){e.min=C1(e.min),e.max=C1(e.max)}function mH(e){E1(e.x),E1(e.y)}function GP(e,t,r){return e==="position"||e==="preserve-aspect"&&!wq(x1(t),x1(r),.2)}function pH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const gH=HP({attachResizeListener:(e,t)=>Vc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zm={current:void 0},KP=HP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zm.current){const e=new gH({});e.mount(window),e.setOptions({layoutScroll:!0}),Zm.current=e}return Zm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vH={pan:{Feature:Iq},drag:{Feature:Dq,ProjectionNode:KP,MeasureLayout:zP}};function k1(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&st.postRender(()=>i(t,du(t)))}class xH extends La{mount(){const{current:t}=this.node;t&&(this.unmount=zW(t,(r,n)=>(k1(this.node,n,"Start"),s=>k1(this.node,s,"End"))))}unmount(){}}class yH extends La{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lu(Vc(this.node.current,"focus",()=>this.onFocus()),Vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P1(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&st.postRender(()=>i(t,du(t)))}class wH extends La{mount(){const{current:t}=this.node;t&&(this.unmount=WW(t,(r,n)=>(P1(this.node,n,"Start"),(s,{success:i})=>P1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xg=new WeakMap,Ym=new WeakMap,bH=e=>{const t=Xg.get(e.target);t&&t(e)},jH=e=>{e.forEach(bH)};function NH({root:e,...t}){const r=e||document;Ym.has(r)||Ym.set(r,{});const n=Ym.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(jH,{root:e,...t})),n[s]}function _H(e,t,r){const n=NH(t);return Xg.set(e,r),n.observe(e),()=>{Xg.delete(e),n.unobserve(e)}}const SH={some:0,all:1};class CH extends La{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:SH[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return _H(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(EH(t,r))&&this.startObserver()}unmount(){}}function EH({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const kH={inView:{Feature:CH},tap:{Feature:wH},focus:{Feature:yH},hover:{Feature:xH}},PH={layout:{ProjectionNode:KP,MeasureLayout:zP}},TH={...mq,...kH,...vH,...PH},Zt=T7(TH,B7);function $a(){const{user:e}=qe(),[t,r]=g.useState([]),[n,s]=g.useState(!0),[i,o]=g.useState(null),l=async(m={})=>{if(e)try{s(!0),o(null);let w=ue.from("convocatorias").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});m.estado&&m.estado!=="todos"&&(w=w.eq("estado",m.estado)),m.institucion&&(w=w.ilike("institucion",`%${m.institucion}%`)),m.tipo_fondo&&(w=w.ilike("tipo_fondo",`%${m.tipo_fondo}%`)),m.search&&(w=w.or(`nombre_concurso.ilike.%${m.search}%,institucion.ilike.%${m.search}%`));const{data:p,error:v}=await w;if(v)throw v;r(p||[])}catch(w){o(w.message),console.error("Error fetching convocatorias:",w)}finally{s(!1)}},c=async m=>{if(!e)throw new Error("Usuario no autenticado");const w={...m,user_id:e.id,fecha_apertura:m.fecha_apertura?`${m.fecha_apertura} 09:00:00`:null,fecha_cierre:m.fecha_cierre?`${m.fecha_cierre} 23:59:59`:null,fecha_resultados:m.fecha_resultados?`${m.fecha_resultados} 18:00:00`:null},{data:p,error:v}=await ue.from("convocatorias").insert(w).select().single();if(v)throw v;return r(y=>[p,...y]),p},u=async(m,w)=>{if(!e)throw new Error("Usuario no autenticado");const p={...w,...w.fecha_apertura&&{fecha_apertura:`${w.fecha_apertura} 09:00:00`},...w.fecha_cierre&&{fecha_cierre:`${w.fecha_cierre} 23:59:59`},...w.fecha_resultados&&{fecha_resultados:`${w.fecha_resultados} 18:00:00`}},{data:v,error:y}=await ue.from("convocatorias").update(p).eq("id",m).eq("user_id",e.id).select().single();if(y)throw y;return r(x=>x.map(b=>b.id===m?v:b)),v},d=async m=>{if(!e)throw new Error("Usuario no autenticado");const{error:w}=await ue.from("convocatorias").delete().eq("id",m).eq("user_id",e.id);if(w)throw w;r(p=>p.filter(v=>v.id!==m))},f=()=>{const m=new Date,w={total:t.length,abiertas:0,cerradas:0,en_evaluacion:0,proximas_a_cerrar:0};return t.forEach(p=>{switch(p.estado){case"abierto":w.abiertas++;const y=new Date(p.fecha_cierre).getTime()-m.getTime(),x=Math.ceil(y/(1e3*60*60*24));x<=7&&x>=0&&w.proximas_a_cerrar++;break;case"cerrado":w.cerradas++;break;case"en_evaluacion":w.en_evaluacion++;break}}),w},h=m=>t.find(w=>w.id===m);return g.useEffect(()=>{e&&l()},[e]),{convocatorias:t,loading:n,isLoading:n,error:i,fetchConvocatorias:l,createConvocatoria:c,updateConvocatoria:u,deleteConvocatoria:d,getStats:f,getConvocatoriaById:h,refresh:()=>l()}}function Hy(){const{user:e}=qe(),[t,r]=g.useState(null),[n,s]=g.useState(!0),[i,o]=g.useState(null),l=async()=>{if(!e){s(!1);return}try{s(!0),o(null);const{data:u,error:d}=await ue.functions.invoke("dashboard-stats-v2",{headers:{"Content-Type":"application/json"}});if(d)throw new Error(d.message||"Error al obtener estadísticas");if(u!=null&&u.error)throw new Error(u.error.message||"Error en el servidor");r(u.data)}catch(u){console.error("Error fetching dashboard stats:",u),o(u.message),W.error("Error al cargar estadísticas",{description:u.message})}finally{s(!1)}};g.useEffect(()=>{l()},[e]);const c=LI({mutationFn:async({format:u})=>{if(!convocatorias||convocatorias.length===0)throw new Error("No hay datos para exportar");if(u==="csv"){const d=["ID","Nombre","Institución","Estado","Fecha Cierre"],f=convocatorias.map(h=>[h.id,h.nombre_concurso,h.institucion||"",h.estado,h.fecha_cierre]);return[d,...f].map(h=>h.join(",")).join(`
`)}return"Exportación PDF no implementada aún"},onSuccess:(u,d)=>{if(d.format==="csv"){const f=new Blob([u],{type:"text/csv"}),h=window.URL.createObjectURL(f),m=document.createElement("a");m.href=h,m.download=`convocatorias_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(h),W.success("Archivo CSV descargado correctamente")}},onError:u=>{W.error("Error al exportar datos",{description:u.message})}});return{dashboardStats:t,isLoadingStats:n,statsError:i,exportData:c.mutate,isExporting:c.isPending,refreshStats:l}}function Dh(){const{isPro:e}=qe(),{convocatorias:t}=$a(),r=!e,n=e,s=l=>{if(n)return{allowed:!0,reason:null};const c=["basic_dashboard","manual_entry","basic_calendar"],u=["export_csv","export_pdf","advanced_analytics","ai_features"];return c.includes(l)?{allowed:!0,reason:null}:u.includes(l)?{allowed:!1,reason:"Esta funcionalidad requiere Plan Pro"}:{allowed:!0,reason:null}},o=(()=>{const l=(t==null?void 0:t.length)||0,c=r?5:1/0,u=c===1/0?0:l/c*100;return{used:l,limit:c===1/0?"Ilimitadas":c,percentage:u,isNearLimit:u>=80,isAtLimit:l>=c}})();return{isPlanFree:r,isPlanPro:n,checkFeatureAccess:s,planUsage:o,isNearLimit:o.isNearLimit,isAtLimit:o.isAtLimit}}function AH(){const{convocatorias:e}=$a();return{getCalendarEvents:({month:r,view:n})=>{if(!e)return{events:[],summary:{total:0,urgent:0,upcoming_week:0}};const s=new Date,i=[];e.forEach(u=>{if(u.fecha_cierre){const d=new Date(u.fecha_cierre),f=Math.ceil((d.getTime()-s.getTime())/(1e3*60*60*24));i.push({id:`${u.id}-close`,title:`Cierre: ${u.nombre_concurso}`,date:u.fecha_cierre,type:"cierre",priority:f<=7?"alta":f<=30?"media":"baja",organization:u.institucion||"",daysUntil:f,convocatoriaId:u.id.toString()})}if(u.fecha_resultados){const d=new Date(u.fecha_resultados),f=Math.ceil((d.getTime()-s.getTime())/(1e3*60*60*24));i.push({id:`${u.id}-results`,title:`Resultados: ${u.nombre_concurso}`,date:u.fecha_resultados,type:"resultados",priority:f<=7?"alta":f<=30?"media":"baja",organization:u.institucion||"",daysUntil:f,convocatoriaId:u.id.toString()})}});const o=n==="month"?i.filter(u=>u.date.startsWith(r)):i.filter(u=>new Date(u.date)>=s),l=o.filter(u=>u.priority==="alta").length,c=o.filter(u=>u.daysUntil<=7&&u.daysUntil>=0).length;return{events:o.sort((u,d)=>new Date(u.date).getTime()-new Date(d.date).getTime()),summary:{total:o.length,urgent:l,upcoming_week:c}}}}}function ws({size:e="md",className:t}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return a.jsx("div",{className:re("flex items-center justify-center",t),children:a.jsx("div",{className:re("animate-spin rounded-full border-2 border-muted-foreground/30 border-t-primary",r[e])})})}function T1(){var f,h;const e=or(),{user:t}=qe(),{plans:r,loading:n,selectPlan:s}=Ms();Hy();const{planUsage:i}=Dh(),o=t&&(i==null?void 0:i.current_plan)||"free",l=async m=>{if(!t){e("/login");return}if(console.log("Intentando seleccionar plan:",m),console.log("Plan actual del usuario:",o),o===m){W.info("Ya tienes este plan activo");return}try{console.log("Procesando selección de plan:",m),await s(m)}catch(w){console.error("Error al procesar la selección:",w),W.error("Error al procesar el pago",{description:w.message||"Por favor intenta nuevamente"})}};if(n)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(ws,{})});const c=r==null?void 0:r.find(m=>m.id==="free"),u=r==null?void 0:r.find(m=>m.id==="pro_monthly"),d=r==null?void 0:r.find(m=>m.id==="pro_annual");return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl",children:[a.jsx("div",{className:"text-center mb-16",children:a.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsxs(K,{variant:"secondary",className:"mx-auto bg-primary/10 text-primary border-primary/20",children:[a.jsx(nt,{className:"w-3 h-3 mr-1"}),"Planes y Precios"]}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight",children:"Elije el plan perfecto para ti"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Gestiona tus convocatorias de forma inteligente con herramientas potenciadas por IA"}),o&&o!=="free"&&a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20",children:[a.jsx(kt,{className:"w-4 h-4 text-primary"}),a.jsxs("span",{className:"text-sm font-medium text-primary",children:["Plan Actual: ",o==="pro_monthly"?"Pro Mensual":"Pro Anual"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16",children:[a.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(X,{className:`relative h-full ${o==="free"?"ring-2 ring-primary":""}`,children:[o==="free"&&a.jsx(K,{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-primary",children:"Plan Actual"}),a.jsxs(ne,{className:"text-center pb-8",children:[a.jsx(ie,{className:"text-2xl",children:"Plan Gratuito"}),a.jsx("div",{className:"text-4xl font-bold",children:"$0"}),a.jsx(ge,{className:"text-base",children:"Perfecto para comenzar"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsx("div",{className:"space-y-3",children:(c==null?void 0:c.features)&&(Array.isArray(c.features)?c.features:JSON.parse(c.features)).map((m,w)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:m})]},w))}),a.jsx(nr,{}),a.jsx(B,{onClick:()=>l("free"),variant:o==="free"?"default":"outline",className:"w-full",size:"lg",children:o==="free"?"Plan Actual":"Comenzar Gratis"})]})]})}),a.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(X,{className:`relative h-full border-primary/50 shadow-lg ${o==="pro_monthly"?"ring-2 ring-primary":""}`,children:[o==="pro_monthly"&&a.jsx(K,{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-primary",children:"Plan Actual"}),a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(K,{className:"bg-gradient-to-r from-primary to-primary/80 text-white",children:[a.jsx(cf,{className:"w-3 h-3 mr-1"}),"Popular"]})}),a.jsxs(ne,{className:"text-center pb-8",children:[a.jsxs(ie,{className:"text-2xl flex items-center justify-center gap-2",children:[a.jsx(kt,{className:"w-5 h-5 text-primary"}),"Pro Mensual"]}),a.jsxs("div",{className:"text-4xl font-bold",children:["$",(f=u==null?void 0:u.price_clp)==null?void 0:f.toLocaleString("es-CL"),a.jsx("span",{className:"text-lg font-normal text-muted-foreground",children:"/mes"})]}),a.jsx(ge,{className:"text-base",children:"Funcionalidades completas"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsx("div",{className:"space-y-3",children:(u==null?void 0:u.features)&&(Array.isArray(u.features)?u.features:JSON.parse(u.features)).map((m,w)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"w-4 h-4 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:m})]},w))}),a.jsx(nr,{}),a.jsx(B,{onClick:()=>l("pro_monthly"),className:"w-full bg-primary hover:bg-primary/90",size:"lg",disabled:o==="pro_monthly",children:o==="pro_monthly"?"Plan Actual":a.jsxs(a.Fragment,{children:["Elegir Plan Pro",a.jsx(di,{className:"w-4 h-4 ml-2"})]})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:"Facturado mensualmente • Cancela cuando quieras"})})]})]})}),a.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(X,{className:`relative h-full ${o==="pro_annual"?"ring-2 ring-primary":""}`,children:[o==="pro_annual"&&a.jsx(K,{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-primary",children:"Plan Actual"}),a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(K,{className:"bg-gradient-to-r from-green-600 to-green-500 text-white",children:[a.jsx(kn,{className:"w-3 h-3 mr-1"}),"Ahorro"]})}),a.jsxs(ne,{className:"text-center pb-8",children:[a.jsxs(ie,{className:"text-2xl flex items-center justify-center gap-2",children:[a.jsx(kt,{className:"w-5 h-5 text-primary"}),"Pro Anual"]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-4xl font-bold",children:["$",(h=d==null?void 0:d.price_clp)==null?void 0:h.toLocaleString("es-CL"),a.jsx("span",{className:"text-lg font-normal text-muted-foreground",children:"/año"})]}),a.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Equivale a $7.082/mes (Ahorra $17.980)"})]}),a.jsx(ge,{className:"text-base",children:"La mejor opción a largo plazo"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsx("div",{className:"space-y-3",children:(d==null?void 0:d.features)&&(Array.isArray(d.features)?d.features:JSON.parse(d.features)).map((m,w)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:`w-4 h-4 flex-shrink-0 ${m.includes("gratis")||m.includes("beta")?"text-green-600":"text-primary"}`}),a.jsx("span",{className:`text-sm ${m.includes("gratis")||m.includes("beta")?"font-medium text-green-700":""}`,children:m})]},w))}),a.jsx(nr,{}),a.jsx(B,{onClick:()=>l("pro_annual"),className:"w-full bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary/80",size:"lg",disabled:o==="pro_annual",children:o==="pro_annual"?"Plan Actual":a.jsxs(a.Fragment,{children:["Elegir Plan Anual",a.jsx(di,{className:"w-4 h-4 ml-2"})]})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:"Facturado anualmente • Cancela cuando quieras"})})]})]})})]}),a.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center space-y-8",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Por qué elegir ConvocatoriasPro"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(kn,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"font-semibold",children:"Inteligencia Artificial"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Agentes IA que procesan, validan y recomiendan convocatorias automáticamente."})]}),a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(ua,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"font-semibold",children:"Seguro y Confiable"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Tus datos están protegidos con encriptación de nivel bancario y backups automáticos."})]}),a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(cf,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"font-semibold",children:"Soporte Premium"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Soporte prioritario y actualizaciones constantes con nuevas funcionalidades."})]})]}),a.jsx("div",{className:"pt-8",children:a.jsxs(B,{variant:"outline",onClick:()=>e("/app/dashboard"),className:"gap-2",children:["Volver al Dashboard",a.jsx(di,{className:"w-4 h-4"})]})})]})]})})}var Gy="Tabs",[RH,nX]=an(Gy,[xh]),ZP=xh(),[MH,Ky]=RH(Gy),YP=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ch(l),[f,h]=qo({prop:n,onChange:s,defaultProp:i});return a.jsx(MH,{scope:r,baseId:Yn(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});YP.displayName=Gy;var XP="TabsList",QP=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Ky(XP,r),o=ZP(r);return a.jsx(sE,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});QP.displayName=XP;var JP="TabsTrigger",eT=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Ky(JP,r),l=ZP(r),c=nT(o.baseId,n),u=sT(o.baseId,n),d=n===o.value;return a.jsx(aE,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:he(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:he(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:he(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});eT.displayName=JP;var tT="TabsContent",rT=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=Ky(tT,r),c=nT(l.baseId,n),u=sT(l.baseId,n),d=n===l.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Ds,{present:s||d,children:({present:h})=>a.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});rT.displayName=tT;function nT(e,t){return`${e}-trigger-${t}`}function sT(e,t){return`${e}-content-${t}`}var DH=YP,aT=QP,iT=eT,oT=rT;const Mi=DH,Fa=g.forwardRef(({className:e,...t},r)=>a.jsx(aT,{ref:r,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fa.displayName=aT.displayName;const Ze=g.forwardRef(({className:e,...t},r)=>a.jsx(iT,{ref:r,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ze.displayName=iT.displayName;const tt=g.forwardRef(({className:e,...t},r)=>a.jsx(oT,{ref:r,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));tt.displayName=oT.displayName;var Zy="Progress",Yy=100,[IH,sX]=an(Zy),[OH,LH]=IH(Zy),lT=g.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=$H,...o}=e;(s||s===0)&&!A1(s)&&console.error(FH(`${s}`,"Progress"));const l=A1(s)?s:Yy;n!==null&&!R1(n,l)&&console.error(zH(`${n}`,"Progress"));const c=R1(n,l)?n:null,u=kf(c)?i(c,l):void 0;return a.jsx(OH,{scope:r,value:c,max:l,children:a.jsx(on.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":kf(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":dT(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});lT.displayName=Zy;var cT="ProgressIndicator",uT=g.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=LH(cT,r);return a.jsx(on.div,{"data-state":dT(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});uT.displayName=cT;function $H(e,t){return`${Math.round(e/t*100)}%`}function dT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function kf(e){return typeof e=="number"}function A1(e){return kf(e)&&!isNaN(e)&&e>0}function R1(e,t){return kf(e)&&!isNaN(e)&&e<=t&&e>=0}function FH(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yy}\`.`}function zH(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fT=lT,VH=uT;const ns=g.forwardRef(({className:e,value:t,...r},n)=>a.jsx(fT,{ref:n,className:re("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:a.jsx(VH,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ns.displayName=fT.displayName;function hT({feature:e,title:t,description:r,benefits:n,className:s}){const i=or();return a.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:s,children:a.jsxs(X,{className:"border-2 border-primary/20 bg-gradient-to-br from-primary/5 via-background to-primary/10",children:[a.jsxs(ne,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:a.jsx(kt,{className:"w-8 h-8 text-primary"})}),a.jsxs(K,{variant:"secondary",className:"mx-auto mb-2 bg-primary/10 text-primary border-primary/20",children:[a.jsx(kn,{className:"w-3 h-3 mr-1"}),"Funcionalidad Pro"]}),a.jsx(ie,{className:"text-xl",children:t}),a.jsx(ge,{className:"text-center",children:r})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wider",children:"Con Plan Pro obtienes:"}),a.jsx("div",{className:"space-y-2",children:n.map((o,l)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Xt,{className:"w-4 h-4 text-primary flex-shrink-0"}),a.jsx("span",{children:o})]},l))})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs(B,{onClick:()=>i("/plans"),className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:["Ver Planes Pro",a.jsx(di,{className:"w-4 h-4 ml-2"})]}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Desde $8.990/mes • Cancela cuando quieras"})]})]})]})})}function UH(){const{planUsage:e,isNearLimit:t}=Dh(),r=or();if(!e||e.current_plan!=="free")return null;const n=e.usage_percentage,s=n>=100;return a.jsxs(X,{className:`border-2 ${s?"border-destructive/50 bg-destructive/5":t?"border-warning/50 bg-warning/5":"border-primary/20 bg-primary/5"}`,children:[a.jsx(ne,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K,{variant:s?"destructive":t?"secondary":"outline",children:"Plan Gratuito"}),a.jsxs("span",{className:"text-sm font-medium",children:[e.convocatorias_used,"/",e.convocatorias_limit," convocatorias"]})]}),(t||s)&&a.jsx(kt,{className:`w-5 h-5 ${s?"text-destructive":"text-warning"}`})]})}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ns,{value:Math.min(n,100),className:`h-2 ${s?"[&>div]:bg-destructive":t?"[&>div]:bg-warning":""}`}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Uso actual"}),a.jsxs("span",{children:[n,"%"]})]})]}),s&&a.jsxs("div",{className:"p-3 rounded-md bg-destructive/10 border border-destructive/20",children:[a.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"¡Límite alcanzado!"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Has alcanzado el límite de 5 convocatorias. Actualiza a Plan Pro para convocatorias ilimitadas."}),a.jsx(B,{onClick:()=>r("/plans"),size:"sm",className:"w-full bg-destructive hover:bg-destructive/90",children:"Actualizar a Pro"})]}),t&&!s&&a.jsxs("div",{className:"p-3 rounded-md bg-warning/10 border border-warning/20",children:[a.jsx("p",{className:"text-sm text-warning font-medium mb-2",children:"Cerca del límite"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Te quedan pocas convocatorias disponibles. Considera actualizar a Plan Pro."}),a.jsx(B,{onClick:()=>r("/plans"),size:"sm",variant:"outline",className:"w-full border-warning/50 hover:bg-warning/10",children:"Ver Planes Pro"})]})]})]})}function BH({feature:e,onUpgrade:t}){const{isPro:r}=qe(),n=or();return r?null:a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-primary/5 border border-primary/20",children:[a.jsx(kt,{className:"w-4 h-4 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-sm flex-1",children:"Esta funcionalidad requiere Plan Pro"}),a.jsx(B,{size:"sm",variant:"outline",onClick:()=>{t!=null&&t()||n("/plans")},className:"border-primary/50 hover:bg-primary/10",children:"Actualizar"})]})}function ze(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ta(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const mT=6048e5,WH=864e5,pT=6e4,gT=36e5,sd=43200,M1=1440;let qH={};function fu(){return qH}function Uc(e,t){var l,c,u,d;const r=fu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ze(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pf(e){return Uc(e,{weekStartsOn:1})}function vT(e){const t=ze(e),r=t.getFullYear(),n=Ta(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Pf(n),i=Ta(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Pf(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Tf(e){const t=ze(e);return t.setHours(0,0,0,0),t}function Af(e){const t=ze(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function HH(e,t){const r=Tf(e),n=Tf(t),s=+r-Af(r),i=+n-Af(n);return Math.round((s-i)/WH)}function GH(e){const t=vT(e),r=Ta(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Pf(r)}function Pd(e,t){const r=ze(e),n=ze(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function KH(e){return Ta(e,Date.now())}function ZH(e,t){const r=Tf(e),n=Tf(t);return+r==+n}function YH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function XH(e){if(!YH(e)&&typeof e!="number")return!1;const t=ze(e);return!isNaN(Number(t))}function QH(e,t){const r=ze(e),n=ze(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function JH(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function eG(e,t){return+ze(e)-+ze(t)}function tG(e){const t=ze(e);return t.setHours(23,59,59,999),t}function xT(e){const t=ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rG(e){const t=ze(e);return+tG(t)==+xT(t)}function nG(e,t){const r=ze(e),n=ze(t),s=Pd(r,n),i=Math.abs(QH(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Pd(r,n)===-s;rG(ze(e))&&i===1&&Pd(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function sG(e,t,r){const n=eG(e,t)/1e3;return JH(r==null?void 0:r.roundingMethod)(n)}function aG(e,t){const r=ze(e.start),n=ze(e.end);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(ze(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return s?c.reverse():c}function iG(e){const t=ze(e);return t.setDate(1),t.setHours(0,0,0,0),t}function oG(e){const t=ze(e),r=Ta(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const lG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cG=(e,t,r)=>{let n;const s=lG[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function So(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const uG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hG={date:So({formats:uG,defaultWidth:"full"}),time:So({formats:dG,defaultWidth:"full"}),dateTime:So({formats:fG,defaultWidth:"full"})},mG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pG=(e,t,r,n)=>mG[e];function Wn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const gG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jG=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},NG={ordinalNumber:jG,era:Wn({values:gG,defaultWidth:"wide"}),quarter:Wn({values:vG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wn({values:xG,defaultWidth:"wide"}),day:Wn({values:yG,defaultWidth:"wide"}),dayPeriod:Wn({values:wG,defaultWidth:"wide",formattingValues:bG,defaultFormattingWidth:"wide"})};function qn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?SG(l,f=>f.test(o)):_G(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function _G(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function SG(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const CG=/^(\d+)(th|st|nd|rd)?/i,EG=/\d+/i,kG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PG={any:[/^b/i,/^(a|c)/i]},TG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AG={any:[/1/i,/2/i,/3/i,/4/i]},RG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$G={ordinalNumber:yT({matchPattern:CG,parsePattern:EG,valueCallback:e=>parseInt(e,10)}),era:qn({matchPatterns:kG,defaultMatchWidth:"wide",parsePatterns:PG,defaultParseWidth:"any"}),quarter:qn({matchPatterns:TG,defaultMatchWidth:"wide",parsePatterns:AG,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qn({matchPatterns:RG,defaultMatchWidth:"wide",parsePatterns:MG,defaultParseWidth:"any"}),day:qn({matchPatterns:DG,defaultMatchWidth:"wide",parsePatterns:IG,defaultParseWidth:"any"}),dayPeriod:qn({matchPatterns:OG,defaultMatchWidth:"any",parsePatterns:LG,defaultParseWidth:"any"})},wT={code:"en-US",formatDistance:cG,formatLong:hG,formatRelative:pG,localize:NG,match:$G,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FG(e){const t=ze(e);return HH(t,oG(t))+1}function zG(e){const t=ze(e),r=+Pf(t)-+GH(t);return Math.round(r/mT)+1}function bT(e,t){var d,f,h,m;const r=ze(e),n=r.getFullYear(),s=fu(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ta(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Uc(o,t),c=Ta(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Uc(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function VG(e,t){var l,c,u,d;const r=fu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=bT(e,t),i=Ta(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Uc(i,t)}function UG(e,t){const r=ze(e),n=+Uc(r,t)-+VG(r,t);return Math.round(n/mT)+1}function Be(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Us={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Be(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Be(r+1,2)},d(e,t){return Be(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Be(e.getHours()%12||12,t.length)},H(e,t){return Be(e.getHours(),t.length)},m(e,t){return Be(e.getMinutes(),t.length)},s(e,t){return Be(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Be(s,t.length)}},qi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Us.y(e,t)},Y:function(e,t,r,n){const s=bT(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Be(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Be(i,t.length)},R:function(e,t){const r=vT(e);return Be(r,t.length)},u:function(e,t){const r=e.getFullYear();return Be(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Be(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Be(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Us.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Be(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=UG(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Be(s,t.length)},I:function(e,t,r){const n=zG(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Be(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Us.d(e,t)},D:function(e,t,r){const n=FG(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Be(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Be(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Be(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Be(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=qi.noon:n===0?s=qi.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=qi.evening:n>=12?s=qi.afternoon:n>=4?s=qi.morning:s=qi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Us.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Us.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Us.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Us.s(e,t)},S:function(e,t){return Us.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return O1(n);case"XXXX":case"XX":return Ya(n);case"XXXXX":case"XXX":default:return Ya(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return O1(n);case"xxxx":case"xx":return Ya(n);case"xxxxx":case"xxx":default:return Ya(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+I1(n,":");case"OOOO":default:return"GMT"+Ya(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+I1(n,":");case"zzzz":default:return"GMT"+Ya(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Be(n,t.length)},T:function(e,t,r){const n=e.getTime();return Be(n,t.length)}};function I1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Be(i,2)}function O1(e,t){return e%60===0?(e>0?"-":"+")+Be(Math.abs(e)/60,2):Ya(e,t)}function Ya(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Be(Math.trunc(n/60),2),i=Be(n%60,2);return r+s+t+i}const L1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},BG=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return L1(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",L1(n,t)).replace("{{time}}",jT(s,t))},WG={p:jT,P:BG},qG=/^D+$/,HG=/^Y+$/,GG=["D","DD","YY","YYYY"];function KG(e){return qG.test(e)}function ZG(e){return HG.test(e)}function YG(e,t,r){const n=XG(e,t,r);if(console.warn(n),GG.includes(e))throw new RangeError(n)}function XG(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eK=/^'([^]*?)'?$/,tK=/''/g,rK=/[a-zA-Z]/;function Gn(e,t,r){var d,f,h,m,w,p,v,y;const n=fu(),s=(r==null?void 0:r.locale)??n.locale??wT,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=ze(e);if(!XH(l))throw new RangeError("Invalid time value");let c=t.match(JG).map(x=>{const b=x[0];if(b==="p"||b==="P"){const j=WG[b];return j(x,s.formatLong)}return x}).join("").match(QG).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:nK(x)};if(D1[b])return{isToken:!0,value:x};if(b.match(rK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&ZG(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&KG(b))&&YG(b,t,String(e));const j=D1[b[0]];return j(l,b,s.localize,u)}).join("")}function nK(e){const t=e.match(eK);return t?t[1].replace(tK,"'"):e}function sK(e,t,r){const n=fu(),s=(r==null?void 0:r.locale)??n.locale??wT,i=2520,o=Pd(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=ze(t),u=ze(e)):(c=ze(e),u=ze(t));const d=sG(u,c),f=(Af(u)-Af(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<M1){const w=Math.round(h/60);return s.formatDistance("aboutXHours",w,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<sd){const w=Math.round(h/M1);return s.formatDistance("xDays",w,l)}else if(h<sd*2)return m=Math.round(h/sd),s.formatDistance("aboutXMonths",m,l)}if(m=nG(u,c),m<12){const w=Math.round(h/sd);return s.formatDistance("xMonths",w,l)}else{const w=m%12,p=Math.trunc(m/12);return w<3?s.formatDistance("aboutXYears",p,l):w<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function aK(e,t){return sK(e,KH(e),t)}function Qg(e,t){const n=cK(e);let s;if(n.date){const c=uK(n.date,2);s=dK(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=fK(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=hK(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const ad={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},iK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,oK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cK(e){const t={},r=e.split(ad.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ad.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ad.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=ad.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function uK(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function dK(e,t){if(t===null)return new Date(NaN);const r=e.match(iK);if(!r)return new Date(NaN);const n=!!r[4],s=Ml(r[1]),i=Ml(r[2])-1,o=Ml(r[3]),l=Ml(r[4]),c=Ml(r[5])-1;if(n)return xK(t,l,c)?mK(t,l,c):new Date(NaN);{const u=new Date(0);return!gK(t,i,o)||!vK(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Ml(e){return e?parseInt(e):1}function fK(e){const t=e.match(oK);if(!t)return NaN;const r=Xm(t[1]),n=Xm(t[2]),s=Xm(t[3]);return yK(r,n,s)?r*gT+n*pT+s*1e3:NaN}function Xm(e){return e&&parseFloat(e.replace(",","."))||0}function hK(e){if(e==="Z")return 0;const t=e.match(lK);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return wK(n,s)?r*(n*gT+s*pT):NaN}function mK(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const pK=[31,null,31,30,31,30,31,31,30,31,30,31];function NT(e){return e%400===0||e%4===0&&e%100!==0}function gK(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(pK[t]||(NT(e)?29:28))}function vK(e,t){return t>=1&&t<=(NT(e)?366:365)}function xK(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function yK(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function wK(e,t){return t>=0&&t<=59}const bK={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},jK=(e,t,r)=>{let n;const s=bK[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},NK={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},_K={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},SK={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CK={date:So({formats:NK,defaultWidth:"full"}),time:So({formats:_K,defaultWidth:"full"}),dateTime:So({formats:SK,defaultWidth:"full"})},EK={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},kK={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},PK=(e,t,r,n)=>t.getHours()!==1?kK[e]:EK[e],TK={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},AK={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},RK={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},MK={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},DK={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},IK={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},OK=(e,t)=>Number(e)+"º",LK={ordinalNumber:OK,era:Wn({values:TK,defaultWidth:"wide"}),quarter:Wn({values:AK,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Wn({values:RK,defaultWidth:"wide"}),day:Wn({values:MK,defaultWidth:"wide"}),dayPeriod:Wn({values:DK,defaultWidth:"wide",formattingValues:IK,defaultFormattingWidth:"wide"})},$K=/^(\d+)(º)?/i,FK=/\d+/i,zK={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},VK={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},UK={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},BK={any:[/1/i,/2/i,/3/i,/4/i]},WK={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},qK={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},HK={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},GK={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},KK={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},ZK={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},YK={ordinalNumber:yT({matchPattern:$K,parsePattern:FK,valueCallback:function(e){return parseInt(e,10)}}),era:qn({matchPatterns:zK,defaultMatchWidth:"wide",parsePatterns:VK,defaultParseWidth:"any"}),quarter:qn({matchPatterns:UK,defaultMatchWidth:"wide",parsePatterns:BK,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qn({matchPatterns:WK,defaultMatchWidth:"wide",parsePatterns:qK,defaultParseWidth:"any"}),day:qn({matchPatterns:HK,defaultMatchWidth:"wide",parsePatterns:GK,defaultParseWidth:"any"}),dayPeriod:qn({matchPatterns:KK,defaultMatchWidth:"any",parsePatterns:ZK,defaultParseWidth:"any"})},Ts={code:"es",formatDistance:jK,formatLong:CK,formatRelative:PK,localize:LK,match:YK,options:{weekStartsOn:1,firstWeekContainsDate:1}},XK=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);class _T extends q.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?a.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[a.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),a.jsx("pre",{className:"mt-2 text-sm",children:XK(this.state.error)})]}):this.props.children}}function QK(){const e=or(),{dashboardStats:t,isLoadingStats:r,exportData:n,isExporting:s}=Hy(),{isPlanFree:i,checkFeatureAccess:o}=Dh(),{convocatorias:l,isLoading:c}=$a();if(r||c)return a.jsxs("div",{className:"flex items-center justify-center h-96",children:[a.jsx(ws,{}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:"Cargando dashboard..."})]});const d=l||[],f={overview:{total_convocatorias:d.length,active_convocatorias:d.filter(p=>(p==null?void 0:p.estado)==="abierto").length,deadline_this_week:2,deadline_this_month:5},upcoming_deadlines:d.slice(0,3).map(p=>{var v;return{id:((v=p==null?void 0:p.id)==null?void 0:v.toString())||Math.random().toString(),title:(p==null?void 0:p.nombre_concurso)||"Sin nombre",organization:(p==null?void 0:p.institucion)||"Sin institución",deadline:(p==null?void 0:p.fecha_cierre)||new Date().toISOString(),days_until:p!=null&&p.fecha_cierre?Math.ceil((new Date(p.fecha_cierre).getTime()-new Date().getTime())/(1e3*60*60*24)):0,priority:"alta"}}),recent_activity:d.slice(0,5).map(p=>{var v;return{id:((v=p==null?void 0:p.id)==null?void 0:v.toString())||Math.random().toString(),title:(p==null?void 0:p.nombre_concurso)||"Sin nombre",action:"Convocatoria añadida",date:(p==null?void 0:p.created_at)||new Date().toISOString()}}),plan_usage:{convocatorias_used:d.length,convocatorias_limit:i?5:"Ilimitadas",usage_percentage:i?d.length/5*100:0}},h=t||f,m=(h==null?void 0:h.overview)||f.overview,w=(h==null?void 0:h.plan_usage)||f.plan_usage;return a.jsx(_T,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestiona tus convocatorias de forma inteligente"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(B,{variant:"outline",onClick:()=>{if(!o("export_csv").allowed){e("/plans");return}n({format:"csv"})},disabled:s,className:"gap-2",children:[a.jsx(Or,{className:"w-4 h-4"}),s?"Exportando...":"Exportar",i&&a.jsx(kt,{className:"w-3 h-3 text-primary"})]}),a.jsxs(B,{onClick:()=>{if(w.usage_percentage>=100&&i){e("/plans");return}e("/app/convocatorias/new")},className:"gap-2",children:[a.jsx(r5,{className:"w-4 h-4"}),"Nueva Convocatoria"]})]})]}),a.jsx(UH,{}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ie,{className:"text-sm font-medium",children:"Total Convocatorias"}),a.jsx(tC,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.total_convocatorias)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:w&&typeof w.convocatorias_limit=="number"?`${Math.max(0,w.convocatorias_limit-((m==null?void 0:m.total_convocatorias)||0))} restantes`:"Ilimitadas"})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ie,{className:"text-sm font-medium",children:"Activas"}),a.jsx(He,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:(m==null?void 0:m.active_convocatorias)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Abiertas para postulación"})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ie,{className:"text-sm font-medium",children:"Esta Semana"}),a.jsx(Oa,{className:"h-4 w-4 text-orange-600"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(m==null?void 0:m.deadline_this_week)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cierran en 7 días"})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ie,{className:"text-sm font-medium",children:"Este Mes"}),a.jsx(Pt,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(m==null?void 0:m.deadline_this_month)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cierran en 30 días"})]})]})]}),a.jsxs(Mi,{defaultValue:"upcoming",className:"space-y-6",children:[a.jsxs(Fa,{children:[a.jsx(Ze,{value:"upcoming",children:"Próximos Vencimientos"}),a.jsx(Ze,{value:"activity",children:"Actividad Reciente"}),a.jsxs(Ze,{value:"analytics",children:["Analíticas",i&&a.jsx(kt,{className:"w-3 h-3 ml-1 text-primary"})]})]}),a.jsx(tt,{value:"upcoming",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Bo,{className:"w-5 h-5"}),"Próximos Vencimientos"]}),a.jsx(ge,{children:"Convocatorias que cierran próximamente"})]}),a.jsx(Q,{children:h!=null&&h.upcoming_deadlines&&h.upcoming_deadlines.length>0?a.jsx("div",{className:"space-y-4",children:h.upcoming_deadlines.map(p=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:p.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:p.organization}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxs(K,{variant:p.priority==="alta"?"destructive":p.priority==="media"?"secondary":"outline",className:"text-xs",children:[p.days_until," días restantes"]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Gn(new Date(p.deadline),"dd MMM yyyy",{locale:Ts})})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(B,{variant:"outline",size:"sm",onClick:()=>e(`/app/convocatorias/${p.id}`),children:"Ver Detalles"})})]},p.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Pt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay vencimientos próximos"})]})})]})}),a.jsx(tt,{value:"activity",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Actividad Reciente"}),a.jsx(ge,{children:"Últimas convocatorias añadidas"})]}),a.jsx(Q,{children:h!=null&&h.recent_activity&&h.recent_activity.length>0?a.jsx("div",{className:"space-y-3",children:h.recent_activity.map(p=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:p.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.action," • ",aK(new Date(p.date),{addSuffix:!0,locale:Ts})]})]}),a.jsx(B,{variant:"ghost",size:"sm",onClick:()=>e(`/app/convocatorias/${p.id}`),children:"Ver"})]},p.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(_a,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay actividad reciente"})]})})]})}),a.jsx(tt,{value:"analytics",className:"space-y-6",children:i?a.jsx(hT,{feature:"analytics",title:"Analíticas Avanzadas",description:"Obtén insights detallados sobre tus convocatorias con gráficos, tendencias y métricas avanzadas.",benefits:["Gráficos de tendencias por mes","Análisis por organización","Métricas de éxito y conversión","Exportación de reportes","Comparativas históricas"]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(X,{children:[a.jsx(ne,{children:a.jsx(ie,{children:"Por Estado"})}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-3",children:Object.entries(t.by_status||{}).map(([p,v])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"capitalize text-sm",children:p.replace("_"," ")}),a.jsx(K,{variant:"outline",children:v})]},p))})})]}),a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(rC,{className:"w-4 h-4"}),"Top Organizaciones"]})}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-3",children:t.by_organization&&t.by_organization.length>0?t.by_organization.map((p,v)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p.name}),a.jsx(K,{variant:"outline",children:p.count})]},p.name)):a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No hay datos de organizaciones"})})})]})]})})]})]})})}function JK({isOpen:e,onClose:t,date:r,events:n}){const s=or();if(!r)return null;const i=l=>{switch(l){case"cierre":return"⏰ Cierre";case"apertura":return"📅 Apertura";case"resultados":return"🏆 Resultados";default:return l}},o=l=>{switch(l){case"alta":return"destructive";case"media":return"secondary";case"baja":return"outline";default:return"outline"}};return a.jsx(Yx,{open:e,onOpenChange:t,children:a.jsxs(Nh,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(_h,{children:[a.jsxs(Sh,{className:"flex items-center gap-2",children:[a.jsx(Pt,{className:"w-5 h-5"}),"Eventos del ",Gn(r,"dd MMMM yyyy",{locale:Ts})]}),a.jsxs(Xx,{children:[n.length," evento",n.length!==1?"s":""," programado",n.length!==1?"s":""," para este día"]})]}),a.jsx("div",{className:"space-y-4 mt-6",children:n.length>0?n.map(l=>a.jsx("div",{className:"p-4 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(K,{variant:o(l.priority),children:i(l.type)}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Oa,{className:"w-3 h-3"}),Gn(Qg(l.date),"HH:mm",{locale:Ts})]}),l.daysUntil!==void 0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:l.daysUntil===0?"Hoy":l.daysUntil>0?`En ${l.daysUntil} días`:`Hace ${Math.abs(l.daysUntil)} días`})]}),a.jsx("h4",{className:"font-medium text-sm",children:l.title.includes(":")?l.title.split(":").slice(1).join(":").trim():l.title}),l.organization&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[a.jsx(rC,{className:"w-3 h-3"}),l.organization]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{s(`/app/convocatorias/${l.convocatoriaId}`),t()},children:[a.jsx(ih,{className:"w-3 h-3 mr-1"}),"Ver"]})})]})},l.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Pt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay eventos programados para este día"})]})}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[a.jsx(B,{variant:"outline",onClick:t,children:"Cerrar"}),a.jsx(B,{onClick:()=>{s("/app/convocatorias/new"),t()},children:"Agregar Convocatoria"})]})]})})}function $1(e,[t,r]){return Math.min(r,Math.max(t,e))}function Xy(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eZ="VisuallyHidden",ST=g.forwardRef((e,t)=>a.jsx(Me.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ST.displayName=eZ;var tZ=[" ","Enter","ArrowUp","ArrowDown"],rZ=[" ","Enter"],hu="Select",[Ih,Oh,nZ]=bx(hu),[hl,aX]=an(hu,[nZ,ph]),Lh=ph(),[sZ,za]=hl(hu),[aZ,iZ]=hl(hu),CT=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:w}=e,p=Lh(t),[v,y]=g.useState(null),[x,b]=g.useState(null),[j,N]=g.useState(!1),k=ch(u),[S=!1,E]=qo({prop:n,defaultProp:s,onChange:i}),[P,C]=qo({prop:o,defaultProp:l,onChange:c}),A=g.useRef(null),M=v?w||!!v.closest("form"):!0,[R,L]=g.useState(new Set),U=Array.from(R).map(V=>V.props.value).join(";");return a.jsx(ZC,{...p,children:a.jsxs(sZ,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Yn(),value:P,onValueChange:C,open:S,onOpenChange:E,dir:k,triggerPointerDownPosRef:A,disabled:h,children:[a.jsx(Ih.Provider,{scope:t,children:a.jsx(aZ,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(V=>{L(z=>new Set(z).add(V))},[]),onNativeOptionRemove:g.useCallback(V=>{L(z=>{const D=new Set(z);return D.delete(V),D})},[]),children:r})}),M?a.jsxs(XT,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:V=>C(V.target.value),disabled:h,form:w,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(R)]},U):null]})})};CT.displayName=hu;var ET="SelectTrigger",kT=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Lh(r),o=za(ET,r),l=o.disabled||n,c=Le(t,o.onTriggerChange),u=Oh(r),d=g.useRef("touch"),[f,h,m]=QT(p=>{const v=u().filter(b=>!b.disabled),y=v.find(b=>b.value===o.value),x=JT(v,p,y);x!==void 0&&o.onValueChange(x.value)}),w=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(YC,{asChild:!0,...i,children:a.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":YT(o.value)?"":void 0,...s,ref:c,onClick:he(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&w(p)}),onPointerDown:he(s.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(w(p),p.preventDefault())}),onKeyDown:he(s.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&tZ.includes(p.key)&&(w(),p.preventDefault())})})})});kT.displayName=ET;var PT="SelectValue",TT=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=za(PT,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Le(t,c.onValueNodeChange);return bt(()=>{u(d)},[u,d]),a.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:YT(c.value)?a.jsx(a.Fragment,{children:o}):i})});TT.displayName=PT;var oZ="SelectIcon",AT=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Me.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});AT.displayName=oZ;var lZ="SelectPortal",RT=e=>a.jsx(gh,{asChild:!0,...e});RT.displayName=lZ;var Si="SelectContent",MT=g.forwardRef((e,t)=>{const r=za(Si,e.__scopeSelect),[n,s]=g.useState();if(bt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?tl.createPortal(a.jsx(DT,{scope:e.__scopeSelect,children:a.jsx(Ih.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(IT,{...e,ref:t})});MT.displayName=Si;var pn=10,[DT,Va]=hl(Si),cZ="SelectContentImpl",uZ=Ho("SelectContent.RemoveScroll"),IT=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:w,hideWhenDetached:p,avoidCollisions:v,...y}=e,x=za(Si,r),[b,j]=g.useState(null),[N,k]=g.useState(null),S=Le(t,le=>j(le)),[E,P]=g.useState(null),[C,A]=g.useState(null),M=Oh(r),[R,L]=g.useState(!1),U=g.useRef(!1);g.useEffect(()=>{if(b)return Mx(b)},[b]),jx();const V=g.useCallback(le=>{const[me,...Pe]=M().map(ke=>ke.ref.current),[Ee]=Pe.slice(-1),Ie=document.activeElement;for(const ke of le)if(ke===Ie||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===me&&N&&(N.scrollTop=0),ke===Ee&&N&&(N.scrollTop=N.scrollHeight),ke==null||ke.focus(),document.activeElement!==Ie))return},[M,N]),z=g.useCallback(()=>V([E,b]),[V,E,b]);g.useEffect(()=>{R&&z()},[R,z]);const{onOpenChange:D,triggerPointerDownPosRef:I}=x;g.useEffect(()=>{if(b){let le={x:0,y:0};const me=Ee=>{var Ie,ke;le={x:Math.abs(Math.round(Ee.pageX)-(((Ie=I.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((ke=I.current)==null?void 0:ke.y)??0))}},Pe=Ee=>{le.x<=10&&le.y<=10?Ee.preventDefault():b.contains(Ee.target)||D(!1),document.removeEventListener("pointermove",me),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[b,D,I]),g.useEffect(()=>{const le=()=>D(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[D]);const[G,oe]=QT(le=>{const me=M().filter(Ie=>!Ie.disabled),Pe=me.find(Ie=>Ie.ref.current===document.activeElement),Ee=JT(me,le,Pe);Ee&&setTimeout(()=>Ee.ref.current.focus())}),we=g.useCallback((le,me,Pe)=>{const Ee=!U.current&&!Pe;(x.value!==void 0&&x.value===me||Ee)&&(P(le),Ee&&(U.current=!0))},[x.value]),pe=g.useCallback(()=>b==null?void 0:b.focus(),[b]),be=g.useCallback((le,me,Pe)=>{const Ee=!U.current&&!Pe;(x.value!==void 0&&x.value===me||Ee)&&A(le)},[x.value]),Se=n==="popper"?Jg:OT,De=Se===Jg?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:w,hideWhenDetached:p,avoidCollisions:v}:{};return a.jsx(DT,{scope:r,content:b,viewport:N,onViewportChange:k,itemRefCallback:we,selectedItem:E,onItemLeave:pe,itemTextRefCallback:be,focusSelectedItem:z,selectedItemText:C,position:n,isPositioned:R,searchRef:G,children:a.jsx(wh,{as:uZ,allowPinchZoom:!0,children:a.jsx(dh,{asChild:!0,trapped:x.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:he(s,le=>{var me;(me=x.trigger)==null||me.focus({preventScroll:!0}),le.preventDefault()}),children:a.jsx(uh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(Se,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:le=>le.preventDefault(),...y,...De,onPlaced:()=>L(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:he(y.onKeyDown,le=>{const me=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!me&&le.key.length===1&&oe(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ee=M().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ie=le.target,ke=Ee.indexOf(Ie);Ee=Ee.slice(ke+1)}setTimeout(()=>V(Ee)),le.preventDefault()}})})})})})})});IT.displayName=cZ;var dZ="SelectItemAlignedPosition",OT=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=za(Si,r),o=Va(Si,r),[l,c]=g.useState(null),[u,d]=g.useState(null),f=Le(t,S=>d(S)),h=Oh(r),m=g.useRef(!1),w=g.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&y){const S=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),C=y.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=C.left-E.left,ke=P.left-Ie,Vt=S.left-ke,Ut=S.width+Vt,Rn=Math.max(Ut,E.width),Mn=window.innerWidth-pn,Pr=$1(ke,[pn,Math.max(pn,Mn-Rn)]);l.style.minWidth=Ut+"px",l.style.left=Pr+"px"}else{const Ie=E.right-C.right,ke=window.innerWidth-P.right-Ie,Vt=window.innerWidth-S.right-ke,Ut=S.width+Vt,Rn=Math.max(Ut,E.width),Mn=window.innerWidth-pn,Pr=$1(ke,[pn,Math.max(pn,Mn-Rn)]);l.style.minWidth=Ut+"px",l.style.right=Pr+"px"}const A=h(),M=window.innerHeight-pn*2,R=p.scrollHeight,L=window.getComputedStyle(u),U=parseInt(L.borderTopWidth,10),V=parseInt(L.paddingTop,10),z=parseInt(L.borderBottomWidth,10),D=parseInt(L.paddingBottom,10),I=U+V+R+D+z,G=Math.min(v.offsetHeight*5,I),oe=window.getComputedStyle(p),we=parseInt(oe.paddingTop,10),pe=parseInt(oe.paddingBottom,10),be=S.top+S.height/2-pn,Se=M-be,De=v.offsetHeight/2,le=v.offsetTop+De,me=U+V+le,Pe=I-me;if(me<=be){const Ie=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const ke=u.clientHeight-p.offsetTop-p.offsetHeight,Vt=Math.max(Se,De+(Ie?pe:0)+ke+z),Ut=me+Vt;l.style.height=Ut+"px"}else{const Ie=A.length>0&&v===A[0].ref.current;l.style.top="0px";const Vt=Math.max(be,U+p.offsetTop+(Ie?we:0)+De)+Pe;l.style.height=Vt+"px",p.scrollTop=me-be+p.offsetTop}l.style.margin=`${pn}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,v,y,i.dir,n]);bt(()=>b(),[b]);const[j,N]=g.useState();bt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const k=g.useCallback(S=>{S&&w.current===!0&&(b(),x==null||x(),w.current=!1)},[b,x]);return a.jsx(hZ,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});OT.displayName=dZ;var fZ="SelectPopperPosition",Jg=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=pn,...i}=e,o=Lh(r);return a.jsx(XC,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jg.displayName=fZ;var[hZ,Qy]=hl(Si,{}),ev="SelectViewport",LT=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Va(ev,r),o=Qy(ev,r),l=Le(t,i.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ih.Slot,{scope:r,children:a.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:he(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-pn*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(p,v);if(y<w){const x=y+m,b=Math.min(w,x),j=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});LT.displayName=ev;var $T="SelectGroup",[mZ,pZ]=hl($T),gZ=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Yn();return a.jsx(mZ,{scope:r,id:s,children:a.jsx(Me.div,{role:"group","aria-labelledby":s,...n,ref:t})})});gZ.displayName=$T;var FT="SelectLabel",zT=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=pZ(FT,r);return a.jsx(Me.div,{id:s.id,...n,ref:t})});zT.displayName=FT;var Rf="SelectItem",[vZ,VT]=hl(Rf),UT=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=za(Rf,r),c=Va(Rf,r),u=l.value===n,[d,f]=g.useState(i??""),[h,m]=g.useState(!1),w=Le(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,s)}),p=Yn(),v=g.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(vZ,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:g.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(Ih.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Me.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:he(o.onFocus,()=>m(!0)),onBlur:he(o.onBlur,()=>m(!1)),onClick:he(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:he(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:he(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:he(o.onPointerMove,x=>{var b;v.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:he(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(rZ.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});UT.displayName=Rf;var Ul="SelectItemText",BT=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=za(Ul,r),l=Va(Ul,r),c=VT(Ul,r),u=iZ(Ul,r),[d,f]=g.useState(null),h=Le(t,y=>f(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return bt(()=>(p(w),()=>v(w)),[p,v,w]),a.jsxs(a.Fragment,{children:[a.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?tl.createPortal(i.children,o.valueNode):null]})});BT.displayName=Ul;var WT="SelectItemIndicator",qT=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return VT(WT,r).isSelected?a.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});qT.displayName=WT;var tv="SelectScrollUpButton",HT=g.forwardRef((e,t)=>{const r=Va(tv,e.__scopeSelect),n=Qy(tv,e.__scopeSelect),[s,i]=g.useState(!1),o=Le(t,n.onScrollButtonChange);return bt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(KT,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});HT.displayName=tv;var rv="SelectScrollDownButton",GT=g.forwardRef((e,t)=>{const r=Va(rv,e.__scopeSelect),n=Qy(rv,e.__scopeSelect),[s,i]=g.useState(!1),o=Le(t,n.onScrollButtonChange);return bt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(KT,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});GT.displayName=rv;var KT=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Va("SelectScrollButton",r),o=g.useRef(null),l=Oh(r),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),bt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:he(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:he(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:he(s.onPointerLeave,()=>{c()})})}),xZ="SelectSeparator",ZT=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});ZT.displayName=xZ;var nv="SelectArrow",yZ=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Lh(r),i=za(nv,r),o=Va(nv,r);return i.open&&o.position==="popper"?a.jsx(QC,{...s,...n,ref:t}):null});yZ.displayName=nv;function YT(e){return e===""||e===void 0}var XT=g.forwardRef((e,t)=>{const{value:r,...n}=e,s=g.useRef(null),i=Le(t,s),o=Xy(r);return g.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),a.jsx(ST,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});XT.displayName="BubbleSelect";function QT(e){const t=Fr(e),r=g.useRef(""),n=g.useRef(0),s=g.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function JT(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=wZ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function wZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var bZ=CT,eA=kT,jZ=TT,NZ=AT,_Z=RT,tA=MT,SZ=LT,rA=zT,nA=UT,CZ=BT,EZ=qT,sA=HT,aA=GT,iA=ZT;const St=bZ,Ct=jZ,gt=g.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(eA,{ref:n,className:re("flex h-11 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 min-h-[44px]",e),...r,children:[t,a.jsx(NZ,{asChild:!0,children:a.jsx(fx,{className:"h-4 w-4 opacity-50"})})]}));gt.displayName=eA.displayName;const oA=g.forwardRef(({className:e,...t},r)=>a.jsx(sA,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(nC,{className:"h-4 w-4"})}));oA.displayName=sA.displayName;const lA=g.forwardRef(({className:e,...t},r)=>a.jsx(aA,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(fx,{className:"h-4 w-4"})}));lA.displayName=aA.displayName;const vt=g.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(_Z,{children:a.jsxs(tA,{ref:s,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(oA,{}),a.jsx(SZ,{className:re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(lA,{})]})}));vt.displayName=tA.displayName;const kZ=g.forwardRef(({className:e,...t},r)=>a.jsx(rA,{ref:r,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));kZ.displayName=rA.displayName;const se=g.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(nA,{ref:n,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(EZ,{children:a.jsx(Xt,{className:"h-4 w-4"})})}),a.jsx(CZ,{children:t})]}));se.displayName=nA.displayName;const PZ=g.forwardRef(({className:e,...t},r)=>a.jsx(iA,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));PZ.displayName=iA.displayName;function TZ({isOpen:e,onClose:t,convocatoriaId:r,convocatoriaTitle:n}){const[s,i]=g.useState("email"),[o,l]=g.useState(7),{configureAlert:c,isConfiguringAlert:u}=Hy(),d=async()=>{if(!r){W.error("Error: ID de convocatoria no válido");return}try{await c({convocatoriaId:r,alertType:s,daysBeforeDeadline:o}),W.success("Alerta configurada correctamente",{description:`Recibirás una notificación ${o} días antes del cierre`}),t()}catch(f){console.error("Error al configurar alerta:",f)}};return a.jsx(Yx,{open:e,onOpenChange:t,children:a.jsxs(Nh,{className:"max-w-md",children:[a.jsxs(_h,{children:[a.jsxs(Sh,{className:"flex items-center gap-2",children:[a.jsx(ys,{className:"w-5 h-5"}),"Configurar Alerta"]}),a.jsx(Xx,{children:n?a.jsxs(a.Fragment,{children:["Configurar recordatorio para: ",a.jsx("strong",{children:n})]}):"Configurar un recordatorio personalizado"})]}),a.jsxs("div",{className:"space-y-6 mt-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"alert-type",children:"Tipo de Alerta"}),a.jsxs(St,{value:s,onValueChange:i,children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Seleccionar tipo"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"email",children:"📧 Email"}),a.jsx(se,{value:"browser",children:"🔔 Notificación del navegador"}),a.jsx(se,{value:"both",children:"📧🔔 Email + Navegador"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"days-before",children:"Días antes del cierre"}),a.jsxs(St,{value:o.toString(),onValueChange:f=>l(parseInt(f)),children:[a.jsx(gt,{children:a.jsx(Ct,{})}),a.jsxs(vt,{children:[a.jsx(se,{value:"1",children:"1 día antes"}),a.jsx(se,{value:"3",children:"3 días antes"}),a.jsx(se,{value:"7",children:"1 semana antes"}),a.jsx(se,{value:"14",children:"2 semanas antes"}),a.jsx(se,{value:"30",children:"1 mes antes"})]})]})]}),a.jsx("div",{className:"p-4 rounded-lg bg-muted/50 border",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{children:"Resumen:"})," Recibirás una ",s," ",o," días antes de la fecha límite."]})})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[a.jsx(B,{variant:"outline",onClick:t,disabled:u,children:"Cancelar"}),a.jsxs(B,{onClick:d,disabled:u,className:"gap-2",children:[a.jsx(lh,{className:"w-4 h-4"}),u?"Guardando...":"Guardar Alerta"]})]})]})})}function AZ(){const e=or(),[t,r]=g.useState(new Date),[n,s]=g.useState("month"),[i,o]=g.useState(null),[l,c]=g.useState([]),[u,d]=g.useState(!1),[f,h]=g.useState(!1),[m,w]=g.useState(null),{isPlanFree:p,checkFeatureAccess:v}=Dh(),{getCalendarEvents:y}=AH(),x=y({month:Gn(t,"yyyy-MM"),view:n}),b=(x==null?void 0:x.events)||[],j=x==null?void 0:x.summary,N=iG(t),k=xT(t),S=aG({start:N,end:k}),E=C=>b.filter(A=>ZH(Qg(A.date),C)),P=C=>{const A=new Date(t);C==="prev"?A.setMonth(A.getMonth()-1):A.setMonth(A.getMonth()+1),r(A)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendario"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestiona las fechas importantes de tus convocatorias"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(B,{variant:"outline",onClick:()=>{if(!v("alerts").allowed){e("/plans");return}h(!0)},className:"gap-2",children:[a.jsx(ys,{className:"w-4 h-4"}),"Configurar Alertas",p&&a.jsx(kt,{className:"w-3 h-3 text-primary"})]})})]}),j&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(X,{children:a.jsxs(Q,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pt,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Total Eventos"})]}),a.jsx("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:j.total})]})}),a.jsx(X,{children:a.jsxs(Q,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oa,{className:"w-4 h-4 text-orange-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Esta Semana"})]}),a.jsx("div",{className:"text-2xl font-bold text-orange-600 mt-1",children:j.upcoming_week})]})}),a.jsx(X,{children:a.jsxs(Q,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ys,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Urgentes"})]}),a.jsx("div",{className:"text-2xl font-bold text-red-600 mt-1",children:j.urgent})]})})]}),a.jsx(BH,{feature:"calendar_advanced"}),a.jsxs(Mi,{value:n,onValueChange:C=>s(C),className:"space-y-6",children:[a.jsxs(Fa,{children:[a.jsx(Ze,{value:"month",children:"Vista Mensual"}),a.jsx(Ze,{value:"upcoming",children:"Próximos Eventos"})]}),a.jsx(tt,{value:"month",className:"space-y-6",children:p?a.jsx(hT,{feature:"calendar_advanced",title:"Calendario Inteligente",description:"Visualiza todas las fechas importantes de tus convocatorias en un calendario avanzado con alertas personalizables.",benefits:["Vista de calendario completa","Alertas personalizables","Codificación por colores","Sincronización con calendario externo","Recordatorios automáticos"]}):a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs("div",{children:[a.jsx(ie,{children:Gn(t,"MMMM yyyy",{locale:Ts})}),a.jsxs(ge,{children:[b.length," eventos este mes"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(B,{variant:"outline",size:"sm",onClick:()=>P("prev"),children:"←"}),a.jsx(B,{variant:"outline",size:"sm",onClick:()=>P("next"),children:"→"})]})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"].map(C=>a.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:C},C))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.map(C=>{const A=E(C),M=A.some(R=>R.priority==="alta");return a.jsxs(Zt.div,{className:`p-2 min-h-20 border rounded-md hover:bg-muted/50 cursor-pointer ${M?"border-red-200 bg-red-50":A.length>0?"border-primary/20 bg-primary/5":""}`,whileHover:{scale:1.02},onClick:()=>{A.length>0&&(o(C),c(A),d(!0))},children:[a.jsx("div",{className:"text-sm font-medium",children:Gn(C,"d")}),a.jsxs("div",{className:"space-y-1 mt-1",children:[A.slice(0,2).map(R=>{var L;return a.jsxs("div",{className:"text-xs p-1 rounded bg-primary/10 text-primary truncate",children:[R.type==="cierre"&&"⏰",R.type==="apertura"&&"📅",R.type==="resultados"&&"🏆"," ",((L=R.title.split(":")[1])==null?void 0:L.trim())||R.title]},R.id)}),A.length>2&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",A.length-2," más"]})]})]},C.toISOString())})})]})]})}),a.jsx(tt,{value:"upcoming",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Próximos Eventos"}),a.jsx(ge,{children:"Todos los eventos ordenados cronológicamente"})]}),a.jsx(Q,{children:b.length>0?a.jsx("div",{className:"space-y-4",children:b.slice(0,20).map(C=>a.jsxs(Zt.div,{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-muted/50 transition-colors",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs(K,{variant:C.priority==="alta"?"destructive":C.priority==="media"?"secondary":"outline",className:"text-xs",children:[C.type==="cierre"&&"⏰ Cierre",C.type==="apertura"&&"📅 Apertura",C.type==="resultados"&&"🏆 Resultados"]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:C.daysUntil>=0?`En ${C.daysUntil} días`:`Hace ${Math.abs(C.daysUntil)} días`})]}),a.jsx("h4",{className:"font-medium",children:C.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:C.organization}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Gn(Qg(C.date),"dd MMM yyyy, HH:mm",{locale:Ts})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!p&&a.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{w(C),h(!0)},title:"Configurar alerta",children:a.jsx(ys,{className:"w-4 h-4"})}),a.jsx(B,{variant:"outline",size:"sm",onClick:()=>e(`/app/convocatorias/${C.convocatoriaId}`),children:"Ver Detalles"})]})]},C.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Pt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay eventos próximos"}),a.jsx(B,{variant:"outline",className:"mt-4",onClick:()=>e("/app/convocatorias/new"),children:"Agregar Primera Convocatoria"})]})})]})})]}),a.jsx(JK,{isOpen:u,onClose:()=>d(!1),date:i,events:l}),a.jsx(TZ,{isOpen:f,onClose:()=>{h(!1),w(null)},convocatoriaId:m==null?void 0:m.convocatoriaId,convocatoriaTitle:m==null?void 0:m.title})]})}function RZ({convocatoria:e,onEdit:t,onDelete:r}){const[n,s]=g.useState(!1),i=$5(e.fecha_cierre),o=async()=>{if(r&&window.confirm("¿Estás seguro de que quieres eliminar esta convocatoria?"))try{s(!0),await r(e.id),W.success("Convocatoria eliminada")}catch(u){W.error("Error al eliminar: "+u.message)}finally{s(!1)}},l=()=>{t&&t(e)},c=()=>{e.fuente&&window.open(e.fuente,"_blank")};return a.jsxs(X,{className:"h-full hover:shadow-md transition-shadow",children:[a.jsx(ne,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(ie,{className:"text-lg leading-6 mb-2 line-clamp-2",children:a.jsx(Fe,{to:`/app/convocatorias/${e.id}`,className:"hover:text-primary transition-colors",children:e.nombre_concurso})}),e.institucion&&a.jsxs(ge,{className:"flex items-center gap-1 mb-2",children:[a.jsx(QL,{className:"h-3 w-3"}),e.institucion]})]}),a.jsxs("div",{className:"flex items-start gap-2 ml-2",children:[a.jsx(K,{className:F5(e.estado),children:e.estado.replace("_"," ").toUpperCase()}),a.jsxs(jg,{children:[a.jsx(Ng,{asChild:!0,children:a.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(e5,{className:"h-4 w-4"})})}),a.jsxs(gf,{align:"end",children:[a.jsxs(da,{onClick:l,children:[a.jsx(hC,{className:"mr-2 h-4 w-4"}),"Editar"]}),e.fuente&&a.jsxs(da,{onClick:c,children:[a.jsx(ih,{className:"mr-2 h-4 w-4"}),"Ver fuente"]}),a.jsxs(da,{onClick:o,className:"text-destructive",disabled:n,children:[a.jsx(xx,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})]})]})}),a.jsxs(Q,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Cierre:"}),a.jsx("span",{className:ib(i),children:ab(e.fecha_cierre)})]}),i>=0&&e.estado==="abierto"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:ib(i),children:i===0?"Cierra hoy":i===1?"Cierra mañana":`${i} días restantes`})]}),e.fecha_resultados&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Resultados:"}),a.jsx("span",{children:ab(e.fecha_resultados)})]})]}),a.jsxs("div",{className:"space-y-2",children:[e.tipo_fondo&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K,{variant:"outline",className:"text-xs",children:e.tipo_fondo}),e.area&&a.jsx(K,{variant:"outline",className:"text-xs",children:e.area})]}),e.monto_financiamiento&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(hx,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Monto:"}),a.jsx("span",{children:e.monto_financiamiento})]}),e.notas_usuario&&a.jsx("div",{className:"text-sm text-muted-foreground",children:a.jsxs("p",{className:"italic",children:['"',z5(e.notas_usuario,80),'"']})})]}),a.jsx("div",{className:"pt-2",children:a.jsx(B,{asChild:!0,className:"w-full",size:"sm",children:a.jsx(Fe,{to:`/app/convocatorias/${e.id}`,children:"Ver Detalles"})})})]})]})}function MZ(){const{convocatorias:e,loading:t}=$a(),r=e.filter(s=>s.estado==="finalizado"||s.estado==="cerrado"),n={total:r.length,finalizadas:r.filter(s=>s.estado==="finalizado").length,cerradas:r.filter(s=>s.estado==="cerrado").length,this_year:r.filter(s=>new Date(s.fecha_cierre).getFullYear()===new Date().getFullYear()).length};return t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-48 mx-auto mb-2 animate-pulse"}),a.jsx("div",{className:"h-4 bg-muted rounded w-64 mx-auto animate-pulse"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((s,i)=>a.jsx("div",{className:"h-24 bg-muted rounded-lg animate-pulse"},i))}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,i)=>a.jsx("div",{className:"h-64 bg-muted rounded-lg animate-pulse"},i))})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Historial y Bitácora"}),a.jsx("p",{className:"text-muted-foreground",children:"Revisa todas tus convocatorias anteriores y lleva un registro de tus postulaciones"})]}),a.jsx(B,{asChild:!0,children:a.jsx(Fe,{to:"/app/dashboard",children:"Ver Activas"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ie,{className:"text-sm font-medium",children:"Total Histórico"}),a.jsx(lf,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Convocatorias registradas"})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ie,{className:"text-sm font-medium",children:"Finalizadas"}),a.jsx(He,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.finalizadas}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Con resultados publicados"})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ie,{className:"text-sm font-medium",children:"Cerradas"}),a.jsx(Yw,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.cerradas}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Fuera de plazo"})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ie,{className:"text-sm font-medium",children:"Este Año"}),a.jsx(Pt,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.this_year}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registradas en ",new Date().getFullYear()]})]})]})]}),r.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-semibold",children:["Convocatorias Anteriores (",r.length,")"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(K,{variant:"outline",children:[a.jsx(He,{className:"w-3 h-3 mr-1"}),"Finalizadas: ",n.finalizadas]}),a.jsxs(K,{variant:"outline",children:[a.jsx(Yw,{className:"w-3 h-3 mr-1"}),"Cerradas: ",n.cerradas]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.sort((s,i)=>new Date(i.fecha_cierre).getTime()-new Date(s.fecha_cierre).getTime()).map(s=>a.jsx(RZ,{convocatoria:s,onEdit:i=>console.log("Edit historical:",i),onDelete:async i=>console.log("Delete historical:",i)},s.id))})]}):a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(lf,{className:"h-8 w-8 text-muted-foreground"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aún no tienes historial"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Las convocatorias cerradas y finalizadas aparecerán aquí para que puedas llevar un registro de tus postulaciones"}),a.jsx(B,{asChild:!0,children:a.jsxs(Fe,{to:"/app/dashboard",children:[a.jsx(Pt,{className:"mr-2 h-4 w-4"}),"Ver Convocatorias Activas"]})})]})}),a.jsxs(X,{className:"border-dashed",children:[a.jsxs(ne,{children:[a.jsx(ie,{className:"text-lg",children:"Próximamente en el Historial"}),a.jsx(ge,{children:"Funciones avanzadas que estarán disponibles próximamente"})]}),a.jsx(Q,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Bitácora de Postulaciones"}),a.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"• Registro de estados de postulación"}),a.jsx("li",{children:"• Seguimiento de documentos enviados"}),a.jsx("li",{children:"• Notas y observaciones personales"}),a.jsx("li",{children:"• Fechas importantes y recordatorios"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Análisis y Reportes"}),a.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"• Estadísticas de éxito por institución"}),a.jsx("li",{children:"• Tendencias de financiamiento"}),a.jsx("li",{children:"• Exportación de reportes en PDF"}),a.jsx("li",{children:"• Recomendaciones basadas en historial"})]})]})]})})]})]})}const ss=g.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ss.displayName="Textarea";const kr=g.forwardRef(({className:e,variant:t="default",...r},n)=>{const s=i=>{switch(i){case"destructive":return"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive";case"warning":return"border-yellow-500/50 text-yellow-700 dark:border-yellow-500 [&>svg]:text-yellow-600";case"success":return"border-green-500/50 text-green-700 dark:border-green-500 [&>svg]:text-green-600";default:return"border-border text-foreground [&>svg]:text-foreground"}};return a.jsx("div",{ref:n,role:"alert",className:re("relative w-full rounded-lg border p-4 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",s(t),e),...r})});kr.displayName="Alert";const DZ=g.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));DZ.displayName="AlertTitle";const ts=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:re("text-sm [&_p]:leading-relaxed",e),...t}));ts.displayName="AlertDescription";const IZ={dashboard:"Dashboard",calendar:"Calendario",history:"Historial",export:"Exportar Datos",settings:"Configuración",profile:"Perfil",plans:"Planes",convocatorias:"Convocatorias",new:"Nueva","new-ai":"Nueva con IA",import:"Importar Archivo",paste:"Pegar y Detectar",subscription:"Suscripción"};function mu({items:e,className:t}){const r=sn();if(e)return a.jsxs("nav",{"aria-label":"Breadcrumb",className:re("flex items-center space-x-2 text-sm text-muted-foreground",t),children:[a.jsx(Fe,{to:"/app/dashboard",className:"hover:text-foreground transition-colors",children:a.jsx(Qw,{className:"h-4 w-4"})}),e.map((o,l)=>a.jsxs(q.Fragment,{children:[a.jsx(ug,{className:"h-4 w-4"}),o.href?a.jsxs(Fe,{to:o.href,className:"hover:text-foreground transition-colors flex items-center gap-1",children:[o.icon,o.label]}):a.jsxs("span",{className:"text-foreground flex items-center gap-1",children:[o.icon,o.label]})]},l))]});const n=r.pathname.split("/").filter(Boolean);if(n[0]==="app"&&n.shift(),n.length===0)return null;const s=[];let i="/app";return n.forEach((o,l)=>{i+=`/${o}`;const c=IZ[o]||o.charAt(0).toUpperCase()+o.slice(1);s.push({label:c,href:l===n.length-1?void 0:i})}),a.jsxs("nav",{"aria-label":"Breadcrumb",className:re("flex items-center space-x-2 text-sm text-muted-foreground",t),children:[a.jsx(Fe,{to:"/app/dashboard",className:"hover:text-foreground transition-colors",children:a.jsx(Qw,{className:"h-4 w-4"})}),s.map((o,l)=>a.jsxs(q.Fragment,{children:[a.jsx(ug,{className:"h-4 w-4"}),o.href?a.jsx(Fe,{to:o.href,className:"hover:text-foreground transition-colors",children:o.label}):a.jsx("span",{className:"text-foreground font-medium",children:o.label})]},l))]})}function F1(){var L;const{user:e,profile:t,updateProfile:r}=qe(),{isProPlan:n,getCurrentPlan:s,getTrialDaysLeft:i,isTrialActive:o}=Ms(),[l,c]=g.useState({}),[u,d]=g.useState(!0),[f,h]=g.useState(!1),[m,w]=g.useState(!1),[p,v]=g.useState(!1),[y,x]=g.useState([]),[b,j]=g.useState({total_convocatorias:0,active_convocatorias:0,completed_convocatorias:0,ai_usage_count:0,export_count:0}),N=g.useRef(null);g.useEffect(()=>{k(),S(),E()},[e]);const k=async()=>{var U,V;if(e)try{d(!0);const{data:z,error:D}=await ue.from("profiles").select("*").eq("id",e.id).single();if(D&&D.code!=="PGRST116"){console.error("Error loading profile:",D);return}const I={full_name:((U=e.user_metadata)==null?void 0:U.full_name)||(z==null?void 0:z.full_name)||"",email:e.email||"",phone:(z==null?void 0:z.phone)||"",organization:(z==null?void 0:z.organization)||"",bio:(z==null?void 0:z.bio)||"",website:(z==null?void 0:z.website)||"",location:(z==null?void 0:z.location)||"",avatar_url:(z==null?void 0:z.avatar_url)||((V=e.user_metadata)==null?void 0:V.avatar_url)||"",public_profile:(z==null?void 0:z.public_profile)||!1};c(I)}catch(z){console.error("Error loading profile data:",z),W.error("Error al cargar los datos del perfil")}finally{d(!1)}},S=async()=>{if(e)try{const[U,V]=await Promise.all([ue.from("convocatorias").select("estado").eq("user_id",e.id),ue.from("user_activity").select("action").eq("user_id",e.id).gte("created_at",new Date(Date.now()-2592e6).toISOString())]),z=U.data||[],D=V.data||[];j({total_convocatorias:z.length,active_convocatorias:z.filter(I=>I.estado==="abierto").length,completed_convocatorias:z.filter(I=>I.estado==="finalizado").length,ai_usage_count:D.filter(I=>I.action.includes("ai_")).length,export_count:D.filter(I=>I.action==="export_data").length})}catch(U){console.error("Error loading stats:",U)}},E=async()=>{if(e)try{const{data:U,error:V}=await ue.from("user_activity").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(V)throw V;x(U||[])}catch(U){console.error("Error loading activity:",U)}},P=(U,V)=>{c(z=>({...z,[U]:V})),v(!0)},C=async U=>{var z;const V=(z=U.target.files)==null?void 0:z[0];if(!(!V||!e)){if(!V.type.startsWith("image/")){W.error("Solo se permiten archivos de imagen");return}if(V.size>5*1024*1024){W.error("La imagen no debe superar los 5MB");return}try{w(!0);const D=V.name.split(".").pop(),I=`${e.id}-${Date.now()}.${D}`,{error:G}=await ue.storage.from("avatars").upload(I,V,{cacheControl:"3600",upsert:!0});if(G)throw G;const{data:oe}=ue.storage.from("avatars").getPublicUrl(I),we=oe.publicUrl;await r({avatar_url:we}),c(pe=>({...pe,avatar_url:we})),W.success("Avatar actualizado exitosamente"),await ue.from("user_activity").insert({user_id:e.id,action:"avatar_updated",description:"Avatar de perfil actualizado",metadata:{avatar_url:we}})}catch(D){console.error("Error uploading avatar:",D),W.error("Error al subir el avatar")}finally{w(!1)}}},A=async()=>{var U;if(e)try{h(!0);const{error:V}=await ue.from("profiles").upsert({id:e.id,full_name:l.full_name,phone:l.phone,organization:l.organization,bio:l.bio,website:l.website,location:l.location,public_profile:l.public_profile,updated_at:new Date().toISOString()});if(V)throw V;l.full_name!==((U=e.user_metadata)==null?void 0:U.full_name)&&await r({full_name:l.full_name}),W.success("Perfil actualizado exitosamente"),v(!1),await ue.from("user_activity").insert({user_id:e.id,action:"profile_updated",description:"Información del perfil actualizada"})}catch(V){console.error("Error saving profile:",V),W.error("Error al guardar el perfil")}finally{h(!1)}},M=U=>U.split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2),R=s();return u?a.jsx("div",{className:"flex-1 space-y-4 p-4 md:p-8",children:a.jsx("div",{className:"flex h-96 items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(oo,{className:"h-12 w-12 mx-auto text-muted-foreground animate-pulse"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando perfil..."})]})})}):a.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8",children:[a.jsx(mu,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mi Perfil"}),a.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu información personal y configuración de cuenta"})]}),p&&a.jsxs(B,{onClick:A,disabled:f,children:[f?a.jsx(oo,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Xt,{className:"mr-2 h-4 w-4"}),f?"Guardando...":"Guardar Cambios"]})]}),a.jsxs(Mi,{defaultValue:"profile",className:"space-y-6",children:[a.jsxs(Fa,{className:"grid w-full grid-cols-4",children:[a.jsx(Ze,{value:"profile",children:"Perfil"}),a.jsx(Ze,{value:"account",children:"Cuenta"}),a.jsx(Ze,{value:"activity",children:"Actividad"}),a.jsx(Ze,{value:"privacy",children:"Privacidad"})]}),a.jsx(tt,{value:"profile",className:"space-y-6",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Foto de Perfil"}),a.jsx(ge,{children:"Tu imagen aparecerá en tu perfil y actividades"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(Bx,{className:"h-24 w-24",children:[a.jsx(Wx,{src:l.avatar_url,alt:"Avatar"}),a.jsx(qx,{className:"text-lg",children:l.full_name?M(l.full_name):"US"})]}),a.jsx(B,{size:"sm",variant:"secondary",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",onClick:()=>{var U;return(U=N.current)==null?void 0:U.click()},disabled:m,children:m?a.jsx(mC,{className:"h-4 w-4 animate-spin"}):a.jsx($L,{className:"h-4 w-4"})}),a.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:C,className:"hidden"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Formatos: JPG, PNG, GIF"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tamaño máximo: 5MB"})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs(K,{variant:n()?"default":"secondary",className:"mb-2",children:[n()?a.jsx(kt,{className:"mr-1 h-3 w-3"}):a.jsx(ua,{className:"mr-1 h-3 w-3"}),"Plan ",n()?"Pro":"Gratuito"]}),o()&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Prueba: ",i()," días restantes"]}),R&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.name})]})]})]}),a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Información Personal"}),a.jsx(ge,{children:"Datos básicos de tu perfil"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"full_name",children:"Nombre completo"}),a.jsx(Ce,{id:"full_name",value:l.full_name||"",onChange:U=>P("full_name",U.target.value),placeholder:"Tu nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"email",children:"Email"}),a.jsx(Ce,{id:"email",type:"email",value:l.email||"",disabled:!0,className:"bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"El email no se puede cambiar"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"phone",children:"Teléfono"}),a.jsx(Ce,{id:"phone",value:l.phone||"",onChange:U=>P("phone",U.target.value),placeholder:"+56 9 1234 5678"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"location",children:"Ubicación"}),a.jsx(Ce,{id:"location",value:l.location||"",onChange:U=>P("location",U.target.value),placeholder:"Santiago, Chile"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"organization",children:"Organización"}),a.jsx(Ce,{id:"organization",value:l.organization||"",onChange:U=>P("organization",U.target.value),placeholder:"Empresa, universidad, institución..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"website",children:"Sitio web"}),a.jsx(Ce,{id:"website",value:l.website||"",onChange:U=>P("website",U.target.value),placeholder:"https://tuempresa.com"})]})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Biografía"}),a.jsx(ge,{children:"Cuéntanos sobre ti y tu trabajo"})]}),a.jsxs(Q,{children:[a.jsx(ss,{value:l.bio||"",onChange:U=>P("bio",U.target.value),placeholder:"Escribe una breve descripción sobre ti, tu trabajo, intereses profesionales...",className:"min-h-[100px] resize-y",maxLength:500}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(l.bio||"").length,"/500 caracteres"]})]})]})]})]})}),a.jsx(tt,{value:"account",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(ua,{className:"h-5 w-5"}),"Información de Cuenta"]}),a.jsx(ge,{children:"Detalles de tu cuenta y suscripción"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Email de la cuenta"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(px,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:e==null?void 0:e.email})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Fecha de registro"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:e!=null&&e.created_at?Gn(new Date(e.created_at),"dd/MM/yyyy",{locale:Ts}):"N/A"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Plan actual"}),a.jsxs("div",{className:"flex items-center gap-2",children:[n()?a.jsx(kt,{className:"h-4 w-4 text-yellow-500"}):a.jsx(ua,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:n()?"Plan Pro":"Plan Gratuito"}),o()&&a.jsxs(K,{variant:"outline",className:"text-xs",children:["Prueba: ",i(),"d"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"ID de usuario"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oo,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[(L=e==null?void 0:e.id)==null?void 0:L.slice(0,8),"..."]})]})]})]}),a.jsx(nr,{}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx(Dr,{className:"h-6 w-6 mx-auto mb-2 text-blue-500"}),a.jsx("div",{className:"text-2xl font-bold",children:b.total_convocatorias}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Convocatorias"})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx(Bu,{className:"h-6 w-6 mx-auto mb-2 text-green-500"}),a.jsx("div",{className:"text-2xl font-bold",children:b.active_convocatorias}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Activas"})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx(Xt,{className:"h-6 w-6 mx-auto mb-2 text-purple-500"}),a.jsx("div",{className:"text-2xl font-bold",children:b.completed_convocatorias}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completadas"})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx(kt,{className:"h-6 w-6 mx-auto mb-2 text-yellow-500"}),a.jsx("div",{className:"text-2xl font-bold",children:b.ai_usage_count}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Uso de IA"})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsx(Or,{className:"h-6 w-6 mx-auto mb-2 text-orange-500"}),a.jsx("div",{className:"text-2xl font-bold",children:b.export_count}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Exportaciones"})]})]})]})]})}),a.jsx(tt,{value:"activity",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Bu,{className:"h-5 w-5"}),"Actividad Reciente"]}),a.jsx(ge,{children:"Últimas acciones realizadas en tu cuenta"})]}),a.jsx(Q,{children:y.length>0?a.jsx("div",{className:"space-y-4",children:y.map(U=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[a.jsxs("div",{className:"mt-1",children:[U.action.includes("ai_")&&a.jsx(kt,{className:"h-4 w-4 text-yellow-500"}),U.action.includes("export")&&a.jsx(Or,{className:"h-4 w-4 text-blue-500"}),U.action.includes("profile")&&a.jsx(oo,{className:"h-4 w-4 text-green-500"}),U.action.includes("convocatoria")&&a.jsx(Dr,{className:"h-4 w-4 text-purple-500"}),!["ai_","export","profile","convocatoria"].some(V=>U.action.includes(V))&&a.jsx(Bu,{className:"h-4 w-4 text-gray-500"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:U.description}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Gn(new Date(U.created_at),"dd/MM/yyyy HH:mm",{locale:Ts})})]})]},U.id))}):a.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:[a.jsx(Bu,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay actividad reciente"})]})})]})}),a.jsx(tt,{value:"privacy",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[l.public_profile?a.jsx(En,{className:"h-5 w-5"}):a.jsx(Wo,{className:"h-5 w-5"}),"Configuración de Privacidad"]}),a.jsx(ge,{children:"Controla la visibilidad de tu perfil y datos"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ae,{children:"Perfil público"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Permite que otros usuarios vean tu información de perfil"})]}),a.jsx(B,{variant:l.public_profile?"default":"outline",onClick:()=>P("public_profile",!l.public_profile),children:l.public_profile?a.jsxs(a.Fragment,{children:[a.jsx(En,{className:"mr-2 h-4 w-4"})," Público"]}):a.jsxs(a.Fragment,{children:[a.jsx(Wo,{className:"mr-2 h-4 w-4"})," Privado"]})})]}),a.jsx(nr,{}),a.jsxs(kr,{children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsxs(ts,{children:[a.jsx("strong",{children:"Tu privacidad es importante:"})," Solo compartes la información que eliges hacer pública. Tu email y datos personales siempre permanecen privados."]})]})]})]})})]})]})}function OZ({isRequired:e=!1,currentPlan:t}){const[r,n]=g.useState(null),{selectPlan:s,isTrialActive:i,getTrialDaysLeft:o}=Ms(),l=or(),c=[{id:"free",name:"Plan Gratuito",price:0,description:"Perfecto para empezar",icon:a.jsx(kn,{className:"h-6 w-6"}),features:["Hasta 5 convocatorias","Ingreso manual","Calendario básico","Filtros simples","3 días de prueba Pro"],cta:"Continuar gratis",popular:!1},{id:"pro_monthly",name:"Pro Mensual",price:8990,description:"Todas las funciones premium",icon:a.jsx(kt,{className:"h-6 w-6"}),features:["Convocatorias ilimitadas","IA para parsing de archivos","Drag & drop de documentos","Rastreo automático","Exportación PDF/CSV","Alertas personalizadas","Soporte prioritario"],cta:"Suscribirse Pro",popular:!0},{id:"pro_annual",name:"Pro Anual",price:84990,originalPrice:107880,description:"Máximo ahorro + extras",icon:a.jsx(kt,{className:"h-6 w-6"}),features:["Todo lo del Pro Mensual","Acceso anticipado","1 colaborador incluido","Reportes avanzados","Backup automático","API access (próximamente)","Descuento de 2 meses"],cta:"Suscribirse Pro Anual",popular:!1,savings:"2 meses gratis"}],u=async d=>{try{if(n(d),console.log("Seleccionando plan:",d),console.log("Plan actual:",t),d===t){W.info("Ya tienes este plan activo"),e&&l("/app/dashboard");return}const{success:f,redirected:h}=await s(d);f&&(d==="free"?(W.success("Plan gratuito activado"),l("/app/dashboard")):h&&W.success("Redirigiendo a MercadoPago...",{description:"Serás redirigido al checkout de MercadoPago"}))}catch(f){console.error("Error al seleccionar plan:",f),W.error("Error al procesar el pago",{description:f.message||"Por favor intenta nuevamente o contacta soporte"})}finally{n(null)}};return a.jsxs("div",{className:"py-8",children:[e&&a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"¡Bienvenido a ConvocatoriasPro!"}),a.jsx("p",{className:"text-muted-foreground",children:"Selecciona el plan que mejor se adapte a tus necesidades"}),i()&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:[a.jsxs("p",{className:"text-green-700 dark:text-green-300 font-medium",children:["¡Tienes ",o()," días de prueba Pro gratis!"]}),a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Prueba todas las funciones premium sin costo"})]})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:c.map(d=>{const f=t===d.id,h=r===d.id;return a.jsxs(X,{className:`relative ${d.popular?"ring-2 ring-primary":""} ${f?"ring-2 ring-green-500":""}`,children:[d.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:a.jsx(K,{className:"bg-primary text-primary-foreground",children:"Más Popular"})}),d.savings&&a.jsx("div",{className:"absolute -top-3 right-4",children:a.jsx(K,{variant:"success",children:d.savings})}),f&&a.jsx("div",{className:"absolute -top-3 left-4",children:a.jsx(K,{variant:"success",children:"Plan Actual"})}),a.jsxs(ne,{className:"text-center pb-8",children:[a.jsx("div",{className:"flex justify-center mb-4 text-primary",children:d.icon}),a.jsx(ie,{className:"text-xl",children:d.name}),a.jsx(ge,{children:d.description}),a.jsx("div",{className:"mt-4",children:d.price===0?a.jsx("div",{className:"text-3xl font-bold",children:"Gratis"}):a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold",children:mg(d.price)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:d.id==="pro_monthly"?"por mes":"por año"}),d.originalPrice&&a.jsx("div",{className:"text-sm text-muted-foreground line-through",children:mg(d.originalPrice)})]})})]}),a.jsxs(Q,{children:[a.jsx("ul",{className:"space-y-3 mb-6",children:d.features.map((m,w)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Xt,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:m})]},w))}),a.jsx(B,{className:"w-full",variant:d.popular?"default":"outline",onClick:()=>u(d.id),disabled:h||f,children:h?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Procesando..."]}):f?"Plan Actual":d.cta})]})]},d.id)})}),e&&a.jsx("div",{className:"text-center mt-8",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Puedes cambiar tu plan en cualquier momento desde la configuración"})})]})}function LZ(){const{profile:e}=qe(),{getCurrentPlan:t,isTrialActive:r,getTrialDaysLeft:n,isProPlan:s}=Ms(),i=t();return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Suscripción y Facturación"}),a.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu plan y configuración de facturación"})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-5 w-5"}),"Plan Actual"]}),a.jsx(ge,{children:"Información sobre tu suscripción actual"})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:s()?"Plan Pro":"Plan Gratuito"}),a.jsx(K,{variant:s()?"default":"secondary",children:s()?"PRO":"FREE"})]}),s()&&i&&a.jsxs("p",{className:"text-2xl font-bold text-primary mb-1",children:[mg(i.price_clp),a.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:(e==null?void 0:e.plan)==="pro_monthly"?"por mes":"por año"})]}),r()&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Pt,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["Prueba gratis: ",n()," días restantes"]})]}),(e==null?void 0:e.plan_expires_at)&&a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Pt,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:["Próxima facturación: ",new Date(e.plan_expires_at).toLocaleDateString("es-CL")]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(K,{variant:s()||r()?"success":"secondary",className:"mb-2",children:s()||r()?"Activo":"Gratuito"}),!s()&&!r()&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Límite: 5 convocatorias"})]})]})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Funciones Incluidas"}),a.jsx(ge,{children:"Esto es lo que incluye tu plan actual"})]}),a.jsx(Q,{children:a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:s()||r()?"Plan Pro":"Plan Gratuito"}),a.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground",children:s()||r()?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"✓ Convocatorias ilimitadas"}),a.jsx("li",{children:"✓ IA para parsing de archivos"}),a.jsx("li",{children:"✓ Drag & drop de documentos"}),a.jsx("li",{children:"✓ Rastreo automático"}),a.jsx("li",{children:"✓ Exportación PDF/CSV"}),a.jsx("li",{children:"✓ Alertas personalizadas"}),a.jsx("li",{children:"✓ Soporte prioritario"})]}):a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"✓ Hasta 5 convocatorias"}),a.jsx("li",{children:"✓ Ingreso manual"}),a.jsx("li",{children:"✓ Calendario básico"}),a.jsx("li",{children:"✓ Filtros simples"}),a.jsx("li",{children:"• IA parsing (Pro)"}),a.jsx("li",{children:"• Rastreo automático (Pro)"}),a.jsx("li",{children:"• Exportación avanzada (Pro)"})]})})]})})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Cambiar Plan"}),a.jsx(ge,{children:"Actualiza o cambia tu plan de suscripción"})]}),a.jsx(Q,{children:a.jsx(OZ,{currentPlan:e==null?void 0:e.plan})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(of,{className:"h-5 w-5"}),"Historial de Facturación"]}),a.jsx(ge,{children:"Próximamente: historial de pagos y facturas"})]}),a.jsx(Q,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(of,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"El historial de facturación estará disponible próximamente"})]})})]})]})}const $Z=dy({nombre_concurso:Ht().min(1,"El nombre es requerido"),institucion:Ht().min(1,"La institución es requerida"),fecha_apertura:Ht().optional(),fecha_cierre:Ht().min(1,"La fecha de cierre es requerida"),fecha_resultados:Ht().optional(),estado:u2(["abierto","cerrado","en_evaluacion","finalizado"]),tipo_fondo:Ht().min(1,"El tipo de fondo es requerido"),area:Ht().min(1,"El área es requerida"),requisitos:Ht().optional(),fuente:Ht().url("Debe ser una URL válida").optional().or(C8("")),monto_financiamiento:Ht().optional(),notas_usuario:Ht().optional()});function FZ(){const[e,t]=g.useState(!1),{createConvocatoria:r}=$a(),{hasReachedLimit:n,isProPlan:s,isTrialActive:i}=Ms(),o=or(),l=s()||i()||!n(0),{register:c,handleSubmit:u,setValue:d,formState:{errors:f}}=sy({resolver:uy($Z),defaultValues:{estado:"abierto"}});if(!l)return a.jsx("div",{className:"max-w-2xl mx-auto text-center py-12",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Límite Alcanzado"}),a.jsx(ge,{children:"Has alcanzado el límite de convocatorias del plan gratuito"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"Actualiza a Pro para crear convocatorias ilimitadas y acceder a funciones avanzadas con IA"}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx(B,{asChild:!0,children:a.jsx(Fe,{to:"/plans",children:"Ver Planes Pro"})}),a.jsx(B,{variant:"outline",asChild:!0,children:a.jsxs(Fe,{to:"/app/dashboard",children:[a.jsx(Zw,{className:"mr-2 h-4 w-4"}),"Volver al Dashboard"]})})]})]})]})});const h=async m=>{try{t(!0),await r(m),W.success("Convocatoria creada exitosamente"),o("/app/dashboard")}catch(w){W.error("Error al crear convocatoria: "+w.message)}finally{t(!1)}};return a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(B,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(Fe,{to:"/app/dashboard",children:a.jsx(Zw,{className:"h-4 w-4"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Nueva Convocatoria"}),a.jsx("p",{className:"text-muted-foreground",children:"Agrega una nueva convocatoria de financiamiento"})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Información de la Convocatoria"}),a.jsx(ge,{children:"Completa los datos de la convocatoria de financiamiento"})]}),a.jsx(Q,{children:a.jsxs("form",{onSubmit:u(h),className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"nombre_concurso",children:"Nombre del Concurso *"}),a.jsx(Ce,{id:"nombre_concurso",...c("nombre_concurso"),placeholder:"Ej: Fondo de Emprendimiento e Innovación 2025",disabled:e}),f.nombre_concurso&&a.jsx("p",{className:"text-sm text-destructive mt-1",children:f.nombre_concurso.message})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"institucion",children:"Institución *"}),a.jsx(Ce,{id:"institucion",...c("institucion"),placeholder:"Ej: CORFO, SERCOTEC, Fondos de Cultura",disabled:e}),f.institucion&&a.jsx("p",{className:"text-sm text-destructive mt-1",children:f.institucion.message})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"tipo_fondo",children:"Tipo de Fondo *"}),a.jsx(Ce,{id:"tipo_fondo",...c("tipo_fondo"),placeholder:"Ej: Emprendimiento, Innovación, Cultura",disabled:e}),f.tipo_fondo&&a.jsx("p",{className:"text-sm text-destructive mt-1",children:f.tipo_fondo.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"area",children:"Área *"}),a.jsx(Ce,{id:"area",...c("area"),placeholder:"Ej: Tecnología, Arte, Ciencias",disabled:e}),f.area&&a.jsx("p",{className:"text-sm text-destructive mt-1",children:f.area.message})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"monto_financiamiento",children:"Monto de Financiamiento"}),a.jsx(Ce,{id:"monto_financiamiento",...c("monto_financiamiento"),placeholder:"Ej: Hasta $50.000.000 CLP",disabled:e})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Fechas Importantes"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"fecha_apertura",children:"Fecha de Apertura"}),a.jsx(Ce,{id:"fecha_apertura",type:"date",...c("fecha_apertura"),disabled:e})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"fecha_cierre",children:"Fecha de Cierre *"}),a.jsx(Ce,{id:"fecha_cierre",type:"date",...c("fecha_cierre"),disabled:e}),f.fecha_cierre&&a.jsx("p",{className:"text-sm text-destructive mt-1",children:f.fecha_cierre.message})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"fecha_resultados",children:"Fecha de Resultados"}),a.jsx(Ce,{id:"fecha_resultados",type:"date",...c("fecha_resultados"),disabled:e})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"estado",children:"Estado"}),a.jsxs(St,{onValueChange:m=>d("estado",m),defaultValue:"abierto",children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Selecciona el estado"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"abierto",children:"Abierto"}),a.jsx(se,{value:"cerrado",children:"Cerrado"}),a.jsx(se,{value:"en_evaluacion",children:"En Evaluación"}),a.jsx(se,{value:"finalizado",children:"Finalizado"})]})]})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"fuente",children:"Enlace de la Fuente"}),a.jsx(Ce,{id:"fuente",type:"url",...c("fuente"),placeholder:"https://www.corfo.cl/convocatoria...",disabled:e}),f.fuente&&a.jsx("p",{className:"text-sm text-destructive mt-1",children:f.fuente.message})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"requisitos",children:"Requisitos Principales"}),a.jsx(ss,{id:"requisitos",...c("requisitos"),placeholder:"Describe los requisitos principales de la convocatoria...",rows:3,disabled:e})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"notas_usuario",children:"Notas Personales"}),a.jsx(ss,{id:"notas_usuario",...c("notas_usuario"),placeholder:"Agrega tus notas, observaciones o recordatorios...",rows:3,disabled:e})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx(B,{type:"submit",disabled:e,className:"flex-1",children:e?a.jsxs(a.Fragment,{children:[a.jsx(fg,{className:"mr-2 h-4 w-4 animate-spin"}),"Creando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lh,{className:"mr-2 h-4 w-4"}),"Crear Convocatoria"]})}),a.jsx(B,{type:"button",variant:"outline",asChild:!0,children:a.jsx(Fe,{to:"/app/dashboard",children:"Cancelar"})})]})]})})]})]})}class zZ{async parseContent(t){try{return await this.callEdgeFunction("parse-content",t)}catch(r){return console.error("Error en parseContent:",r),{success:!1,confidence:0,warnings:[],errors:[r instanceof Error?r.message:"Error desconocido"],message:"Error al procesar el contenido"}}}async validateConvocatoria(t){try{return await this.callEdgeFunction("validate-convocatoria",{convocatoria:t})}catch(r){return console.error("Error en validateConvocatoria:",r),{isValid:!1,score:0,errors:[r instanceof Error?r.message:"Error en validación"],warnings:[],suggestions:[],improvements:[]}}}async enhancePreview(t){try{return await this.callEdgeFunction("enhance-preview",{convocatoria:t})}catch(r){return console.error("Error en enhancePreview:",r),{enhanced_description:"Error al generar descripción mejorada",key_points:[],timeline:[],requirements_summary:[],estimated_competition:"medium",target_audience:[],success_tips:[],similar_opportunities:[],risk_assessment:{level:"medium",factors:["No se pudo evaluar"]}}}}async exportData(t){try{const r=await this.callEdgeFunction("export-data",t);return t.format==="csv"?{success:!0,format:"csv",content:r,filename:`convocatorias_${new Date().toISOString().split("T")[0]}.csv`,total_records:0,generated_at:new Date().toISOString()}:r}catch(r){throw console.error("Error en exportData:",r),r}}async trackSuggestions(t){try{return await this.callEdgeFunction("track-suggestions",t)}catch(r){return console.error("Error en trackSuggestions:",r),{suggestions:[],tracking_id:""}}}async getRecommendations(t){try{return await this.callEdgeFunction("get-recommendations",{filters:t||{}})}catch(r){return console.error("Error en getRecommendations:",r),{recommendations:[],total_found:0}}}async processFile(t){try{const r=await t.text();return await this.parseContent({content:r,fileType:t.type||"text/plain",source:"file"})}catch(r){return console.error("Error procesando archivo:",r),{success:!1,confidence:0,warnings:[],errors:["Error al leer el archivo"],message:"No se pudo procesar el archivo"}}}async processClipboard(t){return await this.parseContent({content:t,fileType:"text/plain",source:"clipboard"})}canUseAI(t){return t==="pro_monthly"||t==="pro_annual"}async getAuthHeaders(){const{data:{session:t}}=await ue.auth.getSession();if(!(t!=null&&t.access_token))throw new Error("No hay sesión activa");return{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`}}async callEdgeFunction(t,r){try{const n=await this.getAuthHeaders(),{data:s,error:i}=await ue.functions.invoke(t,{body:r,headers:n});if(i)throw console.error(`Error en Edge Function ${t}:`,i),new Error(`Error en ${t}: ${i.message||"Error desconocido"}`);return s}catch(n){throw console.error(`Error al llamar a ${t}:`,n),n}}downloadCSV(t,r){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),i=URL.createObjectURL(n);s.setAttribute("href",i),s.setAttribute("download",r),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}openPDF(t){const r=window.open("","_blank");r&&(r.document.write(t),r.document.close())}cleanText(t){return t.trim().replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\n{3,}/g,`

`).replace(/\s+/g," ")}isValidUrl(t){try{return new URL(t),!0}catch{return!1}}}const Gr=new zZ;function VZ(){var M;const{user:e,isPro:t}=qe(),[r,n]=g.useState(""),[s,i]=g.useState("text"),[o,l]=g.useState(""),[c,u]=g.useState(null),[d,f]=g.useState(null),[h,m]=g.useState(null),[w,p]=g.useState(!1),[v,y]=g.useState(!1),[x,b]=g.useState(!1),[j,N]=g.useState(null),k=t,S=R=>{var U;const L=(U=R.target.files)==null?void 0:U[0];if(L){l(L.name);const V=new FileReader;V.onload=z=>{var D;n(((D=z.target)==null?void 0:D.result)||"")},V.readAsText(L)}},E=async()=>{if(!r.trim()){N("Por favor, ingresa el contenido de la convocatoria");return}if(!k){N("Necesitas un plan Pro para usar las funciones de IA");return}N(null),p(!0);try{const R=await Gr.parseContent({type:s,content:r,filename:s==="file"?o:void 0});u(R)}catch(R){N(R instanceof Error?R.message:"Error al parsear el contenido")}finally{p(!1)}},P=async()=>{var R;if(!((R=c==null?void 0:c.convocatorias)!=null&&R[0])){N("Primero debes parsear el contenido para poder validarlo");return}N(null),y(!0);try{const L=await Gr.validateConvocatoria(c.convocatorias[0]);f(L)}catch(L){N(L instanceof Error?L.message:"Error al validar el contenido")}finally{y(!1)}},C=async()=>{var R;if(!((R=c==null?void 0:c.convocatorias)!=null&&R[0])){N("Primero debes parsear el contenido para poder generar la vista previa");return}N(null),b(!0);try{const L=await Gr.enhancePreview(c.convocatorias[0]);m(L)}catch(L){N(L instanceof Error?L.message:"Error al generar vista previa")}finally{b(!1)}},A=()=>{u(null),f(null),m(null),N(null)};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Nueva Convocatoria con IA"}),a.jsx("p",{className:"text-gray-600",children:"Utiliza nuestros agentes de IA para procesar y validar convocatorias de manera inteligente"})]}),!k&&a.jsxs(kr,{variant:"warning",className:"mb-6",children:[a.jsx(wi,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Plan requerido"}),a.jsxs("p",{className:"text-sm mt-1",children:["Las funciones de IA están disponibles solo para usuarios Pro.",a.jsx("a",{href:"/plans",className:"underline font-medium",children:"Actualizar plan"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-5 w-5"}),"Contenido de la Convocatoria"]}),a.jsx(ge,{children:"Pega el texto, sube un archivo o ingresa una URL de la convocatoria"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs(Mi,{value:s,onValueChange:R=>i(R),children:[a.jsxs(Fa,{className:"grid w-full grid-cols-3",children:[a.jsx(Ze,{value:"text",children:"Texto"}),a.jsx(Ze,{value:"file",children:"Archivo"}),a.jsx(Ze,{value:"url",children:"URL"})]}),a.jsx(tt,{value:"text",children:a.jsx(ss,{placeholder:"Pega aquí el contenido de la convocatoria...",value:r,onChange:R=>n(R.target.value),className:"min-h-[200px]"})}),a.jsx(tt,{value:"file",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{type:"file",accept:".txt,.pdf,.doc,.docx",onChange:S}),o&&a.jsxs("p",{className:"text-sm text-gray-500",children:["Archivo seleccionado: ",o]}),a.jsx(ss,{placeholder:"El contenido del archivo aparecerá aquí...",value:r,onChange:R=>n(R.target.value),className:"min-h-[150px]"})]})}),a.jsx(tt,{value:"url",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ce,{type:"url",placeholder:"https://ejemplo.com/convocatoria",value:r,onChange:R=>n(R.target.value)}),a.jsx("p",{className:"text-sm text-gray-500",children:"Ingresa la URL de la convocatoria para procesarla automáticamente"})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(B,{variant:"outline",onClick:()=>{n(""),l(""),A()},disabled:!r,children:"Limpiar"})})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(af,{className:"h-5 w-5"}),"Agentes de IA"]}),a.jsx(ge,{children:"Procesa el contenido con nuestros agentes especializados"})]}),a.jsxs(Q,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs(B,{onClick:E,disabled:!k||!r.trim()||w,className:"h-12 flex flex-col gap-1",children:[w?a.jsx(ws,{size:"sm"}):a.jsx(Dr,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:"Parsear"})]}),a.jsxs(B,{onClick:P,disabled:!k||!c||v,variant:"outline",className:"h-12 flex flex-col gap-1",children:[v?a.jsx(ws,{size:"sm"}):a.jsx(He,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:"Validar"})]}),a.jsxs(B,{onClick:C,disabled:!k||!c||x,variant:"secondary",className:"h-12 flex flex-col gap-1",children:[x?a.jsx(ws,{size:"sm"}):a.jsx(En,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:"Vista Previa"})]})]}),j&&a.jsxs(kr,{variant:"destructive",className:"mt-4",children:[a.jsx(wi,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Error"}),a.jsx("p",{className:"text-sm mt-1",children:j})]})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[c&&a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-5 w-5 text-blue-600"}),"Resultado del Análisis",c.success?a.jsx(K,{variant:"default",className:"bg-green-600",children:"Éxito"}):a.jsx(K,{variant:"destructive",children:"Error"})]})}),a.jsx(Q,{children:c.success&&c.convocatorias?a.jsx("div",{className:"space-y-4",children:c.convocatorias.map((R,L)=>a.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[a.jsx("h4",{className:"font-semibold text-lg mb-2",children:R.nombre_concurso}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Institución:"})," ",R.institucion||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Estado:"}),a.jsx(K,{variant:R.estado==="abierto"?"default":"secondary",className:"ml-2",children:R.estado})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fecha cierre:"})," ",R.fecha_cierre]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Área:"})," ",R.area||"N/A"]}),R.monto_financiamiento&&a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("span",{className:"font-medium",children:"Financiamiento:"})," ",R.monto_financiamiento]})]})]},L))}):a.jsxs("div",{className:"text-red-600",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Errores encontrados:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:(M=c.errors)==null?void 0:M.map((R,L)=>a.jsx("li",{className:"text-sm",children:R},L))})]})})]}),d&&a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(He,{className:"h-5 w-5 text-green-600"}),"Resultado de Validación",a.jsxs(K,{variant:d.isValid?"default":"destructive",className:d.isValid?"bg-green-600":"",children:["Score: ",d.score,"/100"]})]})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[d.errors.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-red-600 mb-2",children:"Errores:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:d.errors.map((R,L)=>a.jsx("li",{className:"text-sm text-red-600",children:R},L))})]}),d.warnings.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-yellow-600 mb-2",children:"Advertencias:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:d.warnings.map((R,L)=>a.jsx("li",{className:"text-sm text-yellow-600",children:R},L))})]}),d.suggestions.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Sugerencias:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:d.suggestions.map((R,L)=>a.jsx("li",{className:"text-sm text-blue-600",children:R},L))})]})]})})]}),h&&a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-5 w-5 text-purple-600"}),"Vista Previa Mejorada"]})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Descripción Mejorada:"}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:h.enhanced_description})]}),h.key_points.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Puntos Clave:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.key_points.map((R,L)=>a.jsx("li",{className:"text-sm",children:R},L))})]}),h.timeline.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Cronograma:"}),a.jsx("div",{className:"space-y-2",children:h.timeline.map((R,L)=>a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(K,{variant:R.importance==="high"?"destructive":R.importance==="medium"?"default":"secondary",className:"text-xs",children:R.importance}),a.jsx("span",{className:"font-medium",children:R.date}),a.jsx("span",{children:R.event})]},L))})]}),h.requirements_summary.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Requisitos Principales:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.requirements_summary.map((R,L)=>a.jsx("li",{className:"text-sm",children:R},L))})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-semibold text-sm",children:"Competencia Estimada:"}),a.jsx(K,{variant:h.estimated_competition==="high"?"destructive":h.estimated_competition==="medium"?"default":"secondary",children:h.estimated_competition==="high"?"Alta":h.estimated_competition==="medium"?"Media":"Baja"})]})]})})]})]})]})]})})}function UZ(){return a.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{children:"Detalle de Convocatoria"}),a.jsx(ge,{children:"Esta funcionalidad estará disponible próximamente"})]}),a.jsxs(Q,{children:[a.jsx("p",{className:"text-muted-foreground",children:"Aquí podrás ver todos los detalles de la convocatoria, incluyendo:"}),a.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"Información completa de la convocatoria"}),a.jsx("li",{children:"Fechas importantes y recordatorios"}),a.jsx("li",{children:"Estado de tu postulación"}),a.jsx("li",{children:"Documentos requeridos"}),a.jsx("li",{children:"Historial de cambios"})]})]})]})})}function cA(){const{user:e,isPro:t}=qe(),[r,n]=g.useState(!1),s=()=>e?(console.log("🤖 AI Access Check:",{user:!!e,isPro:t,userEmail:e==null?void 0:e.email}),t?!0:(W.error("Las funciones de IA requieren Plan Pro",{action:{label:"Ver Planes",onClick:()=>window.location.href="/plans"}}),!1)):(W.error("Debes iniciar sesión para usar las funciones de IA"),!1);return{parseContent:async h=>{var m,w;if(!s())return null;try{n(!0);const p=await Gr.parseContent(h);return p.success?W.success(`✨ IA extrajo ${((m=p.convocatorias)==null?void 0:m.length)||0} convocatorias`):W.error("Error al procesar contenido",{description:((w=p.errors)==null?void 0:w[0])||"Error desconocido"}),p}catch{return W.error("Error en el procesamiento con IA"),null}finally{n(!1)}},parseFile:async h=>{var m,w;if(!s())return null;try{n(!0);const p=await Gr.processFile(h);return p.success?W.success(`✨ IA extrajo ${((m=p.convocatorias)==null?void 0:m.length)||0} convocatorias`):W.error("Error al procesar archivo",{description:((w=p.errors)==null?void 0:w[0])||"Error desconocido"}),p}catch{return W.error("Error en el procesamiento del archivo"),null}finally{n(!1)}},parseClipboard:async h=>{var m,w;if(!s())return null;try{n(!0);const p=await Gr.processClipboard(h);return p.success?W.success(`✨ IA extrajo ${((m=p.convocatorias)==null?void 0:m.length)||0} convocatorias`):W.error("Error al procesar contenido",{description:((w=p.errors)==null?void 0:w[0])||"Error desconocido"}),p}catch{return W.error("Error en el procesamiento del clipboard"),null}finally{n(!1)}},validateConvocatoria:async h=>{if(!s())return null;try{n(!0);const m=await Gr.validateConvocatoria(h);return m.isValid?W.success(`✅ Validación completa (Score: ${m.score}/100)`):W.warning("Se encontraron problemas en la validación",{description:`${m.errors.length} errores, ${m.warnings.length} advertencias`}),m}catch{return W.error("Error en la validación con IA"),null}finally{n(!1)}},enhancePreview:async h=>{if(!s())return null;try{n(!0);const m=await Gr.enhancePreview(h);return W.success("🚀 Vista previa enriquecida con IA"),m}catch{return W.error("Error al enriquecer vista previa"),null}finally{n(!1)}},getRecommendations:async h=>{if(!s())return null;try{n(!0);const m=await Gr.getRecommendations(h);return m.total_found>0?W.success(`🎯 Encontré ${m.total_found} convocatorias relevantes`):W.info("No se encontraron recomendaciones con los filtros actuales"),m}catch{return W.error("Error al obtener recomendaciones"),null}finally{n(!1)}},trackSuggestions:async h=>{if(!s())return null;try{n(!0);const m=await Gr.trackSuggestions(h);return W.success("📡 Configurado rastreo automático"),m}catch{return W.error("Error al configurar rastreo"),null}finally{n(!1)}},isProcessing:r,checkAIAccess:s,canUseAI:t}}function uA({convocatoria:e,onEdit:t}){const[r,n]=g.useState(!1),[s,i]=g.useState(e),o=()=>{t(s),n(!1)},l=()=>{i(e),n(!1)},c=u=>{switch(u==null?void 0:u.toLowerCase()){case"abierto":return a.jsx(K,{variant:"default",children:"Abierto"});case"cerrado":return a.jsx(K,{variant:"destructive",children:"Cerrado"});case"en evaluación":return a.jsx(K,{variant:"secondary",children:"En Evaluación"});default:return a.jsx(K,{variant:"outline",children:u||"Sin estado"})}};return r?a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs(ie,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Editar Convocatoria"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(B,{size:"sm",onClick:o,children:a.jsx(lh,{className:"h-4 w-4"})}),a.jsx(B,{size:"sm",variant:"outline",onClick:l,children:a.jsx(eu,{className:"h-4 w-4"})})]})]})}),a.jsx(Q,{children:a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"nombre",children:"Nombre *"}),a.jsx(Ce,{id:"nombre",value:s.nombre||"",onChange:u=>i({...s,nombre:u.target.value}),placeholder:"Nombre de la convocatoria"})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"institucion",children:"Institución *"}),a.jsx(Ce,{id:"institucion",value:s.institucion||"",onChange:u=>i({...s,institucion:u.target.value}),placeholder:"Institución organizadora"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"fechaApertura",children:"Fecha Apertura"}),a.jsx(Ce,{id:"fechaApertura",type:"date",value:s.fechaApertura||"",onChange:u=>i({...s,fechaApertura:u.target.value})})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"fechaCierre",children:"Fecha Cierre *"}),a.jsx(Ce,{id:"fechaCierre",type:"date",value:s.fechaCierre||"",onChange:u=>i({...s,fechaCierre:u.target.value})})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"estado",children:"Estado"}),a.jsx(Ce,{id:"estado",value:s.estado||"",onChange:u=>i({...s,estado:u.target.value}),placeholder:"abierto, cerrado, en evaluación"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"monto",children:"Monto"}),a.jsx(Ce,{id:"monto",value:s.monto||"",onChange:u=>i({...s,monto:u.target.value}),placeholder:"Monto del financiamiento"})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"contacto",children:"Contacto"}),a.jsx(Ce,{id:"contacto",value:s.contacto||"",onChange:u=>i({...s,contacto:u.target.value}),placeholder:"Email o teléfono de contacto"})]})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"descripcion",children:"Descripción"}),a.jsx(ss,{id:"descripcion",value:s.descripcion||"",onChange:u=>i({...s,descripcion:u.target.value}),placeholder:"Descripción de la convocatoria",className:"min-h-[80px]"})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"requisitos",children:"Requisitos"}),a.jsx(ss,{id:"requisitos",value:s.requisitos||"",onChange:u=>i({...s,requisitos:u.target.value}),placeholder:"Requisitos principales",className:"min-h-[80px]"})]}),a.jsxs("div",{children:[a.jsx(ae,{htmlFor:"sitioWeb",children:"Sitio Web"}),a.jsx(Ce,{id:"sitioWeb",type:"url",value:s.sitioWeb||"",onChange:u=>i({...s,sitioWeb:u.target.value}),placeholder:"https://..."})]})]})})]}):a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs(ie,{className:"flex items-center justify-between",children:[a.jsx("span",{children:e.nombre||"Sin nombre"}),a.jsxs("div",{className:"flex items-center gap-2",children:[c(e.estado),a.jsx(B,{size:"sm",variant:"outline",onClick:()=>n(!0),children:a.jsx(hC,{className:"h-4 w-4"})})]})]})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-muted-foreground",children:"Institución:"}),a.jsx("p",{children:e.institucion||"Sin especificar"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-muted-foreground",children:"Monto:"}),a.jsx("p",{children:e.monto||"Sin especificar"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-muted-foreground",children:"Fecha Apertura:"}),a.jsx("p",{children:e.fechaApertura||"Sin especificar"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-muted-foreground",children:"Fecha Cierre:"}),a.jsx("p",{className:e.fechaCierre?"":"text-red-600",children:e.fechaCierre||"Sin especificar (requerido)"})]})]}),e.descripcion&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-muted-foreground",children:"Descripción:"}),a.jsx("p",{className:"mt-1",children:e.descripcion})]}),e.requisitos&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-muted-foreground",children:"Requisitos:"}),a.jsx("p",{className:"mt-1",children:e.requisitos})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.contacto&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-muted-foreground",children:"Contacto:"}),a.jsx("p",{children:e.contacto})]}),e.sitioWeb&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-muted-foreground",children:"Sitio Web:"}),a.jsx("a",{href:e.sitioWeb,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline block truncate",children:e.sitioWeb})]})]})]})})]})}function BZ(){var y,x,b;const[e,t]=g.useState(!1),[r,n]=g.useState(null),[s,i]=g.useState(!1),{isProcessing:o,parseFile:l,validateConvocatoria:c,enhancePreview:u}=cA(),{createConvocatoria:d}=$a(),f=g.useCallback(j=>{j.preventDefault(),t(!0)},[]),h=g.useCallback(j=>{j.preventDefault(),t(!1)},[]),m=g.useCallback(async j=>{j.preventDefault(),t(!1);const N=Array.from(j.dataTransfer.files);N.length>0&&await p(N[0])},[]),w=g.useCallback(async j=>{const N=Array.from(j.target.files||[]);N.length>0&&await p(N[0])},[]),p=async j=>{try{const N=await l(j);N!=null&&N.success&&(n(N),i(!0))}catch(N){console.error("Error processing file:",N)}},v=async()=>{if(r!=null&&r.convocatorias){for(const j of r.convocatorias)try{const N=await c(j),k=await u(j),S={nombre_concurso:j.nombre_concurso,institucion:j.institucion||"",fecha_cierre:j.fecha_cierre,fecha_apertura:j.fecha_apertura,fecha_resultados:j.fecha_resultados,estado:j.estado,tipo_fondo:j.tipo_fondo,area:j.area,monto_financiamiento:j.monto_financiamiento,requisitos:j.requisitos,descripcion:k?k.enhanced_description:j.descripcion,contacto:j.contacto,sitio_web:j.sitio_web,fuente:j.fuente||"Importación IA"};await d(S)}catch(N){console.error("Error importing convocatoria:",N)}n(null),i(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsx(mu,{}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Importar desde Archivo"}),a.jsx("p",{className:"text-muted-foreground",children:"Sube archivos .xlsx, .csv o .txt y deja que la IA extraiga la información"}),a.jsxs(K,{variant:"outline",className:"mt-2",children:[a.jsx(nt,{className:"mr-1 h-3 w-3"}),"Funcionalidad con IA"]})]}),s?a.jsx("div",{className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(En,{className:"h-5 w-5"}),"Vista Previa de Importación"]}),a.jsxs(ge,{children:["Se encontraron ",((y=r==null?void 0:r.convocatorias)==null?void 0:y.length)||0," convocatorias"]})]}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:"Confianza:"}),a.jsxs(K,{variant:r.confidence>80?"default":r.confidence>60?"secondary":"destructive",children:[Math.round(r.confidence),"%"]})]}),a.jsx(ns,{value:r.confidence,className:"w-full"})]})}),r.warnings&&r.warnings.length>0&&a.jsxs(kr,{children:[a.jsx(wi,{className:"h-4 w-4"}),a.jsxs(ts,{children:[a.jsx("strong",{children:"Advertencias:"}),a.jsx("ul",{className:"list-disc list-inside mt-1",children:r.warnings.map((j,N)=>a.jsx("li",{children:j},N))})]})]}),a.jsx("div",{className:"grid gap-4",children:(x=r.convocatorias)==null?void 0:x.map((j,N)=>a.jsx(uA,{convocatoria:j,onEdit:k=>{if(r.convocatorias){const S=[...r.convocatorias];S[N]=k,n({...r,convocatorias:S})}}},N))}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsxs(B,{onClick:v,disabled:o,children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Importar ",((b=r==null?void 0:r.convocatorias)==null?void 0:b.length)||0," convocatorias"]}),a.jsx(B,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"})]})]})})]})}):a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(dg,{className:"h-5 w-5"}),"Importación Inteligente con IA"]}),a.jsx(ge,{children:"Arrastra archivos aquí o haz clic para seleccionar"})]}),a.jsxs(Q,{children:[a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${e?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,onDragOver:f,onDragLeave:h,onDrop:m,children:[a.jsx(dg,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:e?"Suelta el archivo aquí":"Arrastra archivos aquí"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"o"}),a.jsxs("label",{htmlFor:"file-upload",children:[a.jsx(B,{variant:"outline",className:"cursor-pointer",disabled:o,children:o?"Procesando...":"Seleccionar archivo"}),a.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".xlsx,.csv,.txt,.pdf",onChange:w,disabled:o})]})]}),o&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(nt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Procesando con IA..."})]}),a.jsx(ns,{value:void 0,className:"w-full"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Formatos soportados:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(K,{variant:"secondary",children:".xlsx"}),a.jsx(K,{variant:"secondary",children:".csv"}),a.jsx(K,{variant:"secondary",children:".txt"}),a.jsx(K,{variant:"secondary",children:".pdf"})]})]})]})]})]})}function WZ(){var p,v,y;const[e,t]=g.useState(""),[r,n]=g.useState(null),[s,i]=g.useState(!1),o=g.useRef(null),{isProcessing:l,parseClipboard:c,validateConvocatoria:u,enhancePreview:d}=cA(),{createConvocatoria:f}=$a(),h=async()=>{try{const x=await navigator.clipboard.readText();t(x),o.current&&o.current.focus()}catch(x){console.error("Error reading clipboard:",x),o.current&&o.current.focus()}},m=async()=>{if(e.trim())try{const x=await c(e);x!=null&&x.success&&(n(x),i(!0))}catch(x){console.error("Error parsing clipboard:",x)}},w=async()=>{if(r!=null&&r.convocatorias){for(const x of r.convocatorias)try{const b=await u(x),j=await d(x),N={nombre_concurso:x.nombre_concurso,institucion:x.institucion||"",fecha_cierre:x.fecha_cierre,fecha_apertura:x.fecha_apertura,fecha_resultados:x.fecha_resultados,estado:x.estado,tipo_fondo:x.tipo_fondo,area:x.area,monto_financiamiento:x.monto_financiamiento,requisitos:x.requisitos,descripcion:j?j.enhanced_description:x.descripcion,contacto:x.contacto,sitio_web:x.sitio_web,fuente:x.fuente||"Detección IA"};await f(N)}catch(b){console.error("Error importing convocatoria:",b)}n(null),i(!1),t("")}};return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsx(mu,{}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Pegar y Detectar con IA"}),a.jsx("p",{className:"text-muted-foreground",children:"Pega texto de cualquier fuente y deja que la IA extraiga las convocatorias"}),a.jsxs(K,{variant:"outline",className:"mt-2",children:[a.jsx(nt,{className:"mr-1 h-3 w-3"}),"Funcionalidad con IA"]})]}),s?a.jsx("div",{className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(En,{className:"h-5 w-5"}),"Vista Previa de Detección"]}),a.jsxs(ge,{children:["Se detectaron ",((p=r==null?void 0:r.convocatorias)==null?void 0:p.length)||0," convocatorias en el contenido"]})]}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:"Confianza:"}),a.jsxs(K,{variant:r.confidence>80?"default":r.confidence>60?"secondary":"destructive",children:[Math.round(r.confidence),"%"]})]}),a.jsx(ns,{value:r.confidence,className:"w-full"})]})}),r.warnings&&r.warnings.length>0&&a.jsxs(kr,{children:[a.jsx(wi,{className:"h-4 w-4"}),a.jsxs(ts,{children:[a.jsx("strong",{children:"Advertencias:"}),a.jsx("ul",{className:"list-disc list-inside mt-1",children:r.warnings.map((x,b)=>a.jsx("li",{children:x},b))})]})]}),a.jsx("div",{className:"grid gap-4",children:(v=r.convocatorias)==null?void 0:v.map((x,b)=>a.jsx(uA,{convocatoria:x,onEdit:j=>{if(r.convocatorias){const N=[...r.convocatorias];N[b]=j,n({...r,convocatorias:N})}}},b))}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsxs(B,{onClick:w,disabled:l,children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Importar ",((y=r==null?void 0:r.convocatorias)==null?void 0:y.length)||0," convocatorias"]}),a.jsx(B,{variant:"outline",onClick:()=>i(!1),children:"Volver a editar"})]})]})})]})}):a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(sC,{className:"h-5 w-5"}),"Detección Inteligente de Convocatorias"]}),a.jsx(ge,{children:"Pega contenido de páginas web, documentos o correos electrónicos"})]}),a.jsxs(Q,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-2 mb-4",children:a.jsxs(B,{variant:"outline",onClick:h,disabled:l,children:[a.jsx(UL,{className:"mr-2 h-4 w-4"}),"Pegar desde Portapapeles"]})}),a.jsx(ss,{ref:o,placeholder:"Pega aquí el contenido desde páginas web, documentos PDF, correos electrónicos, etc.\\n\\nPor ejemplo:\\n- Lista de convocatorias desde sitios de CORFO, SERCOTEC\\n- Texto copiado desde PDFs de fondos\\n- Contenido de correos con información de concursos\\n- Publicaciones de redes sociales sobre financiamiento",className:"min-h-[200px] resize-y",value:e,onChange:x=>t(x.target.value),disabled:l}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(B,{onClick:m,disabled:!e.trim()||l,children:[a.jsx(nt,{className:"mr-2 h-4 w-4"}),l?"Analizando...":"Detectar Convocatorias"]}),a.jsx(B,{variant:"outline",onClick:()=>t(""),disabled:l,children:"Limpiar"})]})]}),l&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(nt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Analizando contenido con IA..."})]}),a.jsx(ns,{value:void 0,className:"w-full"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Fuentes compatibles:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[a.jsx("div",{children:"• Sitios web de CORFO"}),a.jsx("div",{children:"• Páginas de SERCOTEC"}),a.jsx("div",{children:"• Fondos de Cultura"}),a.jsx("div",{children:"• Correos institucionales"}),a.jsx("div",{children:"• Documentos PDF"}),a.jsx("div",{children:"• Redes sociales"}),a.jsx("div",{children:"• Convocatorias internacionales"}),a.jsx("div",{children:"• Boletines informativos"})]})]})]})]})]})}function sv(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var qZ=uv[" useInsertionEffect ".trim().toString()]||bt;function dA({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=HZ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=g.useCallback(d=>{var f;if(l){const h=GZ(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function HZ({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),s=g.useRef(r),i=g.useRef(t);return qZ(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function GZ(e){return typeof e=="function"}var $h="Switch",[KZ,iX]=an($h),[ZZ,YZ]=KZ($h),fA=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=g.useState(null),w=Le(t,b=>m(b)),p=g.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,x]=dA({prop:s,defaultProp:i??!1,onChange:u,caller:$h});return a.jsxs(ZZ,{scope:r,checked:y,disabled:l,children:[a.jsx(on.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":gA(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:sv(e.onClick,b=>{x(j=>!j),v&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),v&&a.jsx(pA,{control:h,bubbles:!p.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});fA.displayName=$h;var hA="SwitchThumb",mA=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=YZ(hA,r);return a.jsx(on.span,{"data-state":gA(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});mA.displayName=hA;var XZ="SwitchBubbleInput",pA=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=g.useRef(null),l=Le(o,i),c=Xy(r),u=Tx(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const w=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(w)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pA.displayName=XZ;function gA(e){return e?"checked":"unchecked"}var vA=fA,QZ=mA;const mo=g.forwardRef(({className:e,...t},r)=>a.jsx(vA,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(QZ,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));mo.displayName=vA.displayName;const JZ=({className:e=""})=>{const{notificationPermission:t,pushSubscription:r,requestNotificationPermission:n,subscribeToPush:s,unsubscribeFromPush:i,sendTestNotification:o}=au(),[l,c]=q.useState(!1),u=async()=>{c(!0);try{await n()==="granted"&&await s()}catch(m){console.error("Error al habilitar notificaciones:",m)}finally{c(!1)}},d=async()=>{c(!0);try{await i()}catch(m){console.error("Error al deshabilitar notificaciones:",m)}finally{c(!1)}},f=()=>{o("ConvocatoriasPro","Esta es una notificación de prueba. Las notificaciones están funcionando correctamente.")},h=t==="granted"&&r;return a.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${e}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[h?a.jsx(ys,{className:"h-5 w-5 text-green-600"}):a.jsx(DL,{className:"h-5 w-5 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notificaciones Push"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:h&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Activas"]})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Recibe notificaciones sobre nuevas convocatorias, fechas límite próximas y actualizaciones importantes."}),t==="default"&&a.jsx("div",{className:"space-y-3",children:a.jsxs("button",{onClick:u,disabled:l,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[a.jsx(ys,{className:"h-4 w-4"}),a.jsx("span",{children:l?"Habilitando...":"Habilitar Notificaciones"})]})}),t==="denied"&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(eu,{className:"h-4 w-4 text-red-600"}),a.jsx("p",{className:"text-sm text-red-700",children:"Las notificaciones están bloqueadas. Para habilitarlas, permite las notificaciones en la configuración de tu navegador."})]})}),h&&a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:f,className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 transition-colors",children:"Enviar Prueba"}),a.jsx("button",{onClick:d,disabled:l,className:"flex-1 bg-red-100 text-red-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-red-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Deshabilitando...":"Deshabilitar"})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Estado de las Notificaciones"}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Permiso:"}),a.jsx("span",{className:"capitalize",children:t})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Suscripción:"}),a.jsx("span",{children:r?"Activa":"Inactiva"})]})]})]})]})},Dl={notifications_email:!0,notifications_browser:!0,notification_frequency:"daily",alert_days_before:7,language:"es",timezone:"America/Santiago",theme:"dark",default_export_format:"csv",ai_model_preference:"standard",ai_processing_level:"detailed",auto_save:!0,show_confidence_indicators:!0};function eY(){const{user:e}=qe(),{setTheme:t}=sh(),[r,n]=g.useState(Dl),[s,i]=g.useState(!0),[o,l]=g.useState(!1);g.useEffect(()=>{e&&c()},[e]);const c=async()=>{if(e)try{i(!0);const{data:p,error:v}=await ue.from("user_settings").select("settings").eq("user_id",e.id).single();if(v&&v.code!=="PGRST116"){console.error("Error loading settings:",v);return}if(p!=null&&p.settings){const y={...Dl,...p.settings};n(y),t(y.theme),f(y)}else f(Dl)}catch(p){console.error("Error loading settings:",p)}finally{i(!1)}},u=(p,v)=>{const y={...r,[p]:v};n(y),l(!0),p==="theme"&&t(v),r.auto_save&&p!=="auto_save"&&setTimeout(()=>d(y),1e3)},d=async p=>{const v=p||r;if(!e)return!1;try{const{error:y}=await ue.from("user_settings").upsert({user_id:e.id,settings:v,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(y)throw y;return f(v),l(!1),await ue.from("user_activity").insert({user_id:e.id,action:"settings_updated",description:"Configuración actualizada",metadata:{settings:Object.keys(v)}}),!0}catch(y){return console.error("Error saving settings:",y),W.error("Error al guardar la configuración"),!1}},f=p=>{t(p.theme),p.language!=="es"&&console.log("Language change to:",p.language),p.timezone&&console.log("Timezone set to:",p.timezone),p.notifications_browser&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()};return{settings:r,isLoading:s,hasUnsavedChanges:o,updateSetting:u,saveSettings:d,requestNotificationPermission:async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="default"&&await Notification.requestPermission()==="granted"?(W.success("Permisos de notificación concedidos"),!0):(W.error("Permisos de notificación denegados"),!1):(W.error("Este navegador no soporta notificaciones"),!1),testNotification:()=>{Notification.permission==="granted"?(new Notification("ConvocatoriasPro",{body:"Las notificaciones están funcionando correctamente",icon:"/favicon.ico"}),W.success("Notificación de prueba enviada")):W.error("Permisos de notificación no concedidos")},resetToDefaults:async()=>{n(Dl),f(Dl),l(!0),W.success("Configuración restablecida a valores por defecto")}}}function tY(){const{profile:e}=qe(),{isProPlan:t}=Ms(),{theme:r,actualTheme:n}=sh(),{settings:s,isLoading:i,hasUnsavedChanges:o,updateSetting:l,saveSettings:c,requestNotificationPermission:u,testNotification:d,resetToDefaults:f}=eY(),{isInstallable:h,isInstalled:m,installPWA:w,isUpdateAvailable:p,updateSW:v,isOnline:y,isOfflineReady:x}=au(),b=async()=>{await c()&&W.success("Configuración guardada exitosamente")};return i?a.jsx("div",{className:"flex-1 space-y-4 p-4 md:p-8",children:a.jsx("div",{className:"flex h-96 items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ca,{className:"h-12 w-12 mx-auto text-muted-foreground animate-spin"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando configuración..."})]})})}):a.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8",children:[a.jsx(mu,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuración"}),a.jsx("p",{className:"text-muted-foreground",children:"Personaliza tu experiencia en ConvocatoriasPro"})]}),o&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(B,{variant:"outline",onClick:f,size:"sm",children:[a.jsx(gx,{className:"mr-2 h-4 w-4"}),"Restablecer"]}),a.jsxs(B,{onClick:b,disabled:i,children:[i?a.jsx(ca,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Xt,{className:"mr-2 h-4 w-4"}),i?"Guardando...":"Guardar Cambios"]})]})]}),a.jsxs(Mi,{defaultValue:"notifications",className:"space-y-6",children:[a.jsxs(Fa,{className:"grid w-full grid-cols-7",children:[a.jsx(Ze,{value:"notifications",children:"Notificaciones"}),a.jsx(Ze,{value:"pwa",children:"PWA"}),a.jsx(Ze,{value:"general",children:"General"}),a.jsx(Ze,{value:"appearance",children:"Apariencia"}),a.jsx(Ze,{value:"export",children:"Exportación"}),a.jsx(Ze,{value:"ai",children:"Inteligencia Artificial"}),a.jsx(Ze,{value:"advanced",children:"Avanzado"})]}),a.jsx(tt,{value:"notifications",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(ys,{className:"h-5 w-5"}),"Notificaciones"]}),a.jsx(ge,{children:"Configura cómo y cuándo recibir notificaciones"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ae,{children:"Notificaciones por email"}),a.jsx(mo,{checked:s.notifications_email,onCheckedChange:j=>l("notifications_email",j)})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Recibe alertas de vencimientos por correo electrónico"})]}),a.jsx(nr,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ae,{children:"Notificaciones del navegador"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mo,{checked:s.notifications_browser,onCheckedChange:j=>{l("notifications_browser",j),j&&u()}}),s.notifications_browser&&a.jsxs(B,{size:"sm",variant:"outline",onClick:d,children:[a.jsx(a5,{className:"mr-1 h-3 w-3"}),"Probar"]})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Mostrar notificaciones push en el navegador"})]}),a.jsx(nr,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Frecuencia de notificaciones"}),a.jsxs(St,{value:s.notification_frequency,onValueChange:j=>l("notification_frequency",j),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Selecciona la frecuencia"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"immediate",children:"Inmediata"}),a.jsx(se,{value:"daily",children:"Diaria"}),a.jsx(se,{value:"weekly",children:"Semanal"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Días de aviso antes del vencimiento"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ce,{type:"number",min:"1",max:"30",value:s.alert_days_before,onChange:j=>l("alert_days_before",parseInt(j.target.value)||7),className:"w-20"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"días"})]})]})]})]})}),a.jsx(tt,{value:"pwa",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(fC,{className:"h-5 w-5"}),"Progressive Web App (PWA)"]}),a.jsx(ge,{children:"Gestiona las características de aplicación web progresiva"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"font-medium",children:"Estado de Instalación"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:m?"ConvocatoriasPro está instalada como aplicación":h?"ConvocatoriasPro se puede instalar como aplicación":"La instalación no está disponible en este momento"})]}),a.jsx("div",{className:"flex items-center gap-2",children:m?a.jsxs(K,{className:"bg-green-100 text-green-800",children:[a.jsx(Xt,{className:"mr-1 h-3 w-3"}),"Instalada"]}):h?a.jsxs(a.Fragment,{children:[a.jsx(K,{variant:"outline",children:"Disponible"}),a.jsxs(B,{onClick:async()=>{await w()&&W.success("PWA instalada exitosamente")},size:"sm",children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Instalar"]})]}):a.jsx(K,{variant:"secondary",children:"No disponible"})})]})}),a.jsx(nr,{}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"font-medium",children:"Actualizaciones"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:p?"Nueva versión disponible":"La aplicación está actualizada"})]}),a.jsx("div",{className:"flex items-center gap-2",children:p?a.jsxs(a.Fragment,{children:[a.jsx(K,{className:"bg-blue-100 text-blue-800",children:"Actualización disponible"}),a.jsxs(B,{onClick:async()=>{await v(),W.success("Actualización aplicada")},size:"sm",children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Actualizar"]})]}):a.jsxs(K,{className:"bg-green-100 text-green-800",children:[a.jsx(Xt,{className:"mr-1 h-3 w-3"}),"Actualizada"]})})]})}),a.jsx(nr,{}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"font-medium",children:"Estado de Conexión"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y?"Conectado a internet":x?"Sin conexión - Modo offline disponible":"Sin conexión - Funcionalidad limitada"})]}),a.jsx("div",{className:"flex items-center gap-2",children:y?a.jsxs(K,{className:"bg-green-100 text-green-800",children:[a.jsx(gC,{className:"mr-1 h-3 w-3"}),"En línea"]}):a.jsxs(K,{className:"bg-orange-100 text-orange-800",children:[a.jsx(pC,{className:"mr-1 h-3 w-3"}),"Sin conexión"]})})]})}),a.jsx(nr,{}),a.jsx(JZ,{className:""}),a.jsx(nr,{}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Características PWA"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Instalación como aplicación nativa"}),a.jsx("li",{children:"• Funcionamiento sin conexión"}),a.jsx("li",{children:"• Notificaciones push en tiempo real"}),a.jsx("li",{children:"• Actualizaciones automáticas"}),a.jsx("li",{children:"• Acceso rápido desde la pantalla de inicio"})]})]})]})]})}),a.jsx(tt,{value:"general",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(mx,{className:"h-5 w-5"}),"Configuración General"]}),a.jsx(ge,{children:"Idioma, zona horaria y preferencias básicas"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Idioma"}),a.jsxs(St,{value:s.language,onValueChange:j=>l("language",j),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Selecciona idioma"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"es",children:"Español"}),a.jsx(se,{value:"en",children:"English"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Zona horaria"}),a.jsxs(St,{value:s.timezone,onValueChange:j=>l("timezone",j),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Selecciona zona horaria"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"America/Santiago",children:"Santiago (GMT-3)"}),a.jsx(se,{value:"America/Buenos_Aires",children:"Buenos Aires (GMT-3)"}),a.jsx(se,{value:"America/Lima",children:"Lima (GMT-5)"}),a.jsx(se,{value:"America/Bogota",children:"Bogotá (GMT-5)"}),a.jsx(se,{value:"America/Mexico_City",children:"Ciudad de México (GMT-6)"})]})]})]})]}),a.jsx(nr,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ae,{children:"Guardado automático"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mo,{checked:s.auto_save,onCheckedChange:j=>l("auto_save",j)}),s.auto_save&&a.jsxs(K,{variant:"outline",className:"text-xs",children:[a.jsx(kn,{className:"mr-1 h-3 w-3"}),"Activo"]})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Guarda cambios automáticamente mientras trabajas"})]})]})]})}),a.jsx(tt,{value:"appearance",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(uC,{className:"h-5 w-5"}),"Apariencia"]}),a.jsx(ge,{children:"Personaliza la apariencia de la aplicación"})]}),a.jsx(Q,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Tema de la aplicación"}),a.jsxs(St,{value:s.theme,onValueChange:j=>l("theme",j),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Selecciona tema"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"light",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-white border border-gray-300"}),"Claro"]})}),a.jsx(se,{value:"dark",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-900"}),"Oscuro"]})}),a.jsx(se,{value:"system",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-white to-gray-900 border border-gray-300"}),"Sistema"]})})]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tema actual: ",a.jsx("span",{className:"font-medium",children:n==="dark"?"Oscuro":"Claro"}),s.theme==="system"&&" (automático)"]})]})})]})}),a.jsx(tt,{value:"export",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5"}),"Exportación"]}),a.jsx(ge,{children:"Configura las opciones de exportación de datos"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Formato de exportación por defecto"}),a.jsxs(St,{value:s.default_export_format,onValueChange:j=>l("default_export_format",j),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Selecciona formato"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"csv",children:"CSV (Excel compatible)"}),a.jsx(se,{value:"pdf",children:"PDF (Documento)"})]})]})]}),!t()&&a.jsxs(kr,{children:[a.jsx(nt,{className:"h-4 w-4"}),a.jsxs(ts,{children:[a.jsx("strong",{children:"Funcionalidad Pro:"})," La exportación avanzada está disponible solo para usuarios con Plan Pro."]})]})]})]})}),a.jsx(tt,{value:"ai",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(af,{className:"h-5 w-5"}),"Inteligencia Artificial",t()&&a.jsx(K,{className:"ml-2",children:"PRO"})]}),a.jsx(ge,{children:"Configura las funciones de IA según tus preferencias"})]}),a.jsx(Q,{className:"space-y-6",children:t()?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Modelo de IA preferido"}),a.jsxs(St,{value:s.ai_model_preference,onValueChange:j=>l("ai_model_preference",j),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Selecciona modelo"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"standard",children:"Estándar (Rápido)"}),a.jsx(se,{value:"advanced",children:"Avanzado (Más preciso)"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Nivel de procesamiento"}),a.jsxs(St,{value:s.ai_processing_level,onValueChange:j=>l("ai_processing_level",j),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Selecciona nivel"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"basic",children:"Básico"}),a.jsx(se,{value:"detailed",children:"Detallado"}),a.jsx(se,{value:"comprehensive",children:"Comprehensivo"})]})]})]}),a.jsx(nr,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ae,{children:"Mostrar indicadores de confianza"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Muestra el nivel de certeza de la IA en los resultados"})]}),a.jsx(mo,{checked:s.show_confidence_indicators,onCheckedChange:j=>l("show_confidence_indicators",j)})]})]}):a.jsxs(kr,{children:[a.jsx(af,{className:"h-4 w-4"}),a.jsxs(ts,{children:[a.jsx("strong",{children:"Plan Pro requerido:"})," Las funciones de IA están disponibles solo para usuarios con Plan Pro.",a.jsx(B,{variant:"link",className:"px-0 h-auto font-semibold",asChild:!0,children:a.jsx("a",{href:"/app/plans",children:"Actualizar plan"})})]})]})})]})}),a.jsx(tt,{value:"advanced",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(ca,{className:"h-5 w-5"}),"Configuración Avanzada"]}),a.jsx(ge,{children:"Opciones avanzadas para usuarios expertos"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs(kr,{children:[a.jsx(wi,{className:"h-4 w-4"}),a.jsxs(ts,{children:[a.jsx("strong",{children:"Advertencia:"})," Estas configuraciones son para usuarios avanzados. Cambiarlas incorrectamente puede afectar el funcionamiento de la aplicación."]})]}),a.jsx("div",{className:"space-y-4 opacity-75",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Las opciones avanzadas estarán disponibles en futuras versiones."})})]})]})})]})]})}function rY(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var xA=e=>{const{present:t,children:r}=e,n=nY(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Le(n.ref,sY(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};xA.displayName="Presence";function nY(e){const[t,r]=g.useState(),n=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=rY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=id(n.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=id(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=id(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=id(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function id(e){return(e==null?void 0:e.animationName)||"none"}function sY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Fh="Checkbox",[aY,oX]=an(Fh),[iY,Jy]=aY(Fh);function oY(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=dA({prop:r,defaultProp:s??!1,onChange:c,caller:Fh}),[w,p]=g.useState(null),[v,y]=g.useState(null),x=g.useRef(!1),b=w?!!o||!!w.closest("form"):!0,j={checked:h,disabled:i,setChecked:m,control:w,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:ba(s)?!1:s,isFormControl:b,bubbleInput:v,setBubbleInput:y};return a.jsx(iY,{scope:t,...j,children:lY(f)?f(j):n})}var yA="CheckboxTrigger",wA=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:w}=Jy(yA,e),p=Le(s,d),v=g.useRef(c);return g.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const x=()=>f(v.current);return y.addEventListener("reset",x),()=>y.removeEventListener("reset",x)}},[i,f]),a.jsx(on.button,{type:"button",role:"checkbox","aria-checked":ba(c)?"mixed":c,"aria-required":u,"data-state":SA(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:sv(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:sv(r,y=>{f(x=>ba(x)?!0:!x),w&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});wA.displayName=yA;var e0=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(oY,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(wA,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(_A,{__scopeCheckbox:r})]})})});e0.displayName=Fh;var bA="CheckboxIndicator",jA=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=Jy(bA,r);return a.jsx(xA,{present:n||ba(i.checked)||i.checked===!0,children:a.jsx(on.span,{"data-state":SA(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});jA.displayName=bA;var NA="CheckboxBubbleInput",_A=g.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=Jy(NA,e),w=Le(r,m),p=Xy(i),v=Tx(n);g.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,k=!s.current;if(p!==i&&N){const S=new Event("click",{bubbles:k});x.indeterminate=ba(i),N.call(x,ba(i)?!1:i),x.dispatchEvent(S)}},[h,p,i,s]);const y=g.useRef(ba(i)?!1:i);return a.jsx(on.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_A.displayName=NA;function lY(e){return typeof e=="function"}function ba(e){return e==="indeterminate"}function SA(e){return ba(e)?"indeterminate":e?"checked":"unchecked"}const av=g.forwardRef(({className:e,...t},r)=>a.jsx(e0,{ref:r,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(jA,{className:re("flex items-center justify-center text-current"),children:a.jsx(Xt,{className:"h-4 w-4"})})}));av.displayName=e0.displayName;function cY(){const{user:e}=qe(),{canAccessFeature:t}=Ms(),{convocatorias:r}=$a(),[n,s]=g.useState(!1),[i,o]=g.useState(0),[l,c]=g.useState("csv"),[u,d]=g.useState({}),[f,h]=g.useState({include_description:!0,include_requirements:!0,sort_by:"date",sort_order:"desc"}),[m,w]=g.useState([]),[p,v]=g.useState([]),[y,x]=g.useState([]);g.useEffect(()=>{if(r){const C=[...new Set(r.map(M=>M.institucion).filter(Boolean))];w(C);const A=[...new Set(r.map(M=>M.area).filter(Boolean))];v(A),b()}},[r,u]);const b=()=>{if(!r)return;let C=r.filter(A=>{var M;if(u.status&&A.estado!==u.status||u.organization&&A.institucion!==u.organization||u.category&&A.area!==u.category)return!1;if(u.search){const R=u.search.toLowerCase();if(!A.nombre_concurso.toLowerCase().includes(R)&&!((M=A.institucion)!=null&&M.toLowerCase().includes(R)))return!1}return!(u.date_from&&A.fecha_cierre<u.date_from||u.date_to&&A.fecha_cierre>u.date_to)});C.sort((A,M)=>{let R=0;switch(f.sort_by){case"name":R=A.nombre_concurso.localeCompare(M.nombre_concurso);break;case"institution":R=(A.institucion||"").localeCompare(M.institucion||"");break;case"date":default:R=new Date(A.fecha_cierre).getTime()-new Date(M.fecha_cierre).getTime();break}return f.sort_order==="desc"?-R:R}),x(C.slice(0,5))},j=async()=>{if(!t("export_data")){W.error("La exportación avanzada requiere Plan Pro",{action:{label:"Ver Planes",onClick:()=>window.location.href="/app/plans"}});return}s(!0),o(0);try{const C=setInterval(()=>{o(R=>R>=90?(clearInterval(C),R):R+10)},200),A={format:l,filters:u,options:f},M=await Gr.exportData(A);if(clearInterval(C),o(100),M.success)l==="csv"&&M.content?(Gr.downloadCSV(M.content,M.filename),W.success(`Archivo ${M.format.toUpperCase()} exportado exitosamente`)):l==="pdf"&&M.download_url&&(window.open(M.download_url,"_blank"),W.success("PDF generado exitosamente"));else throw new Error("Error en la exportación")}catch(C){console.error("Error exporting:",C),W.error("Error al exportar los datos")}finally{s(!1),setTimeout(()=>o(0),2e3)}},N=(C,A)=>{d(M=>({...M,[C]:A}))},k=(C,A)=>{h(M=>({...M,[C]:A}))},S=()=>{d({})},E=t("export_data"),P=(r==null?void 0:r.filter(C=>{var A;if(u.status&&C.estado!==u.status||u.organization&&C.institucion!==u.organization||u.category&&C.area!==u.category)return!1;if(u.search){const M=u.search.toLowerCase();if(!C.nombre_concurso.toLowerCase().includes(M)&&!((A=C.institucion)!=null&&A.toLowerCase().includes(M)))return!1}return!(u.date_from&&C.fecha_cierre<u.date_from||u.date_to&&C.fecha_cierre>u.date_to)}).length)||0;return a.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8",children:[a.jsx(mu,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exportar Datos"}),a.jsx("p",{className:"text-muted-foreground",children:"Exporta tus convocatorias en formato CSV o PDF"})]}),E?a.jsxs(K,{className:"bg-green-500",children:[a.jsx(kt,{className:"mr-1 h-3 w-3"}),"Pro Activado"]}):a.jsxs(K,{variant:"secondary",children:[a.jsx(XL,{className:"mr-1 h-3 w-3"}),"Plan Pro Requerido"]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(iC,{className:"h-5 w-5"}),"Filtros"]}),a.jsx(ge,{children:"Selecciona qué datos exportar"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Búsqueda"}),a.jsxs("div",{className:"relative",children:[a.jsx(_a,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Ce,{placeholder:"Buscar por nombre o institución...",value:u.search||"",onChange:C=>N("search",C.target.value),className:"pl-9"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Estado"}),a.jsxs(St,{value:u.status||"",onValueChange:C=>N("status",C||void 0),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Todos los estados"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"",children:"Todos los estados"}),a.jsx(se,{value:"abierto",children:"Abierto"}),a.jsx(se,{value:"cerrado",children:"Cerrado"}),a.jsx(se,{value:"en_evaluacion",children:"En evaluación"}),a.jsx(se,{value:"finalizado",children:"Finalizado"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Organización"}),a.jsxs(St,{value:u.organization||"",onValueChange:C=>N("organization",C||void 0),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Todas las organizaciones"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"",children:"Todas las organizaciones"}),m.map(C=>a.jsx(se,{value:C,children:C},C))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Categoría"}),a.jsxs(St,{value:u.category||"",onValueChange:C=>N("category",C||void 0),children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Todas las categorías"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"",children:"Todas las categorías"}),p.map(C=>a.jsx(se,{value:C,children:C},C))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Fecha de cierre"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(Ce,{type:"date",placeholder:"Desde",value:u.date_from||"",onChange:C=>N("date_from",C.target.value)}),a.jsx(Ce,{type:"date",placeholder:"Hasta",value:u.date_to||"",onChange:C=>N("date_to",C.target.value)})]})]}),a.jsx(B,{variant:"outline",onClick:S,className:"w-full",children:"Limpiar filtros"}),a.jsx("div",{className:"pt-2 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-medium",children:P})," registros para exportar"]})})]})]})}),a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(WL,{className:"h-5 w-5"}),"Opciones de Exportación"]}),a.jsx(ge,{children:"Configura el formato y contenido de la exportación"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Formato de archivo"}),a.jsxs(St,{value:l,onValueChange:C=>c(C),children:[a.jsx(gt,{children:a.jsx(Ct,{})}),a.jsxs(vt,{children:[a.jsx(se,{value:"csv",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-4 w-4"}),"CSV (Excel compatible)"]})}),a.jsx(se,{value:"pdf",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-4 w-4"}),"PDF (Documento)"]})})]})]})]}),a.jsx(nr,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{children:"Incluir en la exportación"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(av,{id:"include_description",checked:f.include_description,onCheckedChange:C=>k("include_description",!!C)}),a.jsx(ae,{htmlFor:"include_description",children:"Descripción completa"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(av,{id:"include_requirements",checked:f.include_requirements,onCheckedChange:C=>k("include_requirements",!!C)}),a.jsx(ae,{htmlFor:"include_requirements",children:"Requisitos"})]})]})]}),a.jsx(nr,{}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Ordenar por"}),a.jsxs(St,{value:f.sort_by,onValueChange:C=>k("sort_by",C),children:[a.jsx(gt,{children:a.jsx(Ct,{})}),a.jsxs(vt,{children:[a.jsx(se,{value:"date",children:"Fecha de cierre"}),a.jsx(se,{value:"name",children:"Nombre"}),a.jsx(se,{value:"institution",children:"Institución"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{children:"Orden"}),a.jsxs(St,{value:f.sort_order,onValueChange:C=>k("sort_order",C),children:[a.jsx(gt,{children:a.jsx(Ct,{})}),a.jsxs(vt,{children:[a.jsx(se,{value:"asc",children:"Ascendente"}),a.jsx(se,{value:"desc",children:"Descendente"})]})]})]})]})]})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-5 w-5"}),"Vista Previa"]}),a.jsx(ge,{children:"Primeros 5 registros que se exportarán"})]}),a.jsx(Q,{children:y.length>0?a.jsxs("div",{className:"space-y-4",children:[y.map((C,A)=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium truncate pr-4",children:C.nombre_concurso}),a.jsx(K,{variant:C.estado==="abierto"?"default":"secondary",children:C.estado})]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx(ah,{className:"h-3 w-3"}),C.institucion]}),a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx(Pt,{className:"h-3 w-3"}),"Cierre: ",Gn(new Date(C.fecha_cierre),"dd/MM/yyyy",{locale:Ts})]}),C.area&&a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx(vx,{className:"h-3 w-3"}),C.area]})]})]},C.id)),P>5&&a.jsxs("div",{className:"text-center p-4 text-muted-foreground",children:["Y ",P-5," registros más..."]})]}):a.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:[a.jsx(Dr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay registros que coincidan con los filtros"})]})})]}),a.jsx(X,{children:a.jsx(Q,{className:"p-6",children:E?a.jsxs("div",{className:"space-y-4",children:[n&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:"Generando exportación..."}),a.jsxs("span",{children:[i,"%"]})]}),a.jsx(ns,{value:i,className:"w-full"})]}),a.jsx(B,{onClick:j,disabled:n||P===0,className:"w-full",size:"lg",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4 animate-pulse"}),"Exportando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Exportar ",P," registros en ",l.toUpperCase()]})})]}):a.jsxs(kr,{children:[a.jsx(nt,{className:"h-4 w-4"}),a.jsxs(ts,{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Plan Pro requerido:"})," La exportación avanzada está disponible solo para usuarios con Plan Pro."]}),a.jsx(B,{size:"sm",asChild:!0,children:a.jsx("a",{href:"/app/plans",children:"Actualizar Plan"})})]})]})})})]})]})]})}function uY(){const e=or();return g.useEffect(()=>{(async()=>{try{const{data:r,error:n}=await ue.auth.getSession();if(n){console.error("Error en auth callback:",n),W.error("Error al iniciar sesión: "+n.message),e("/login",{replace:!0});return}r.session?(W.success("¡Bienvenido a ConvocatoriasPro!"),e("/plans?first=true",{replace:!0})):e("/login",{replace:!0})}catch(r){console.error("Error inesperado:",r),W.error("Error inesperado: "+r.message),e("/login",{replace:!0})}})()},[e]),a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Completando inicio de sesión..."})]})})}function dY({currentStep:e,steps:t,className:r}){const n=t.findIndex(i=>i.id===e),s=n>=0?(n+1)/t.length*100:0;return a.jsx(X,{className:re("w-full",r),children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Procesando con IA Real"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(s),"% completado"]})]}),a.jsx(ns,{value:s,className:"w-full"}),a.jsx("div",{className:"space-y-3",children:t.map((i,o)=>{const l=i.id===e,c=o<n||i.status==="completed",u=i.status==="error";return a.jsxs("div",{className:re("flex items-start gap-3 p-3 rounded-lg border transition-all",l&&"border-blue-200 bg-blue-50",c&&"border-green-200 bg-green-50",u&&"border-red-200 bg-red-50",!l&&!c&&!u&&"border-gray-200"),children:[a.jsx("div",{className:re("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",l&&"bg-blue-100 text-blue-600",c&&"bg-green-100 text-green-600",u&&"bg-red-100 text-red-600",!l&&!c&&!u&&"bg-gray-100 text-gray-500"),children:c?a.jsx(He,{className:"w-4 h-4"}):i.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h4",{className:re("font-medium",l&&"text-blue-900",c&&"text-green-900",u&&"text-red-900"),children:[i.label,l&&a.jsx("span",{className:"ml-2 inline-flex items-center",children:a.jsx(oh,{className:"w-3 h-3 animate-spin"})})]}),a.jsx("p",{className:re("text-sm mt-1",l&&"text-blue-700",c&&"text-green-700",u&&"text-red-700",!l&&!c&&!u&&"text-gray-600"),children:i.description})]})]},i.id)})})]})})})}const fY=[{id:"web-search",label:"Búsqueda Web",description:"Buscando en sitios oficiales chilenos (corfo.cl, sercotec.cl, anid.cl)",icon:a.jsx(mx,{className:"w-4 h-4"}),status:"pending"},{id:"ai-processing",label:"Procesamiento IA",description:"Analizando resultados con inteligencia artificial real (OpenRouter)",icon:a.jsx(_a,{className:"w-4 h-4"}),status:"pending"},{id:"link-validation",label:"Validación de Enlaces",description:"Verificando accesibilidad y autenticidad de enlaces encontrados",icon:a.jsx(YL,{className:"w-4 h-4"}),status:"pending"},{id:"refinement",label:"Refinamiento",description:"Optimizando resultados y buscando información adicional si es necesario",icon:a.jsx(oh,{className:"w-4 h-4"}),status:"pending"}];function hY({results:e,searchId:t,isSearching:r,onApprove:n,onReject:s}){const[i,o]=g.useState(!1),[l,c]=g.useState({}),u=(v,y)=>{c(x=>({...x,[v]:y}))},d=async(v,y=!1)=>{console.log("🟢 Iniciando aprobación individual:",{resultId:v,addToCalendar:y}),u(v,!0);try{await n([v],y)?(console.log("✅ Aprobación individual exitosa"),W.success("Convocatoria aprobada exitosamente")):(console.error("❌ Aprobación individual falló"),W.error("Error al aprobar convocatoria"))}catch(x){console.error("❌ Error en aprobación individual:",x),W.error("Error al aprobar convocatoria")}finally{u(v,!1)}},f=async v=>{console.log("🟡 Iniciando rechazo individual:",{resultId:v}),u(v,!0);try{await s([v])?(console.log("✅ Rechazo individual exitoso"),W.success("Convocatoria descartada")):(console.error("❌ Rechazo individual falló"),W.error("Error al descartar convocatoria"))}catch(y){console.error("❌ Error en rechazo individual:",y),W.error("Error al descartar convocatoria")}finally{u(v,!1)}},h=async v=>{var y,x,b,j;console.log("💾 Guardando convocatoria:",{id:v.id,title:v.title}),u(v.id,!0);try{const{data:N,error:k}=await ue.functions.invoke("manage-saved-convocatorias-fixed",{body:{action:"save_convocatoria",title:v.title,description:v.description,organization:((y=v.validated_data)==null?void 0:y.organization)||"",amount:v.amount,deadline:v.deadline,requirements:v.requirements,source_url:v.source_url,category:((x=v.validated_data)==null?void 0:x.category)||"General",tags:((b=v.validated_data)==null?void 0:b.tags)||[],from_ai_search:!0,ai_search_id:t}});if(k)throw new Error(k.message||"Error al guardar convocatoria");(j=N==null?void 0:N.data)!=null&&j.already_saved?W.info("Esta convocatoria ya está guardada",{description:'Puedes revisarla en la sección "Convocatorias Guardadas"'}):W.success("Convocatoria guardada exitosamente",{description:'Puedes revisarla en "Convocatorias Guardadas"'}),console.log("✅ Convocatoria guardada:",N==null?void 0:N.data)}catch(N){console.error("❌ Error guardando convocatoria:",N);const k=N instanceof Error?N.message:"Error al guardar";W.error("Error al guardar convocatoria",{description:k})}finally{u(v.id,!1)}},m=async v=>{console.log("📄 Exportando resultados en formato:",v),o(!0);try{const{data:y,error:x}=await ue.functions.invoke("export-search-results",{body:{results:e,format:v,search_metadata:{search_id:t,search_date:new Date().toISOString(),results_count:e.length,export_format:v}}});if(x)throw new Error(x.message||`Error exportando en formato ${v.toUpperCase()}`);const b=v==="pdf"?new Blob([y],{type:"text/html"}):v==="excel"?new Blob([y],{type:"text/csv"}):new Blob([y],{type:"text/plain;charset=utf-8"}),j=URL.createObjectURL(b),N=document.createElement("a");if(N.href=j,v==="pdf"){const k=window.open(j,"_blank");k&&(k.document.title=`Convocatorias_${new Date().getTime()}.pdf`),W.success("Documento PDF abierto para impresión",{description:`Use Ctrl+P para imprimir/guardar como PDF. ${e.length} convocatorias incluidas`})}else N.download=`convocatorias_${new Date().getTime()}.${v==="excel"?"csv":v}`,document.body.appendChild(N),N.click(),document.body.removeChild(N),W.success(`Archivo ${v.toUpperCase()} descargado exitosamente`,{description:`${e.length} convocatorias exportadas`});URL.revokeObjectURL(j),console.log("✅ Exportación completada:",{format:v,resultsCount:e.length})}catch(y){console.error("❌ Error en exportación:",y);const x=y instanceof Error?y.message:`Error exportando ${v.toUpperCase()}`;W.error("Error en exportación",{description:x})}finally{o(!1)}},w=v=>{const y=new Date(v),x=new Date,b=y.getTime()-x.getTime();return Math.ceil(b/(1e3*60*60*24))},p=v=>v>=90?"text-green-600":v>=75?"text-yellow-600":"text-red-600";return e.length===0&&!r?a.jsx(X,{children:a.jsx(Q,{className:"py-8 text-center",children:a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sin resultados"}),a.jsx("p",{children:"No se encontraron convocatorias que coincidan con tu búsqueda."}),a.jsx("p",{className:"text-sm mt-2",children:"Intenta ajustar los parámetros de búsqueda."})]})})}):a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ie,{className:"flex items-center gap-2",children:["Resultados de Búsqueda IA",a.jsxs(K,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[a.jsx(ua,{className:"w-3 h-3 mr-1"}),e.length," verificada",e.length!==1?"s":""]})]}),e.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:"Exportar todas:"}),a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>m("txt"),disabled:i,className:"min-w-0 flex-shrink-0",children:[a.jsx(Dr,{className:"mr-1 h-3 w-3"}),"TXT"]}),a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>m("excel"),disabled:i,className:"min-w-0 flex-shrink-0",children:[a.jsx(aC,{className:"mr-1 h-3 w-3"}),"CSV"]}),a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>m("pdf"),disabled:i,className:"min-w-0 flex-shrink-0",children:[a.jsx(Or,{className:"mr-1 h-3 w-3"}),"PDF"]})]})]})}),a.jsx(Q,{className:"space-y-4",children:e.map(v=>{var k,S,E,P,C;const y=v.deadline?w(v.deadline):null,x=y!==null&&y<=30,b=y!==null&&y<0,j=((k=v.validated_data)==null?void 0:k.reliability_score)||95,N=l[v.id]||!1;return a.jsx(X,{className:re("border-l-4 transition-all",v.approved_by_user===!0&&"border-l-green-500 bg-green-50",v.approved_by_user===!1&&"border-l-red-500 bg-red-50",v.approved_by_user===null&&"border-l-blue-500",b&&"opacity-60"),children:a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2",children:v.title}),((S=v.validated_data)==null?void 0:S.organization)&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-2",children:[a.jsx(ah,{className:"h-3 w-3"}),v.validated_data.organization]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[j>0&&a.jsxs(K,{variant:"outline",className:re("text-xs",p(j)),children:[a.jsx(ua,{className:"w-3 h-3 mr-1"}),"IA: ",j,"%"]}),((E=v.validated_data)==null?void 0:E.status)&&a.jsx(K,{variant:v.validated_data.status==="Abierta"?"default":"secondary",children:v.validated_data.status})]})]}),v.description&&a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:v.description}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[v.amount&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hx,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"font-semibold text-green-700",children:v.amount})]}),v.deadline&&a.jsxs("div",{className:re("flex items-center gap-2",x&&"text-orange-600",b&&"text-red-600"),children:[a.jsx(Oa,{className:"h-4 w-4"}),a.jsxs("span",{className:"font-medium",children:[new Date(v.deadline).toLocaleDateString(),y!==null&&a.jsxs("span",{className:"ml-1 text-xs",children:["(",y>0?`${y} días`:"Vencida",")"]})]}),x&&!b&&a.jsx(Bo,{className:"h-3 w-3 text-orange-500"})]}),((P=v.validated_data)==null?void 0:P.category)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vx,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{children:v.validated_data.category})]})]}),((C=v.validated_data)==null?void 0:C.tags)&&v.validated_data.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:v.validated_data.tags.map((A,M)=>a.jsx(K,{variant:"outline",className:"text-xs",children:A},M))}),v.requirements&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Requisitos:"}),a.jsx("p",{className:"text-sm text-gray-700",children:v.requirements})]}),v.source_url&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(ih,{className:"h-3 w-3 text-blue-600"}),a.jsx("a",{href:v.source_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline truncate",children:"Ver convocatoria original"})]}),v.approved_by_user!==null&&a.jsxs("div",{className:re("flex items-center gap-2 text-sm font-medium",v.approved_by_user?"text-green-700":"text-red-700"),children:[v.approved_by_user?a.jsx(He,{className:"h-4 w-4"}):a.jsx(rb,{className:"h-4 w-4"}),v.approved_by_user?"Aprobada":"Descartada",v.approved_by_user&&v.approved_at&&a.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",new Date(v.approved_at).toLocaleDateString(),")"]})]}),a.jsx("div",{className:"border-t pt-4 mt-4",children:a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start",children:[a.jsxs(B,{size:"sm",onClick:()=>h(v),disabled:N,className:"bg-green-600 hover:bg-green-700 text-white flex-1 sm:flex-none min-w-[100px]",children:[a.jsx(OL,{className:"mr-1 h-3 w-3"}),N?"Guardando...":"Guardar"]}),a.jsxs(B,{size:"sm",onClick:()=>d(v.id,!1),disabled:N,className:"bg-blue-600 hover:bg-blue-700 text-white flex-1 sm:flex-none min-w-[100px]",children:[a.jsx(He,{className:"mr-1 h-3 w-3"}),N?"Procesando...":"Aprobar"]}),a.jsxs(B,{size:"sm",onClick:()=>d(v.id,!0),disabled:N,className:"bg-indigo-600 hover:bg-indigo-700 text-white flex-1 sm:flex-none min-w-[120px]",children:[a.jsx(Pt,{className:"mr-1 h-3 w-3"}),N?"Procesando...":"Aprobar + Calendario"]}),a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>f(v.id),disabled:N,className:"border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300 flex-1 sm:flex-none min-w-[100px]",children:[a.jsx(rb,{className:"mr-1 h-3 w-3"}),N?"Procesando...":"Descartar"]})]})})]})})},v.id)})})]})}const CA=g.createContext({}),EA=g.forwardRef(({className:e,value:t,onValueChange:r,disabled:n,children:s,...i},o)=>a.jsx(CA.Provider,{value:{value:t,onValueChange:r,disabled:n},children:a.jsx("div",{ref:o,className:re("grid gap-2",e),role:"radiogroup",...i,children:s})}));EA.displayName="RadioGroup";const Td=g.forwardRef(({className:e,value:t,id:r,disabled:n,...s},i)=>{const o=g.useContext(CA),l=o.value===t,c=n||o.disabled,u=()=>{!c&&o.onValueChange&&o.onValueChange(t)};return a.jsx("button",{ref:i,type:"button",id:r,role:"radio","aria-checked":l,onClick:u,disabled:c,className:re("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 relative",e),...s,children:l&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-current"})})})});Td.displayName="RadioGroupItem";const Qm=[{id:"deepseek/deepseek-chat-v3-0324:free",name:"DeepSeek Chat v3",description:"Eficiente para tareas estructuradas"},{id:"google/gemini-2.0-flash-exp:free",name:"Gemini 2.0 Flash",description:"Rápido y versátil"},{id:"meta-llama/llama-3.3-70b-instruct:free",name:"Llama 3.3 70B",description:"Potente para análisis complejos"}],mY={openrouter:"OpenRouter - Múltiples Modelos",gemini_direct:"Gemini 2.5 Pro Directo",gemini_smart:"Flujo Inteligente Gemini 2.5 ✨"},pY={openrouter:"Múltiples modelos IA gratuitos con validación cruzada",gemini_direct:"Procesamiento directo con Gemini 2.5 Pro",gemini_smart:"Flujo optimizado: Flash-Lite 2.5 + Pro 2.5 para máxima precisión"};function gY({selectedProvider:e,selectedModel:t,onProviderChange:r,isProUser:n=!1,disabled:s=!1,className:i,defaultExpanded:o=!1}){const[l,c]=g.useState(o),[u,d]=g.useState(t||Qm[0].id),f=p=>{const v={provider:p,...p==="openrouter"&&{model:u}};r(v)},h=p=>{d(p),e==="openrouter"&&r({provider:"openrouter",model:p})},m=()=>{const p=mY[e];if(e==="openrouter"&&t){const v=Qm.find(y=>y.id===t);return`${p} (${(v==null?void 0:v.name)||"Modelo personalizado"})`}return p},w=()=>{switch(e){case"openrouter":return a.jsx(Qr,{className:"w-4 h-4 text-blue-500"});case"gemini_direct":return a.jsx(nt,{className:"w-4 h-4 text-blue-500"});case"gemini_smart":return a.jsx(mr,{className:"w-4 h-4 text-green-500"});default:return a.jsx(Qr,{className:"w-4 h-4"})}};return a.jsxs("div",{className:re("w-full",i),children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg bg-background hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[w(),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-sm truncate",children:"Configuración IA"}),n&&a.jsx(kt,{className:"w-3 h-3 text-primary flex-shrink-0"})]}),a.jsx("span",{className:"text-xs text-muted-foreground truncate",children:m()}),a.jsx("span",{className:"text-xs text-muted-foreground/70 truncate",children:pY[e]})]})]}),a.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a.jsx(B,{variant:"ghost",size:"sm",onClick:()=>c(!l),disabled:s,className:"h-8 w-8 p-0",children:l?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Wo,{className:"w-3 h-3"}),a.jsx(nC,{className:"w-3 h-3"})]}):a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(En,{className:"w-3 h-3"}),a.jsx(fx,{className:"w-3 h-3"})]})})})]}),a.jsx(QW,{children:l&&a.jsx(Zt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs(X,{className:"mt-2 border-border/50",children:[a.jsxs(ne,{className:"pb-4",children:[a.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[a.jsx(n5,{className:"w-4 h-4"}),"Proveedor de IA"]}),a.jsx(ge,{className:"text-sm",children:"Elige cómo quieres que la IA procese tu búsqueda"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs(EA,{value:e,onValueChange:f,disabled:s,className:"grid gap-3",children:[a.jsx(Zt.div,{className:re("relative p-3 border rounded-lg transition-all cursor-pointer",e==="openrouter"?"border-primary bg-primary/5 ring-1 ring-primary/20":"border-border hover:border-primary/50"),whileHover:{scale:s?1:1.01},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Td,{value:"openrouter",id:"openrouter",disabled:s,className:"mt-0.5"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs(ae,{htmlFor:"openrouter",className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[a.jsx(Qr,{className:"w-3 h-3"}),"OpenRouter",a.jsx(K,{variant:"secondary",className:"text-xs",children:"Múltiples Modelos"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Múltiples modelos IA gratuitos con validación cruzada"}),e==="openrouter"&&a.jsxs(Zt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"pt-2 border-t",children:[a.jsx(ae,{className:"text-xs font-medium mb-1 block",children:"Modelo:"}),a.jsxs(St,{value:u,onValueChange:h,disabled:s,children:[a.jsx(gt,{className:"h-8",children:a.jsx(Ct,{})}),a.jsx(vt,{children:Qm.map(p=>a.jsx(se,{value:p.id,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-xs",children:p.name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:p.description})]})},p.id))})]})]})]})]})}),a.jsx(Zt.div,{className:re("relative p-3 border rounded-lg transition-all cursor-pointer",e==="gemini_direct"?"border-primary bg-primary/5 ring-1 ring-primary/20":"border-border hover:border-primary/50"),whileHover:{scale:s?1:1.01},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Td,{value:"gemini_direct",id:"gemini_direct",disabled:s,className:"mt-0.5"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs(ae,{htmlFor:"gemini_direct",className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[a.jsx(nt,{className:"w-3 h-3 text-blue-500"}),"Gemini 2.5 Pro Directo",a.jsx(K,{variant:"outline",className:"text-xs border-blue-200 text-blue-700",children:"2.5 Pro"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Procesamiento directo con el modelo más avanzado de Google Gemini 2.5"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(He,{className:"w-3 h-3"}),a.jsx("span",{children:"Gratis"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Oa,{className:"w-3 h-3"}),a.jsx("span",{children:"Respuesta rápida"})]})]})]})]})}),a.jsx(Zt.div,{className:re("relative p-3 border rounded-lg transition-all cursor-pointer",e==="gemini_smart"?"border-primary bg-primary/5 ring-1 ring-primary/20":"border-border hover:border-primary/50"),whileHover:{scale:s?1:1.01},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Td,{value:"gemini_smart",id:"gemini_smart",disabled:s,className:"mt-0.5"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs(ae,{htmlFor:"gemini_smart",className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[a.jsx(mr,{className:"w-3 h-3 text-green-500"}),"Flujo Inteligente Gemini 2.5",a.jsxs(K,{className:"text-xs bg-gradient-to-r from-green-500 to-blue-500 text-white",children:[a.jsx(nt,{className:"w-3 h-3 mr-1"}),"Recomendado"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Procesamiento optimizado de 2 pasos: Flash-Lite 2.5 + Pro 2.5 para máxima precisión"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(He,{className:"w-3 h-3"}),a.jsx("span",{children:"Gratis"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(kn,{className:"w-3 h-3"}),a.jsx("span",{children:"Máxima precisión"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(mr,{className:"w-3 h-3"}),a.jsx("span",{children:"2-pasos optimizado"})]})]})]})]})})]}),a.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Todos los proveedores están optimizados para convocatorias chilenas"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"100% gratuito - No requiere claves API adicionales"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Cambio de proveedor en tiempo real durante búsquedas"})]})]})})]})]})})})]})}function vY(){const[e,t]=g.useState(!1),[r,n]=g.useState([]),[s,i]=g.useState(null),[o,l]=g.useState(null),[c,u]=g.useState("web-search"),d=ue,f=g.useCallback(async(w,p={},v="openrouter",y="auto")=>{if(!w.trim())throw new Error("La consulta de búsqueda es requerida");t(!0),n([]),i(null),l(null),u("web-search");try{console.log("🔎 Iniciando búsqueda IA con múltiples proveedores:",{query:w,parameters:p,aiProvider:v,selectedModel:y});const{data:{session:x},error:b}=await d.auth.getSession();if(b||!x)throw new Error("Sesión no válida. Por favor, inicia sesión nuevamente.");const j=v==="smart_flow"?["step1-flash","step2-pro","refinement"]:["web-search","ai-processing","link-validation","refinement"];let N=0;const k=setInterval(()=>{N<j.length-1&&(N++,u(j[N]))},v==="smart_flow"?3e3:2e3),{data:S,error:E}=await d.functions.invoke("ai-search-convocatorias-optimized",{body:{search_query:w.trim(),search_parameters:p,ai_provider:v,selected_model:y},headers:{Authorization:`Bearer ${x.access_token}`}});if(clearInterval(k),u("refinement"),E)throw console.error("Error en búsqueda IA multi-proveedor:",E),new Error(E.message||"Error al ejecutar búsqueda IA");if(!(S!=null&&S.data))throw new Error("Respuesta inválida del servidor");const{search_id:P,results:C,processing_info:A}=S.data;console.log("✅ Búsqueda IA multi-proveedor completada:",{searchId:P,resultsCount:C.length,processingInfo:A}),i(P),n(C);const M={web_results_found:C.length,ai_processed:C.length,links_validated:C.length,final_count:C.length,...A};l(M);const R=v==="smart_flow"?"Flujo Inteligente":v==="gemini"?"Gemini Directo":"OpenRouter";return W.success(`Búsqueda completada: ${C.length} convocatorias encontradas`,{description:`Procesado con ${R} - ${(A==null?void 0:A.ai_provider)||v}`}),{searchId:P,results:C}}catch(x){console.error("❌ Error en búsqueda IA multi-proveedor:",x);const b=x instanceof Error?x.message:"Error desconocido en búsqueda IA";throw W.error("Error en búsqueda IA",{description:b}),x}finally{t(!1)}},[ue]),h=g.useCallback(async(w,p=!1)=>{try{console.log("🟢 Aprobando resultados:",{resultIds:w,addToCalendar:p});const{error:v}=await d.functions.invoke("approve-results-fixed",{body:{result_ids:w,add_to_calendar:p}});if(v)throw new Error(v.message||"Error al aprobar resultados");return n(y=>y.map(x=>w.includes(x.id)?{...x,approved_by_user:!0,added_to_calendar:p}:x)),W.success(`${w.length} convocatoria${w.length!==1?"s":""} aprobada${w.length!==1?"s":""}`,{description:p?"Añadidas al calendario":"Guardadas en tu lista"}),!0}catch(v){console.error("❌ Error aprobando resultados:",v);const y=v instanceof Error?v.message:"Error al aprobar";return W.error("Error al aprobar",{description:y}),!1}},[ue]),m=g.useCallback(async w=>{try{console.log("🟡 Rechazando resultados:",{resultIds:w});const{error:p}=await d.functions.invoke("approve-results-fixed",{body:{result_ids:w,approved:!1}});if(p)throw new Error(p.message||"Error al rechazar resultados");return n(v=>v.map(y=>w.includes(y.id)?{...y,approved_by_user:!1}:y)),W.success(`${w.length} convocatoria${w.length!==1?"s":""} rechazada${w.length!==1?"s":""}`),!0}catch(p){console.error("❌ Error rechazando resultados:",p);const v=p instanceof Error?p.message:"Error al rechazar";return W.error("Error al rechazar",{description:v}),!1}},[ue]);return{isSearching:e,searchResults:r,currentSearchId:s,processingInfo:o,currentStep:c,executeSearch:f,approveResults:h,rejectResults:m,clearResults:()=>{n([]),i(null),l(null)}}}class xY{constructor(){a0(this,"models",[{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",description:"Modelo más avanzado para análisis detallado y tareas complejas",type:"pro",maxTokens:8192},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash-Lite",description:"Modelo rápido y eficiente para generación inicial y listas",type:"flash",maxTokens:4096},{id:"gemini-2.5-flash-lite",name:"Gemini 2.5 Flash-Lite",description:"Versión optimizada para velocidad y eficiencia",type:"flash",maxTokens:3e3}])}async askGemini(t){var r;try{console.log("🧠 Enviando consulta a Gemini:",{model:t.model,promptLength:t.prompt.length,temperature:t.temperature});const{data:n,error:s}=await ue.functions.invoke("ask-gemini",{body:{prompt:t.prompt,modelName:t.model,maxTokens:t.max_tokens||this.getModelMaxTokens(t.model)}});if(s)throw console.error("❌ Error en ask-gemini:",s),new Error(s.message||"Error en consulta Gemini");if(!(n!=null&&n.data))throw new Error("Respuesta inválida de Gemini");return console.log("✅ Respuesta Gemini recibida:",{model:n.data.model,responseLength:((r=n.data.text)==null?void 0:r.length)||0}),{response:n.data.text||n.data.response||"",model:n.data.model||t.model,usage:n.data.usage}}catch(n){throw console.error("❌ Error en askGemini:",n),n}}async directSearch(t,r="gemini-2.5-pro",n={}){try{console.log("🎯 Búsqueda directa Gemini:",{query:t,model:r,parameters:n});const s=this.buildSearchPrompt(t,n),i=await this.askGemini({model:r,prompt:s,temperature:.7}),o=this.parseSearchResponse(i.response,t);return console.log("✅ Búsqueda directa completada:",{results:o.length,model:i.model}),o}catch(s){throw console.error("❌ Error en búsqueda directa Gemini:",s),s}}async smartSearch(t,r={}){try{console.log("⚡ Iniciando flujo inteligente Gemini:",{query:t,parameters:r});const{data:n,error:s}=await ue.functions.invoke("gemini-smart-search",{body:{search_query:t,search_parameters:r}});if(s)throw console.error("❌ Error en flujo inteligente:",s),new Error(s.message||"Error en flujo inteligente");if(!(n!=null&&n.data))throw new Error("Respuesta inválida del flujo inteligente");return console.log("✅ Flujo inteligente completado:",{searchId:n.data.search_id,results:n.data.results_count,processingMethod:n.data.processing_info.processing_method}),{search_id:n.data.search_id,results:n.data.results||[],results_count:n.data.results_count,processing_info:n.data.processing_info}}catch(n){throw console.error("❌ Error en smartSearch:",n),n}}buildSearchPrompt(t,r){let n=`Actúa como un asistente especializado en financiamiento de proyectos. Proporciona una lista detallada, organizada y actualizada de oportunidades de financiamiento, concursos, becas o subvenciones disponibles para "${t}"`;return r.location?n+=`, con enfoque en ${r.location}`:n+=", priorizando oportunidades en Chile PRIMERO, luego incluyendo opciones internacionales relevantes",r.sector&&(n+=` en el sector ${r.sector}`),r.min_amount&&(n+=` con montos desde $${r.min_amount}`),n+=`.

Para cada oportunidad, incluye la siguiente información:
- Nombre de la Oportunidad
- Organismo Convocante (institución, fundación, gobierno, etc.)
- Descripción (objetivos, tipo de proyectos apoyados y enfoque temático)
- Monto de Financiamiento (rango, monto máximo/mínimo, forma de entrega)
- Fecha Límite de Postulación (fecha exacta o período de convocatoria)
- Elegibilidad (quiénes pueden postular: individuos, organizaciones, nacionalidad, sector, etapa del proyecto, etc.)
- Criterios de Selección (factores clave de evaluación)
- Enlace Oficial (URL directo y funcional a la página de la convocatoria)
- Notas (opcional: idioma, cofinanciamiento, beneficios adicionales, etc.)

Instrucciones específicas:
- Prioriza convocatorias abiertas o próximas (en los próximos 6 meses)
- Solo incluye oportunidades con información verificable y enlaces oficiales activos
- Si no hay convocatorias activas, menciona programas destacados con fecha estimada de reapertura
- Organiza los resultados por fecha de cierre (próximas primero)
- Asegúrate de que toda la información sea válida para 2025 o la fecha más reciente disponible

Devuelve la información en formato JSON válido con esta estructura:
{
  "convocatorias": [
    {
      "title": "Nombre de la convocatoria",
      "organization": "Organismo convocante",
      "description": "Descripción detallada",
      "amount": "Rango de financiamiento",
      "deadline": "2025-XX-XX",
      "requirements": "Requisitos de elegibilidad",
      "source_url": "https://enlace-oficial.com",
      "category": "Categoría",
      "status": "abierto",
      "tags": ["tag1", "tag2"],
      "reliability_score": 95
    }
  ]
}`,n}parseSearchResponse(t,r){try{const n=t.match(/\{[\s\S]*\}/);if(n){const s=JSON.parse(n[0]);if(s.convocatorias&&Array.isArray(s.convocatorias))return s.convocatorias.map(i=>({id:crypto.randomUUID(),title:i.title||`Convocatoria para ${r}`,description:i.description||"",deadline:i.deadline||this.generateFutureDate(),amount:i.amount||"Monto variable",requirements:i.requirements||"Ver bases",source_url:i.source_url||"https://www.gob.cl",validated_data:{organization:i.organization||"N/A",category:i.category||"Financiamiento",status:i.status||"disponible",reliability_score:i.reliability_score||90,tags:i.tags||[r]}}))}return this.parseTextResponse(t,r)}catch(n){return console.error("Error parseando respuesta:",n),this.parseTextResponse(t,r)}}parseTextResponse(t,r){const n=[],s=t.split(/\n\s*\n/);for(const i of s.slice(0,5)){if(i.trim().length<50)continue;const o=i.split(`
`).map(l=>l.trim()).filter(l=>l);o.length<2||n.push({id:crypto.randomUUID(),title:o[0]||`Convocatoria para ${r}`,description:o.slice(1).join(" ").substring(0,300)+"...",deadline:this.generateFutureDate(),amount:"Monto variable según proyecto",requirements:"Requisitos según bases de la convocatoria",source_url:"https://www.gob.cl",validated_data:{organization:"Gobierno de Chile",category:"Financiamiento",status:"disponible",reliability_score:85,tags:[r,"chile"]}})}return n}generateFutureDate(){const t=new Date;return t.setMonth(t.getMonth()+3),t.toISOString().split("T")[0]}getModelMaxTokens(t){const r=this.models.find(n=>n.id===t);return(r==null?void 0:r.maxTokens)||4096}getAvailableModels(){return[...this.models]}canUseGemini(){return!0}getUsageInfo(){return{available_models:this.models.length,can_use_smart_flow:!0,can_use_direct_search:!0,recommended_flow:"smart_search"}}}const Hi=new xY;function kA(){const{user:e}=qe(),[t,r]=g.useState({isSearching:!1,currentStep:"idle",stepProgress:{step1_completed:!1,step2_completed:!1},currentMessage:"Listo para buscar",progress:0}),[n,s]=g.useState([]),[i,o]=g.useState(null),l=g.useCallback(async(m,w={})=>{if(!m.trim())throw new Error("La consulta de búsqueda es requerida");r({isSearching:!0,currentStep:"step1",stepProgress:{step1_completed:!1,step2_completed:!1},currentMessage:"Paso 1/2: Generando lista rápida con Gemini 2.5 Flash-Lite...",progress:15}),s([]),o(null);try{console.log("🧠 Iniciando flujo inteligente Gemini 2.5:",{query:m,parameters:w}),setTimeout(()=>{r(v=>({...v,currentStep:"step2",stepProgress:{...v.stepProgress,step1_completed:!0},currentMessage:"Paso 2/2: Procesamiento detallado con Gemini 2.5 Pro...",progress:65}))},3e3);const p=await Hi.smartSearch(m,w);return r(v=>({...v,currentStep:"completed",stepProgress:{step1_completed:!0,step2_completed:!0,step2_results:p.results},currentMessage:`Completado: ${p.results.length} convocatorias encontradas`,progress:100,isSearching:!1})),s(p.results),o(p),W.success(`Flujo inteligente completado: ${p.results.length} convocatorias encontradas`,{description:`Procesado con Gemini 2.5 Flash-Lite + Pro (${p.processing_info.processing_method})`}),p}catch(p){console.error("❌ Error en flujo inteligente:",p);const v=p instanceof Error?p.message:"Error en flujo inteligente";throw r(y=>({...y,isSearching:!1,currentMessage:"Error en el proceso",progress:0})),W.error("Error en flujo inteligente Gemini 2.5",{description:v}),p}},[]),c=g.useCallback(async(m,w="gemini-2.5-pro",p={})=>{if(!m.trim())throw new Error("La consulta de búsqueda es requerida");r({isSearching:!0,currentStep:"step1",stepProgress:{step1_completed:!1,step2_completed:!1},currentMessage:`Procesando con ${w==="gemini-2.5-pro"?"Gemini 2.5 Pro":"Gemini 2.5 Flash-Lite"}...`,progress:50}),s([]);try{console.log("🎯 Iniciando búsqueda directa Gemini 2.5:",{query:m,model:w,parameters:p});const v=await Hi.directSearch(m,w,p);r({isSearching:!1,currentStep:"completed",stepProgress:{step1_completed:!0,step2_completed:!0,step2_results:v},currentMessage:`Completado: ${v.length} convocatorias encontradas`,progress:100}),s(v);const y=w==="gemini-2.5-pro"?"Gemini 2.5 Pro":"Gemini 2.5 Flash-Lite";return W.success(`Búsqueda directa completada: ${v.length} convocatorias encontradas`,{description:`Procesado con ${y}`}),v}catch(v){console.error("❌ Error en búsqueda directa:",v);const y=v instanceof Error?v.message:"Error en búsqueda directa";throw r(x=>({...x,isSearching:!1,currentMessage:"Error en el proceso",progress:0})),W.error("Error en búsqueda directa Gemini 2.5",{description:y}),v}},[]),u=g.useCallback(async(m,w="gemini-2.5-pro",p)=>{try{return(await Hi.askGemini({model:w,prompt:m,temperature:(p==null?void 0:p.temperature)||.7,max_tokens:(p==null?void 0:p.max_tokens)||(w.includes("flash")?3e3:6e3)})).response}catch(v){throw console.error("❌ Error en consulta Gemini:",v),v}},[]),d=g.useCallback(()=>Hi.getAvailableModels(),[]),f=g.useCallback(()=>{s([]),o(null),r({isSearching:!1,currentStep:"idle",stepProgress:{step1_completed:!1,step2_completed:!1},currentMessage:"Listo para buscar",progress:0})},[]),h=g.useCallback(()=>({progress:t.progress,message:t.currentMessage}),[t]);return{searchState:t,searchResults:n,lastSearchResponse:i,isSearching:t.isSearching,executeSmartSearch:l,executeDirectSearch:c,askGemini:u,getAvailableModels:d,clearResults:f,getProgressState:h,canUseGemini:Hi.canUseGemini(),usageInfo:Hi.getUsageInfo()}}function yY(){const{isPro:e}=qe(),[t,r]=g.useState(""),[n,s]=g.useState({}),[i,o]=g.useState("gemini_smart"),[l,c]=g.useState(),{isSearching:u,searchResults:d,currentSearchId:f,processingInfo:h,currentStep:m,executeSearch:w,approveResults:p,rejectResults:v}=vY(),{isSearching:y,searchResults:x,searchState:b,executeSmartSearch:j,executeDirectSearch:N,getProgressState:k}=kA(),S=u||y,E=i==="openrouter"?d:x,P=i==="openrouter"?f:null,C=async()=>{if(!t.trim()){W.error("Por favor, ingresa una consulta de búsqueda");return}try{switch(i){case"openrouter":await w(t,n);break;case"gemini_direct":await N(t,"gemini-1.5-pro",n);break;case"gemini_smart":await j(t,n);break;default:W.error("Proveedor no válido seleccionado")}}catch(L){console.error("Error en búsqueda:",L)}},A=(L,U)=>{let V=U;(U==="todos_sectores"||U==="todas_regiones")&&(V=""),s(z=>({...z,[L]:V||void 0}))},M=L=>{o(L.provider),c(L.model)};g.useEffect(()=>{const L=U=>{r(U.detail.query)};return window.addEventListener("useTemplate",L),()=>window.removeEventListener("useTemplate",L)},[]);const R=i.startsWith("gemini")?k():null;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(gY,{selectedProvider:i,selectedModel:l,onProviderChange:M,isProUser:e,disabled:S,defaultExpanded:!1}),a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${i==="openrouter"?"bg-gradient-to-r from-blue-500 to-purple-600":i==="gemini_direct"?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-green-500 to-blue-500"}`,children:i==="gemini_smart"?a.jsx(mr,{className:"h-6 w-6 text-white"}):a.jsx(Qr,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[i==="openrouter"&&"Búsqueda IA con OpenRouter",i==="gemini_direct"&&"Búsqueda Directa con Gemini 2.5 Pro",i==="gemini_smart"&&"Flujo Inteligente Gemini 2.5",a.jsxs(K,{variant:"secondary",className:`${i==="openrouter"||i==="gemini_direct"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[a.jsx(nt,{className:"h-3 w-3 mr-1"}),i==="openrouter"&&"OpenRouter",i==="gemini_direct"&&"Gemini 2.5 Pro",i==="gemini_smart"&&"Gemini 2.5 Smart"]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[i==="openrouter"&&"Búsqueda con múltiples modelos y validación cruzada",i==="gemini_direct"&&"Procesamiento directo con Gemini 2.5 Pro",i==="gemini_smart"&&"Flujo optimizado: Flash-Lite 2.5 + Pro 2.5 para máxima precisión"]})]})]}),h&&i==="openrouter"&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium",children:"Resultados Procesados"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Web: ",h.web_results_found," | IA: ",h.ai_processed," | Validados: ",h.links_validated]})]}),R&&i.startsWith("gemini")&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium",children:R.message}),a.jsx("div",{className:"w-32 mt-1",children:a.jsx(ns,{value:R.progress,className:"h-2"})})]})]})}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"search-query",children:"Consulta de Búsqueda"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ce,{id:"search-query",placeholder:"Ej: fondos para startups tecnológicas, becas de innovación, financiamiento PyME...",value:t,onChange:L=>r(L.target.value),onKeyDown:L=>L.key==="Enter"&&!S&&C(),disabled:S,className:"flex-1"}),a.jsx(B,{onClick:C,disabled:S||!t.trim(),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:S?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"mr-2 h-4 w-4 animate-pulse"}),"Procesando IA..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Buscar con IA"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"sector",children:"Sector"}),a.jsxs(St,{value:n.sector||"todos_sectores",onValueChange:L=>A("sector",L),disabled:S,children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Seleccionar sector"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"todos_sectores",children:"Todos los sectores"}),a.jsx(se,{value:"Tecnología",children:"Tecnología"}),a.jsx(se,{value:"Innovación",children:"Innovación"}),a.jsx(se,{value:"Emprendimiento",children:"Emprendimiento"}),a.jsx(se,{value:"Investigación",children:"Investigación"}),a.jsx(se,{value:"MIPYME",children:"MIPYME"}),a.jsx(se,{value:"Agricultura",children:"Agricultura"}),a.jsx(se,{value:"Energía",children:"Energía"}),a.jsx(se,{value:"Educación",children:"Educación"}),a.jsx(se,{value:"Salud",children:"Salud"}),a.jsx(se,{value:"Cultura",children:"Cultura"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"location",children:"Región"}),a.jsxs(St,{value:n.location||"todas_regiones",onValueChange:L=>A("location",L),disabled:S,children:[a.jsx(gt,{children:a.jsx(Ct,{placeholder:"Seleccionar región"})}),a.jsxs(vt,{children:[a.jsx(se,{value:"todas_regiones",children:"Todas las regiones"}),a.jsx(se,{value:"Metropolitana",children:"Región Metropolitana"}),a.jsx(se,{value:"Valparaíso",children:"Valparaíso"}),a.jsx(se,{value:"Biobío",children:"Biobío"}),a.jsx(se,{value:"La Araucanía",children:"La Araucanía"}),a.jsx(se,{value:"Los Lagos",children:"Los Lagos"}),a.jsx(se,{value:"Antofagasta",children:"Antofagasta"}),a.jsx(se,{value:"Maule",children:"Maule"}),a.jsx(se,{value:"Atacama",children:"Atacama"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:"min-amount",children:"Monto Mínimo (CLP)"}),a.jsx(Ce,{id:"min-amount",placeholder:"Ej: 1000000",value:n.min_amount||"",onChange:L=>A("min_amount",L.target.value),disabled:S,type:"number"})]})]})]})]}),S&&a.jsx("div",{className:"animate-in slide-in-from-top-2 duration-300",children:i==="openrouter"?a.jsx(dY,{currentStep:m,steps:fY}):i.startsWith("gemini")?a.jsx(X,{children:a.jsx(Q,{className:"pt-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[i==="gemini_smart"?a.jsx(mr,{className:"h-5 w-5 text-green-500"}):a.jsx(nt,{className:"h-5 w-5 text-blue-500"}),a.jsx("span",{className:"font-medium",children:(R==null?void 0:R.message)||"Procesando..."})]}),a.jsxs(K,{variant:"outline",children:[Math.round((R==null?void 0:R.progress)||0),"%"]})]}),a.jsx(ns,{value:(R==null?void 0:R.progress)||0,className:"h-2"}),i==="gemini_smart"&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${b.stepProgress.step1_completed?"bg-green-500":"bg-gray-300"}`}),a.jsx("span",{children:"Paso 1: Lista rápida"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${b.stepProgress.step2_completed?"bg-green-500":"bg-gray-300"}`}),a.jsx("span",{children:"Paso 2: Análisis detallado"})]})]})]})})}):null}),E.length>0&&a.jsx("div",{className:"animate-in slide-in-from-bottom-2 duration-500",children:a.jsx(hY,{results:E,searchId:P,isSearching:S,onApprove:p,onReject:v})})]})}const wY=[{id:"corfo-innovacion",name:"Innovación CORFO",icon:ZL,query:"fondos CORFO para proyectos de innovación y desarrollo tecnológico en Chile",description:"Financiamiento para innovación empresarial",provider:"gemini_smart"},{id:"emprendimiento-sercotec",name:"Emprendimiento SERCOTEC",icon:ah,query:"programas SERCOTEC para emprendedores y MIPYMES en Chile",description:"Apoyo para micro y pequeñas empresas",provider:"gemini_smart"},{id:"investigacion-anid",name:"Investigación ANID",icon:HL,query:"becas FONDECYT y fondos ANID para investigación científica en Chile",description:"Becas y fondos para investigación científica",provider:"gemini_direct"},{id:"startups-chile",name:"Startups Tech Chile",icon:VL,query:"financiamiento para startups tecnológicas y capital semilla en Chile",description:"Capital semilla para startups tecnológicas",provider:"gemini_smart"},{id:"audiovisual-chile",name:"Arte y Audiovisual",icon:uC,query:"fondos CNTV y financiamiento para proyectos audiovisuales y culturales en Chile",description:"Financiamiento para proyectos audiovisuales",provider:"openrouter"}];function bY(){const{isPro:e}=qe();return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6 lg:gap-8",children:[a.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-blue-500 rounded-lg",children:a.jsx(mr,{className:"h-8 w-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Búsqueda IA Avanzada"}),a.jsxs(K,{variant:"default",className:"bg-gradient-to-r from-green-500 to-blue-500 text-white",children:[a.jsx(nt,{className:"h-3 w-3 mr-1"}),"Multi-Proveedor"]})]}),a.jsx("p",{className:"text-gray-600",children:"Búsqueda inteligente con OpenRouter, Gemini Direct y Flujo Inteligente de 2 pasos"})]}),a.jsx(yY,{})]}),a.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[a.jsx(nt,{className:"h-5 w-5 text-blue-500"}),"Plantillas IA"]}),a.jsx(ge,{children:"Consultas optimizadas por sector y proveedor"})]}),a.jsx(Q,{className:"space-y-3",children:wY.map(t=>{const r=t.icon;return a.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{const n=new CustomEvent("useTemplate",{detail:{query:t.query}});window.dispatchEvent(n)},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(r,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("div",{className:"font-semibold text-sm text-gray-900",children:t.name}),a.jsxs(K,{variant:"outline",className:"text-xs",children:[t.provider==="openrouter"&&"OpenRouter",t.provider==="gemini_direct"&&"Gemini Pro",t.provider==="gemini_smart"&&"Smart Flow"]})]}),a.jsx("div",{className:"text-xs text-gray-600",children:t.description})]})]})},t.id)})})]}),a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[a.jsx(Qr,{className:"h-5 w-5 text-purple-500"}),"Proveedores IA"]})}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"font-medium text-sm",children:"OpenRouter"}),a.jsx(K,{variant:"outline",className:"text-xs",children:"Múltiples Modelos"})]}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1 pl-6",children:[a.jsx("div",{children:"• DeepSeek Chat v3"}),a.jsx("div",{children:"• Gemini 2.0 Flash"}),a.jsx("div",{children:"• Llama 3.3 70B"}),a.jsx("div",{children:"• Validación cruzada"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Gemini 2.5 Pro"}),a.jsx(K,{variant:"outline",className:"text-xs",children:"Directo"})]}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1 pl-6",children:[a.jsx("div",{children:"• Respuesta rápida"}),a.jsx("div",{children:"• Alta precisión"}),a.jsx("div",{children:"• Contexto extenso"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Flujo Inteligente"}),a.jsx(K,{className:"text-xs bg-gradient-to-r from-green-500 to-blue-500 text-white",children:"✨ Recomendado"})]}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1 pl-6",children:[a.jsx("div",{children:"• Paso 1: Flash-Lite (lista rápida)"}),a.jsx("div",{children:"• Paso 2: Pro (análisis detallado)"}),a.jsx("div",{children:"• Máxima precisión"}),a.jsx("div",{children:"• Resultados optimizados"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[a.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[a.jsx(mx,{className:"h-4 w-4"}),"Sitios monitoreados:"]}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[a.jsx("div",{children:"• corfo.cl (CORFO)"}),a.jsx("div",{children:"• sercotec.cl (SERCOTEC)"}),a.jsx("div",{children:"• anid.cl (ANID)"}),a.jsx("div",{children:"• fosis.gob.cl (FOSIS)"}),a.jsx("div",{children:"• gob.cl (Gobierno)"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(He,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-semibold text-sm text-green-700",children:"Estado del Sistema"})]}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"OpenRouter API activa"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Gemini API conectada"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Flujo inteligente operativo"})]})]})]})]})]})]})]})})})}function jY(){const{user:e}=qe(),[t,r]=g.useState([]),[n,s]=g.useState(!1),[i,o]=g.useState(null),l=async()=>{if(e){s(!0),o(null);try{const{data:h,error:m}=await ue.from("saved_searches").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw new Error(m.message);r(h||[])}catch(h){console.error("Error al cargar búsquedas guardadas:",h),o(h instanceof Error?h.message:"Error al cargar búsquedas guardadas")}finally{s(!1)}}},c=async(h,m,w={},p=!1)=>{if(!e)return o("Debe estar autenticado"),!1;if(!h.trim())return o("El nombre de la búsqueda es requerido"),!1;try{const{data:v,error:y}=await ue.functions.invoke("save-search",{body:{search_name:h.trim(),original_query:m.trim(),search_parameters:w,is_favorite:p}});if(y)throw new Error(y.message||"Error al guardar búsqueda");if(v!=null&&v.error)throw new Error(v.error.message||"Error al guardar búsqueda");return await l(),!0}catch(v){return console.error("Error al guardar búsqueda:",v),o(v instanceof Error?v.message:"Error al guardar búsqueda"),!1}},u=async h=>{if(!e)return o("Debe estar autenticado"),!1;try{const{error:m}=await ue.from("saved_searches").delete().eq("id",h).eq("user_id",e.id);if(m)throw new Error(m.message);return r(w=>w.filter(p=>p.id!==h)),!0}catch(m){return console.error("Error al eliminar búsqueda guardada:",m),o(m instanceof Error?m.message:"Error al eliminar búsqueda guardada"),!1}},d=async h=>{if(!e)return o("Debe estar autenticado"),!1;try{const m=t.find(p=>p.id===h);if(!m)throw new Error("Búsqueda no encontrada");const{error:w}=await ue.from("saved_searches").update({is_favorite:!m.is_favorite}).eq("id",h).eq("user_id",e.id);if(w)throw new Error(w.message);return r(p=>p.map(v=>v.id===h?{...v,is_favorite:!v.is_favorite}:v)),!0}catch(m){return console.error("Error al actualizar favorito:",m),o(m instanceof Error?m.message:"Error al actualizar favorito"),!1}},f=async h=>{if(e)try{const{error:m}=await ue.from("saved_searches").update({last_run:new Date().toISOString()}).eq("id",h).eq("user_id",e.id);m||r(w=>w.map(p=>p.id===h?{...p,last_run:new Date().toISOString()}:p))}catch(m){console.error("Error al actualizar última ejecución:",m)}};return g.useEffect(()=>{e?l():r([])},[e]),{savedSearches:t,isLoading:n,error:i,saveSearch:c,deleteSavedSearch:u,toggleFavorite:d,updateLastRun:f,refreshSavedSearches:l,clearError:()=>o(null)}}function NY(){const{user:e}=qe(),[t,r]=g.useState(!1),[n,s]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(null);return{isSearching:t,searchResults:n,currentSearch:i,error:l,executeSearch:async(w,p={})=>{if(!e){c("Debe estar autenticado para realizar búsquedas");return}if(!w.trim()){c("La consulta de búsqueda es requerida");return}r(!0),c(null),s([]),o(null);try{console.log("🔍 Iniciando búsqueda IA:",{query:w.trim(),parameters:p});const{data:v,error:y}=await ue.functions.invoke("ai-search-convocatorias-optimized",{body:{search_query:w.trim(),search_parameters:p}});if(console.log("🔍 Respuesta de Edge Function:",{data:v,functionError:y}),y)throw console.error("❌ Error en función:",y),new Error(y.message||"Error en la búsqueda IA");if(v!=null&&v.error)throw console.error("❌ Error en data:",v.error),new Error(v.error.message||"Error en la búsqueda IA");console.log("🔍 Data recibida:",v);const{data:x,error:b}=await ue.from("ai_searches").select("*").eq("id",v.data.search_id).maybeSingle();console.log("🔍 Búsqueda en DB:",{searchData:x,searchError:b}),!b&&x&&o(x),console.log("🔍 Resultados finales:",v.data.results),s(v.data.results||[])}catch(v){console.error("❌ Error COMPLETO en búsqueda IA:",v),console.error("❌ Stack trace:",v instanceof Error?v.stack:"No stack"),c(v instanceof Error?v.message:"Error desconocido en la búsqueda")}finally{console.log("🔍 Finalizando búsqueda, isSearching = false"),r(!1)}},approveResults:async(w,p=!1)=>{if(!e)return c("Debe estar autenticado"),!1;if(!w||w.length===0)return c("Debe seleccionar al menos un resultado"),!1;try{console.log("🟢 Iniciando aprobación:",{resultIds:w,addToCalendar:p});const{data:v,error:y}=await ue.functions.invoke("approve-results-fixed",{body:{result_ids:w,add_to_calendar:p,approved:!0}});if(console.log("🟢 Respuesta de aprobación:",{data:v,functionError:y}),y)throw console.error("❌ Error en función de aprobación:",y),new Error(y.message||"Error al aprobar resultados");if(v!=null&&v.error)throw console.error("❌ Error en data de aprobación:",v.error),new Error(v.error.message||"Error al aprobar resultados");return console.log("✅ Aprobación exitosa:",v),s(x=>x.map(b=>w.includes(b.id)?{...b,approved_by_user:!0,added_to_calendar:p}:b)),c(null),!0}catch(v){return console.error("❌ Error COMPLETO al aprobar resultados:",v),console.error("❌ Stack trace:",v instanceof Error?v.stack:"No stack"),c(v instanceof Error?v.message:"Error al aprobar resultados"),!1}},rejectResults:async w=>{if(!e)return c("Debe estar autenticado"),!1;if(!w||w.length===0)return c("Debe seleccionar al menos un resultado"),!1;try{console.log("🟡 Iniciando rechazo:",{resultIds:w});const{data:p,error:v}=await ue.functions.invoke("approve-results-fixed",{body:{result_ids:w,approved:!1}});if(console.log("🟡 Respuesta de rechazo:",{data:p,functionError:v}),v)throw console.error("❌ Error en función de rechazo:",v),new Error(v.message||"Error al rechazar resultados");if(p!=null&&p.error)throw console.error("❌ Error en data de rechazo:",p.error),new Error(p.error.message||"Error al rechazar resultados");return console.log("✅ Rechazo exitoso:",p),s(y=>y.map(x=>w.includes(x.id)?{...x,approved_by_user:!1}:x)),c(null),!0}catch(p){return console.error("❌ Error COMPLETO al rechazar resultados:",p),console.error("❌ Stack trace:",p instanceof Error?p.stack:"No stack"),c(p instanceof Error?p.message:"Error al rechazar resultados"),!1}},getUserSearches:async()=>{if(!e)return[];try{const{data:w,error:p}=await ue.from("ai_searches").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});return p?(console.error("Error al obtener búsquedas:",p),[]):w||[]}catch(w){return console.error("Error al obtener búsquedas del usuario:",w),[]}},getSearchResults:async w=>{try{const{data:p,error:v}=await ue.from("ai_search_results").select("*").eq("search_id",w).order("created_at",{ascending:!1});return v?(console.error("Error al obtener resultados:",v),[]):p||[]}catch(p){return console.error("Error al obtener resultados de búsqueda:",p),[]}},clearError:()=>c(null)}}function _Y(){const{isPro:e}=qe(),t=or(),{savedSearches:r,isLoading:n,error:s,deleteSavedSearch:i,toggleFavorite:o,updateLastRun:l,clearError:c}=jY(),{executeSearch:u}=NY(),[d,f]=g.useState(null);if(!e)return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs(kr,{variant:"warning",className:"mb-6",children:[a.jsx(wi,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Plan Pro Requerido"}),a.jsxs("p",{className:"text-sm mt-1",children:["Las búsquedas guardadas están disponibles solo para usuarios Pro.",a.jsx("a",{href:"/app/plans",className:"underline font-medium ml-1",children:"Actualizar plan"})]})]})]})})});const h=async x=>{f(x.id),c(),await u(x.original_query,x.search_parameters),await l(x.id),f(null),t("/app/ai-search")},m=async x=>{confirm("¿Estás seguro de que quieres eliminar esta búsqueda guardada?")&&await i(x)},w=async x=>{await o(x)},p=x=>new Date(x).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=r.filter(x=>x.is_favorite),y=r.filter(x=>!x.is_favorite);return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Búsquedas Guardadas"}),a.jsx("p",{className:"text-gray-600",children:"Gestiona y repite tus búsquedas de convocatorias favoritas"})]}),a.jsxs(B,{onClick:()=>t("/app/ai-search"),children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Nueva Búsqueda"]})]})}),n&&a.jsx(X,{children:a.jsx(Q,{className:"py-8",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(ws,{size:"sm"}),a.jsx("span",{children:"Cargando búsquedas guardadas..."})]})})}),s&&a.jsxs(kr,{variant:"destructive",className:"mb-6",children:[a.jsx(wi,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Error"}),a.jsx("p",{className:"text-sm mt-1",children:s})]})]}),!n&&r.length===0&&a.jsx(X,{children:a.jsxs(Q,{className:"py-12 text-center",children:[a.jsx(Xw,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tienes búsquedas guardadas"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Guarda tus búsquedas para poder repetirlas fácilmente"}),a.jsxs(B,{onClick:()=>t("/app/ai-search"),children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Hacer Nueva Búsqueda"]})]})}),v.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(cf,{className:"h-5 w-5 text-yellow-500"}),"Favoritas"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(x=>a.jsx(z1,{savedSearch:x,onRun:h,onDelete:m,onToggleFavorite:w,isRunning:d===x.id,formatDate:p},x.id))})]}),y.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Xw,{className:"h-5 w-5"}),"Todas las Búsquedas",a.jsx(K,{variant:"secondary",children:y.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(x=>a.jsx(z1,{savedSearch:x,onRun:h,onDelete:m,onToggleFavorite:w,isRunning:d===x.id,formatDate:p},x.id))})]})]})})}function z1({savedSearch:e,onRun:t,onDelete:r,onToggleFavorite:n,isRunning:s,formatDate:i}){const o=Object.keys(e.search_parameters||{}).length>0;return a.jsxs(X,{className:re("transition-all duration-200 hover:shadow-lg",e.is_favorite&&"ring-2 ring-yellow-200"),children:[a.jsxs(ne,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx(ie,{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.search_name}),a.jsx(B,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:"text-yellow-500 hover:text-yellow-600",children:a.jsx(cf,{className:re("h-4 w-4",e.is_favorite&&"fill-current")})})]}),a.jsx(ge,{className:"text-sm text-gray-600 line-clamp-2",children:e.original_query})]}),a.jsxs(Q,{className:"pt-0 space-y-3",children:[o&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 mb-1",children:[a.jsx(ca,{className:"h-3 w-3"}),"Filtros aplicados:"]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.search_parameters.sector&&a.jsx(K,{variant:"outline",className:"text-xs",children:e.search_parameters.sector}),e.search_parameters.location&&a.jsx(K,{variant:"outline",className:"text-xs",children:e.search_parameters.location}),e.search_parameters.type&&a.jsx(K,{variant:"outline",className:"text-xs",children:e.search_parameters.type})]})]}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Pt,{className:"h-3 w-3"}),"Creada: ",i(e.created_at)]}),e.last_run&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Oa,{className:"h-3 w-3"}),"Última ejecución: ",i(e.last_run)]})]}),a.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:[a.jsx(B,{size:"sm",onClick:()=>t(e),disabled:s,className:"flex-1",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ws,{size:"sm",className:"mr-1"}),"Ejecutando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(t5,{className:"mr-1 h-3 w-3"}),"Repetir"]})}),a.jsx(B,{variant:"outline",size:"sm",onClick:()=>r(e.id),disabled:s,children:a.jsx(xx,{className:"h-3 w-3"})})]})]})]})}function SY(){const{user:e}=qe(),[t,r]=g.useState([]),[n,s]=g.useState(!1),[i,o]=g.useState(null);g.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(!e){o("Debe estar autenticado");return}s(!0),o(null);try{console.log("📂 Cargando convocatorias guardadas...");const{data:m,error:w}=await ue.functions.invoke("manage-saved-convocatorias-fixed",{method:"GET"});if(w)throw console.error("❌ Error en función:",w),new Error(w.message||"Error al cargar convocatorias guardadas");if(m!=null&&m.error)throw console.error("❌ Error en data:",m.error),new Error(m.error.message||"Error al cargar convocatorias guardadas");console.log("✅ Convocatorias guardadas cargadas:",m.data.saved_convocatorias),r(m.data.saved_convocatorias||[])}catch(m){console.error("❌ Error cargando convocatorias guardadas:",m),o(m instanceof Error?m.message:"Error al cargar convocatorias guardadas")}finally{s(!1)}};return{savedConvocatorias:t,isLoading:n,error:i,loadSavedConvocatorias:l,saveConvocatoria:async m=>{if(!e)return o("Debe estar autenticado"),!1;if(!m.title.trim())return o("El título es requerido"),!1;o(null);try{console.log("💾 Guardando convocatoria:",m);const{data:w,error:p}=await ue.functions.invoke("manage-saved-convocatorias-fixed",{method:"POST",body:m});if(p)throw console.error("❌ Error en función:",p),new Error(p.message||"Error al guardar convocatoria");if(w!=null&&w.error)throw console.error("❌ Error en data:",w.error),new Error(w.error.message||"Error al guardar convocatoria");return console.log("✅ Convocatoria guardada:",w.data.saved_convocatoria),r(v=>[w.data.saved_convocatoria,...v]),!0}catch(w){return console.error("❌ Error guardando convocatoria:",w),o(w instanceof Error?w.message:"Error al guardar convocatoria"),!1}},updateConvocatoria:async(m,w)=>{if(!e)return o("Debe estar autenticado"),!1;o(null);try{console.log("📝 Actualizando convocatoria:",{id:m,convocatoriaData:w});const{data:p,error:v}=await ue.functions.invoke("manage-saved-convocatorias-fixed",{method:"PUT",body:{id:m,...w}});if(v)throw console.error("❌ Error en función:",v),new Error(v.message||"Error al actualizar convocatoria");if(p!=null&&p.error)throw console.error("❌ Error en data:",p.error),new Error(p.error.message||"Error al actualizar convocatoria");return console.log("✅ Convocatoria actualizada:",p.data.updated_convocatoria),r(y=>y.map(x=>x.id===m?{...x,...p.data.updated_convocatoria}:x)),!0}catch(p){return console.error("❌ Error actualizando convocatoria:",p),o(p instanceof Error?p.message:"Error al actualizar convocatoria"),!1}},deleteConvocatoria:async m=>{if(!e)return o("Debe estar autenticado"),!1;o(null);try{console.log("🗑️ Eliminando convocatoria:",m);const{data:w,error:p}=await ue.functions.invoke("manage-saved-convocatorias-fixed",{method:"DELETE",body:{id:m}});if(p)throw console.error("❌ Error en función:",p),new Error(p.message||"Error al eliminar convocatoria");if(w!=null&&w.error)throw console.error("❌ Error en data:",w.error),new Error(w.error.message||"Error al eliminar convocatoria");return console.log("✅ Convocatoria eliminada"),r(v=>v.filter(y=>y.id!==m)),!0}catch(w){return console.error("❌ Error eliminando convocatoria:",w),o(w instanceof Error?w.message:"Error al eliminar convocatoria"),!1}},searchSavedConvocatorias:m=>{if(!m.trim())return t;const w=m.toLowerCase();return t.filter(p=>{var v,y,x;return p.title.toLowerCase().includes(w)||((v=p.description)==null?void 0:v.toLowerCase().includes(w))||((y=p.organization)==null?void 0:y.toLowerCase().includes(w))||((x=p.tags)==null?void 0:x.some(b=>b.toLowerCase().includes(w)))})},filterByDeadline:m=>{const w=new Date;return w.setDate(w.getDate()+m),t.filter(p=>p.deadline?new Date(p.deadline)<=w:!1)},clearError:()=>o(null)}}function CY(){const[e,t]=g.useState(!1),[r,n]=g.useState(null);return{isExporting:e,error:r,exportResults:async(o,l)=>{if(!o||o.length===0)return n("No hay resultados para exportar"),!1;if(!["txt","excel","pdf"].includes(l.format))return n("Formato de exportación no válido"),!1;t(!0),n(null);try{console.log("📤 Iniciando exportación:",{resultsCount:o.length,format:l.format});const{data:c,error:u}=await ue.functions.invoke("export-search-results",{body:{results:o,format:l.format,filename:l.filename}});if(u)throw console.error("❌ Error en función de exportación:",u),new Error(u.message||"Error al exportar resultados");if(c!=null&&c.error)throw console.error("❌ Error en data de exportación:",c.error),new Error(c.error.message||"Error al exportar resultados");console.log("✅ Exportación exitosa");const d=new Blob([c],{type:EY(l.format)}),f=window.URL.createObjectURL(d),h=document.createElement("a");h.href=f;const m=l.filename||kY(l.format);return h.download=m,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(f),!0}catch(c){return console.error("❌ Error en exportación:",c),n(c instanceof Error?c.message:"Error al exportar resultados"),!1}finally{t(!1)}},exportResultsLocal:(o,l,c)=>{t(!0),n(null);try{let u,d,f;switch(l){case"txt":u=PY(o),d="text/plain",f="txt";break;case"excel":u=TY(o),d="text/csv",f="csv";break;case"pdf":u=AY(o),d="text/html",f="html";break;default:throw new Error("Formato no soportado")}const h=new Blob([u],{type:d}),m=window.URL.createObjectURL(h),w=document.createElement("a");return w.href=m,w.download=c||`convocatorias_${new Date().toISOString().split("T")[0]}.${f}`,document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(m),!0}catch(u){return console.error("❌ Error en exportación local:",u),n(u instanceof Error?u.message:"Error al exportar resultados"),!1}finally{t(!1)}},clearError:()=>n(null)}}function EY(e){switch(e){case"txt":return"text/plain; charset=utf-8";case"excel":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"pdf":return"application/pdf";default:return"text/plain"}}function kY(e){return`convocatorias_${new Date().toISOString().split("T")[0]}.${e==="excel"?"xlsx":e}`}function PY(e){let t=`CONVOCATORIAS - REPORTE DE BÚSQUEDA
`;return t+="=".repeat(50)+`

`,t+=`Fecha de generación: ${new Date().toLocaleString("es-CL")}
`,t+=`Total de convocatorias: ${e.length}

`,e.forEach((r,n)=>{var s,i,o;t+=`${n+1}. ${r.title||"Sin título"}
`,t+="-".repeat(30)+`
`,t+=`Organización: ${((s=r.validated_data)==null?void 0:s.organization)||"No especificada"}
`,t+=`Descripción: ${r.description||"Sin descripción"}
`,t+=`Fecha límite: ${r.deadline||"No especificada"}
`,t+=`Monto: ${r.amount||"No especificado"}
`,t+=`Requisitos: ${r.requirements||"No especificados"}
`,t+=`Sitio web: ${r.source_url||"No disponible"}
`,t+=`Categoría: ${((i=r.validated_data)==null?void 0:i.category)||"General"}
`,(o=r.validated_data)!=null&&o.tags&&r.validated_data.tags.length>0&&(t+=`Etiquetas: ${r.validated_data.tags.join(", ")}
`),t+=`
`}),t}function TY(e){let t=`Título,Organización,Descripción,Fecha Límite,Monto,Requisitos,Sitio Web,Categoría,Etiquetas
`;return e.forEach(r=>{var s,i,o;const n=[`"${(r.title||"").replace(/"/g,'""')}"`,`"${(((s=r.validated_data)==null?void 0:s.organization)||"").replace(/"/g,'""')}"`,`"${(r.description||"").replace(/"/g,'""')}"`,`"${r.deadline||""}"`,`"${(r.amount||"").replace(/"/g,'""')}"`,`"${(r.requirements||"").replace(/"/g,'""')}"`,`"${r.source_url||""}"`,`"${((i=r.validated_data)==null?void 0:i.category)||"General"}"`,`"${(o=r.validated_data)!=null&&o.tags?r.validated_data.tags.join(", "):""}"`];t+=n.join(",")+`
`}),t}function AY(e){let t=`
  <!DOCTYPE html>
  <html>
  <head>
      <meta charset="UTF-8">
      <title>Convocatorias - Reporte</title>
      <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #2c3e50; border-bottom: 2px solid #3498db; }
          .convocatoria { margin-bottom: 25px; padding: 15px; border: 1px solid #ddd; }
          .title { font-size: 18px; font-weight: bold; color: #2c3e50; }
          .organization { font-size: 14px; color: #7f8c8d; margin-bottom: 10px; }
          .detail { margin: 5px 0; }
          .label { font-weight: bold; }
      </style>
  </head>
  <body>
      <h1>Convocatorias - Reporte de Búsqueda</h1>
      <p><strong>Fecha de generación:</strong> ${new Date().toLocaleString("es-CL")}</p>
      <p><strong>Total de convocatorias:</strong> ${e.length}</p>
      <hr>
  `;return e.forEach((r,n)=>{var s,i,o;t+=`
    <div class="convocatoria">
        <div class="title">${n+1}. ${r.title||"Sin título"}</div>
        <div class="organization">${((s=r.validated_data)==null?void 0:s.organization)||"Organización no especificada"}</div>
        <div class="detail"><span class="label">Descripción:</span> ${r.description||"Sin descripción"}</div>
        <div class="detail"><span class="label">Fecha límite:</span> ${r.deadline||"No especificada"}</div>
        <div class="detail"><span class="label">Monto:</span> ${r.amount||"No especificado"}</div>
        <div class="detail"><span class="label">Requisitos:</span> ${r.requirements||"No especificados"}</div>
        <div class="detail"><span class="label">Sitio web:</span> ${r.source_url||"No disponible"}</div>
        <div class="detail"><span class="label">Categoría:</span> ${((i=r.validated_data)==null?void 0:i.category)||"General"}</div>
        ${(o=r.validated_data)!=null&&o.tags&&r.validated_data.tags.length>0?`<div class="detail"><span class="label">Etiquetas:</span> ${r.validated_data.tags.join(", ")}</div>`:""}
    </div>
    `}),t+=`
  </body>
  </html>
  `,t}function RY(){const{savedConvocatorias:e,isLoading:t,error:r,loadSavedConvocatorias:n,deleteConvocatoria:s,searchSavedConvocatorias:i,clearError:o}=SY(),{exportResultsLocal:l,isExporting:c}=CY(),[u,d]=g.useState(""),[f,h]=g.useState("all"),[m,w]=g.useState([]),[p,v]=g.useState(null);g.useEffect(()=>{let S=[...e];switch(u.trim()&&(S=i(u)),f){case"urgent":S=S.filter(E=>{if(!E.deadline)return!1;const P=y(E.deadline);return P!==null&&P>0&&P<=30});break;case"expired":S=S.filter(E=>{if(!E.deadline)return!1;const P=y(E.deadline);return P!==null&&P<0});break;case"active":S=S.filter(E=>{if(!E.deadline)return!0;const P=y(E.deadline);return P===null||P>=0});break}w(S)},[e,u,f,i]);const y=S=>{const E=new Date(S),P=new Date,C=E.getTime()-P.getTime();return Math.ceil(C/(1e3*60*60*24))},x=async(S,E)=>{if(!(p||!window.confirm(`¿Estás seguro de que deseas eliminar "${E}"?`))){v(S),console.log("🗑️ Eliminando convocatoria guardada:",{id:S,title:E});try{await s(S)&&console.log("✅ Convocatoria eliminada correctamente")}catch(C){console.error("❌ Error al eliminar convocatoria:",C)}finally{v(null)}}},b=S=>{console.log("📤 Exportando convocatorias guardadas:",{format:S,count:m.length});const E=m.map(C=>({id:C.id,title:C.title,description:C.description||"",deadline:C.deadline||"",amount:C.amount||"",requirements:C.requirements||"",source_url:C.source_url||"",validated_data:{organization:C.organization||"",tags:C.tags||[],category:"Guardada"}}));l(E,S)&&console.log("✅ Exportación de convocatorias guardadas completada")},j=S=>{const E=S.deadline?new Date(S.deadline):new Date,P=new Date(E.getTime()+60*60*1e3),C=M=>M.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:`Convocatoria: ${S.title}`,dates:`${C(E)}/${C(P)}`,details:`${S.description||""}

Organización: ${S.organization||"No especificada"}
Monto: ${S.amount||"No especificado"}

Ver más: ${S.source_url||""}`,location:S.organization||"",trp:"false"}).toString()}`},N=S=>{switch(S){case"all":return"Todas";case"active":return"Activas";case"urgent":return"Urgentes (≤30 días)";case"expired":return"Vencidas";default:return"Todas"}},k=S=>{switch(S){case"all":return e.length;case"active":return e.filter(E=>{if(!E.deadline)return!0;const P=y(E.deadline);return P===null||P>=0}).length;case"urgent":return e.filter(E=>{if(!E.deadline)return!1;const P=y(E.deadline);return P!==null&&P>0&&P<=30}).length;case"expired":return e.filter(E=>{if(!E.deadline)return!1;const P=y(E.deadline);return P!==null&&P<0}).length;default:return 0}};return r?a.jsx(X,{children:a.jsx(Q,{className:"py-8 text-center",children:a.jsxs("div",{className:"text-red-500",children:[a.jsx(Bo,{className:"h-8 w-8 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error al cargar convocatorias"}),a.jsx("p",{className:"text-sm mb-4",children:r}),a.jsxs(B,{onClick:()=>{o(),n()},variant:"outline",children:[a.jsx(oh,{className:"mr-2 h-4 w-4"}),"Reintentar"]})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Convocatorias Guardadas"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gestiona y revisa tus convocatorias guardadas"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lC,{className:"h-5 w-5 text-red-500"}),a.jsxs(K,{variant:"secondary",children:[e.length," guardada",e.length!==1?"s":""]})]})]}),a.jsx(X,{children:a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(Ce,{placeholder:"Buscar por título, descripción, organización o tags...",value:u,onChange:S=>d(S.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(iC,{className:"h-4 w-4 text-gray-500"}),a.jsxs(St,{value:f,onValueChange:S=>h(S),children:[a.jsx(gt,{className:"w-[180px]",children:a.jsx(Ct,{placeholder:"Filtrar por..."})}),a.jsxs(vt,{children:[a.jsxs(se,{value:"all",children:[N("all")," (",k("all"),")"]}),a.jsxs(se,{value:"active",children:[N("active")," (",k("active"),")"]}),a.jsxs(se,{value:"urgent",children:[N("urgent")," (",k("urgent"),")"]}),a.jsxs(se,{value:"expired",children:[N("expired")," (",k("expired"),")"]})]})]})]})]}),m.length>0&&a.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[a.jsx(Or,{className:"h-4 w-4 text-gray-500"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Exportar ",m.length," convocatoria",m.length!==1?"s":"",":"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>b("txt"),disabled:c,className:"gap-1",children:[a.jsx(Dr,{className:"h-3 w-3"}),"TXT"]}),a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>b("excel"),disabled:c,className:"gap-1",children:[a.jsx(aC,{className:"h-3 w-3"}),"CSV"]}),a.jsxs(B,{size:"sm",variant:"outline",onClick:()=>b("pdf"),disabled:c,className:"gap-1",children:[a.jsx(qL,{className:"h-3 w-3"}),"HTML"]})]})]})]})})}),t?a.jsx(X,{children:a.jsxs(Q,{className:"py-12 text-center",children:[a.jsx(fg,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cargando convocatorias..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Por favor espera mientras cargamos tus convocatorias guardadas."})]})}):m.length===0?a.jsx(X,{children:a.jsx(Q,{className:"py-12 text-center",children:a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx(LL,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:u||f!=="all"?"No se encontraron convocatorias":"Sin convocatorias guardadas"}),a.jsx("p",{className:"text-sm",children:u||f!=="all"?"Prueba ajustando los filtros de búsqueda.":"Comienza guardando convocatorias desde los resultados de búsqueda IA."}),(u||f!=="all")&&a.jsx(B,{variant:"outline",className:"mt-4",onClick:()=>{d(""),h("all")},children:"Limpiar filtros"})]})})}):a.jsx("div",{className:"space-y-4",children:m.map(S=>{const E=S.deadline?y(S.deadline):null,P=E!==null&&E<=30&&E>0,C=E!==null&&E<0;return a.jsx(X,{className:re("border-l-4",C&&"border-l-red-500 opacity-75",P&&"border-l-orange-500",!P&&!C&&"border-l-blue-500"),children:a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:S.title}),S.organization&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(ah,{className:"h-3 w-3"}),S.organization]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsxs(K,{variant:"outline",className:"text-xs",children:["Guardada ",new Date(S.created_at).toLocaleDateString()]}),C&&a.jsx(K,{variant:"destructive",className:"text-xs",children:"Vencida"}),P&&a.jsx(K,{variant:"default",className:"text-xs bg-orange-500",children:"Urgente"})]})]}),S.description&&a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:S.description}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[S.amount&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hx,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"font-semibold text-green-700",children:S.amount})]}),S.deadline&&a.jsxs("div",{className:re("flex items-center gap-2",P&&"text-orange-600",C&&"text-red-600"),children:[a.jsx(Oa,{className:"h-4 w-4"}),a.jsxs("span",{className:"font-medium",children:[new Date(S.deadline).toLocaleDateString(),E!==null&&a.jsxs("span",{className:"ml-1 text-xs",children:["(",E>0?`${E} días`:"Vencida",")"]})]}),P&&a.jsx(Bo,{className:"h-3 w-3 text-orange-500"})]}),S.requirements&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"truncate text-blue-700",children:"Ver requisitos"})]})]}),S.tags&&S.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:S.tags.map((A,M)=>a.jsxs(K,{variant:"outline",className:"text-xs",children:[a.jsx(vx,{className:"h-2 w-2 mr-1"}),A]},M))}),S.notes&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(s5,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Notas:"}),a.jsx("p",{className:"text-sm text-yellow-700",children:S.notes})]})]})}),S.requirements&&a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Dr,{className:"h-4 w-4 text-gray-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:"Requisitos:"}),a.jsx("p",{className:"text-sm text-gray-700",children:S.requirements})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pt-2 border-t border-gray-200 gap-2",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.deadline&&a.jsx(B,{size:"sm",variant:"outline",asChild:!0,className:"min-w-0 flex-shrink-0",children:a.jsxs("a",{href:j(S),target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Pt,{className:"mr-1 h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:"Agregar al Calendario"}),a.jsx("span",{className:"sm:hidden",children:"📅"})]})}),a.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>x(S.id,S.title),disabled:p===S.id,className:"min-w-0 flex-shrink-0",children:[p===S.id?a.jsx(fg,{className:"mr-1 h-3 w-3 animate-spin"}):a.jsx(xx,{className:"mr-1 h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:"Eliminar"}),a.jsx("span",{className:"sm:hidden",children:"🗑️"})]})]}),S.source_url&&a.jsx(B,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs("a",{href:S.source_url,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(ih,{className:"mr-1 h-3 w-3"}),"Ver Original"]})})]})]})})},S.id)})})]})}function MY(){return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx(RY,{})})})}function DY(){const{user:e,isPro:t}=qe(),{getAvailableModels:r}=kA(),[n,s]=g.useState([]),[i,o]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState(!0),[f,h]=g.useState(!1),[m,w]=g.useState(null),[p,v]=g.useState(!1),[y,x]=g.useState("openrouter");g.useEffect(()=>{b()},[]);const b=async()=>{var S,E;try{d(!0),w(null);const{data:P,error:C}=await ue.functions.invoke("get-available-models");if(C){console.error("Error al cargar modelos gratuitos:",C),w("No se pudieron cargar los modelos gratuitos disponibles. Verifica la configuración de la API.");return}if(!((S=P==null?void 0:P.data)!=null&&S.models)){w("No se recibieron modelos gratuitos válidos de la API.");return}const A=P.data.models;s(A);const M=r();o(M.map(z=>({...z,enabled:!0})));const{data:R,error:L}=await ue.functions.invoke("manage-ai-config-fixed",{method:"GET"});let U=[];L?console.warn("No se pudo cargar configuración previa:",L):(E=R==null?void 0:R.data)!=null&&E.configs&&(U=R.data.configs),c(U);const V=A.map(z=>{const D=U.find(I=>I.model_name===z.id);return{...z,enabled:(D==null?void 0:D.enabled)||!1}});if(s(V),U.length===0&&A.length>0){const z=Math.min(3,A.length),D=V.map((I,G)=>({...I,enabled:G<z}));s(D),v(!0)}}catch(P){console.error("Error al cargar datos:",P),w("Error al cargar la configuración. Inténtalo de nuevo."),s([]),o([]),c([])}finally{d(!1)}},j=S=>{if(!Array.isArray(n)||n.length===0){W({title:"Error",description:"No hay modelos disponibles para configurar.",variant:"destructive"});return}s(E=>{const P=E.map(A=>A.id===S?{...A,enabled:!A.enabled}:A);return P.filter(A=>A.enabled).length===0?(W({title:"Error",description:"Debe haber al menos un modelo habilitado.",variant:"destructive"}),E):(v(!0),P)})},N=async()=>{if(e){if(!Array.isArray(n)||n.length===0){w("No hay modelos configurados para guardar.");return}try{h(!0),w(null);const{data:S,error:E}=await ue.functions.invoke("manage-ai-config-fixed",{body:{models:n}});if(E)throw E;v(!1),W({title:"Configuración guardada",description:"Los modelos de IA han sido configurados correctamente."})}catch(S){console.error("Error al guardar configuración:",S),w("Error al guardar la configuración. Inténtalo de nuevo."),W({title:"Error",description:"No se pudo guardar la configuración.",variant:"destructive"})}finally{h(!1)}}},k=()=>{s(S=>S.map((E,P)=>({...E,enabled:P===0}))),v(!0)};return u?a.jsxs("div",{className:"flex items-center justify-center h-96",children:[a.jsx(ws,{}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:"Cargando configuración de IA..."})]}):a.jsx(_T,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[a.jsx(ca,{className:"w-8 h-8 text-primary"}),"Configuración IA Multi-Proveedor"]}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Configura los modelos de inteligencia artificial: OpenRouter, Gemini Direct y Flujo Inteligente"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(B,{variant:"outline",onClick:k,disabled:f,className:"gap-2",children:[a.jsx(eb,{className:"w-4 h-4"}),"Restablecer"]}),a.jsxs(B,{onClick:N,disabled:!p||f,className:"gap-2",children:[a.jsx(He,{className:"w-4 h-4"}),f?"Guardando...":"Guardar Configuración"]})]})]}),t&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[a.jsx(kt,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium text-primary",children:"Plan Pro Activo"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Acceso completo a todas las funciones de IA"})]}),m&&a.jsxs(kr,{variant:"destructive",children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx(ts,{children:m})]}),a.jsxs(Mi,{value:y,onValueChange:x,className:"w-full",children:[a.jsxs(Fa,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ze,{value:"openrouter",className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-4 h-4"}),"OpenRouter"]}),a.jsxs(Ze,{value:"gemini",className:"flex items-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"}),"Gemini"]}),a.jsxs(Ze,{value:"smart-flow",className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4"}),"Flujo Inteligente"]})]}),a.jsx(tt,{value:"openrouter",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-5 h-5"}),"Modelos OpenRouter Gratuitos"]}),a.jsx(ge,{children:"Configura qué modelos usar para validación cruzada"})]}),a.jsx(Q,{className:"space-y-4",children:!Array.isArray(n)||n.length===0?a.jsx("div",{className:"flex items-center justify-center p-8 text-center",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(Bo,{className:"w-8 h-8 text-amber-500 mx-auto"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay modelos de OpenRouter disponibles."}),a.jsxs(B,{variant:"outline",size:"sm",onClick:b,disabled:u,children:[a.jsx(eb,{className:"w-4 h-4 mr-2"}),"Reintentar"]})]})}):n.map(S=>a.jsxs(Zt.div,{className:"flex items-center justify-between p-4 border rounded-lg",whileHover:{scale:1.01},children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:S.name}),a.jsx(K,{variant:"secondary",children:"Gratuito"}),S.enabled&&a.jsx(K,{className:"bg-green-100 text-green-800",children:"Activo"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:S.description}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-2",children:[a.jsxs("span",{children:["Contexto: ",(S.context_length||0).toLocaleString()]}),a.jsxs("span",{children:["Por: ",S.owned_by]})]})]}),a.jsx(mo,{checked:S.enabled||!1,onCheckedChange:()=>j(S.id),disabled:f})]},S.id))})]})}),a.jsx(tt,{value:"gemini",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"w-5 h-5 text-blue-500"}),"Modelos Gemini 2.5"]}),a.jsx(ge,{children:"Modelos de Google para búsqueda directa y procesamiento avanzado"})]}),a.jsx(Q,{className:"space-y-4",children:!Array.isArray(i)||i.length===0?a.jsx("div",{className:"flex items-center justify-center p-8 text-center",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(nt,{className:"w-8 h-8 text-blue-500 mx-auto"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cargando modelos de Gemini..."})]})}):i.map(S=>a.jsxs(Zt.div,{className:"flex items-center justify-between p-4 border rounded-lg bg-blue-50/50 border-blue-200",whileHover:{scale:1.01},children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:S.name}),a.jsx(K,{className:"bg-blue-100 text-blue-800",children:"Google"}),a.jsx(K,{variant:"outline",children:"Gratuito"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:S.description}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-2",children:[a.jsxs("span",{children:["Tokens: ",(S.maxTokens||0).toLocaleString()]}),a.jsxs("span",{children:["Contexto: ",(S.contextWindow||0).toLocaleString()]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(S.optimal_for||[]).map(E=>a.jsx(K,{variant:"outline",className:"text-xs",children:E},E))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"text-sm text-green-600",children:"Disponible"})]})]},S.id))})]})}),a.jsx(tt,{value:"smart-flow",className:"space-y-6",children:a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-5 h-5 text-green-500"}),"Flujo Inteligente Gemini",a.jsx(K,{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white",children:"✨ Recomendado"})]}),a.jsx(ge,{children:"Procesamiento optimizado de 2 pasos para máxima precisión"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(X,{className:"border-green-200 bg-green-50/50",children:[a.jsx(ne,{className:"pb-3",children:a.jsxs(ie,{className:"text-base flex items-center gap-2",children:[a.jsx(kn,{className:"w-4 h-4 text-green-500"}),"Paso 1: Lista Rápida"]})}),a.jsxs(Q,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Gemini 2.5 Flash-Lite"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Genera una lista rápida de posibles programas y oportunidades de financiamiento."}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("div",{children:"• Respuesta en ~5-10 segundos"}),a.jsx("div",{children:"• Enfoque en nombres y organizaciones"}),a.jsx("div",{children:"• Base para análisis detallado"})]})]})]}),a.jsxs(X,{className:"border-blue-200 bg-blue-50/50",children:[a.jsx(ne,{className:"pb-3",children:a.jsxs(ie,{className:"text-base flex items-center gap-2",children:[a.jsx(Qr,{className:"w-4 h-4 text-blue-500"}),"Paso 2: Análisis Completo"]})}),a.jsxs(Q,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Gemini 2.5 Pro"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Procesa la lista inicial para generar información detallada y verificable."}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("div",{children:"• Análisis detallado en ~20-30 segundos"}),a.jsx("div",{children:"• Información completa y estructurada"}),a.jsx("div",{children:"• Validación y verificación de datos"})]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-4 rounded-lg",children:[a.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-green-600"}),"Ventajas del Flujo Inteligente"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Máxima precisión"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Resultados más relevantes"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Información estructurada"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Proceso automático"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Totalmente gratuito"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Optimizado para Chile"})]})]})]})]})]})]})})]}),t&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[a.jsx(kt,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-primary",children:"Plan Pro Activo"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Acceso completo a todos los proveedores IA"})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsx(ie,{className:"text-lg",children:"Información de Configuración"}),a.jsx(ge,{children:"Todos los proveedores están disponibles y optimizados para convocatorias chilenas"})]}),a.jsx(Q,{className:"space-y-4",children:a.jsxs("div",{className:"text-sm space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"OpenRouter:"}),a.jsx("p",{className:"text-muted-foreground",children:"Múltiples modelos gratuitos con validación cruzada"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Gemini Direct:"}),a.jsx("p",{className:"text-muted-foreground",children:"Acceso directo a Gemini 2.5 Pro para respuestas rápidas"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Flujo Inteligente:"}),a.jsx("p",{className:"text-muted-foreground",children:"Proceso optimizado de 2 pasos para máxima precisión"})]})]})]})})]}),a.jsxs(X,{children:[a.jsxs(ne,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(ca,{className:"w-5 h-5"}),"Personalización Avanzada"]}),a.jsx(ge,{children:"Configura y personaliza los prompts utilizados por cada proveedor de IA"})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(ca,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Editor de Prompts"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Personaliza los prompts para OpenRouter, Gemini Flash-Lite y Gemini Pro"})]})]}),a.jsxs(B,{variant:"outline",onClick:()=>window.location.href="/app/prompt-editor",className:"gap-2",children:[a.jsx(ca,{className:"w-4 h-4"}),"Abrir Editor"]})]})})]})]})})}function IY(){const{user:e,isPro:t}=qe(),[r,n]=g.useState({}),[s,i]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(""),[h,m]=g.useState(null),[w,p]=g.useState("openrouter"),[v,y]=g.useState(!1);g.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0);const{data:A,error:M}=await ue.functions.invoke("manage-custom-prompts",{body:{action:"get"}});if(M)throw new Error(M.message||"Error al cargar prompts");n(A.data.prompts),console.log("✅ Prompts cargados:",A.data.prompts)}catch(A){console.error("❌ Error cargando prompts:",A),W.error("No se pudieron cargar los prompts personalizados")}finally{i(!1)}},b=A=>{var M;u(A),f(((M=r[A])==null?void 0:M.current_prompt)||""),y(!1)},j=()=>{u(null),f(""),m(null),y(!1)},N=async A=>{if(!d.trim()){W.error("El prompt no puede estar vacío");return}try{l(!0);const{data:M,error:R}=await ue.functions.invoke("manage-custom-prompts",{body:{action:"save",prompt_type:A,custom_prompt:d}});if(R)throw new Error(R.message||"Error al guardar prompt");n(L=>({...L,[A]:{...L[A],current_prompt:d,is_custom:!0,char_count:d.length,last_modified:new Date().toISOString()}})),u(null),f(""),y(!1),W.success("Prompt personalizado guardado exitosamente")}catch(M){console.error("❌ Error guardando prompt:",M),W.error("No se pudo guardar el prompt personalizado")}finally{l(!1)}},k=async A=>{var M;try{const{data:R,error:L}=await ue.functions.invoke("manage-custom-prompts",{body:{action:"reset",prompt_type:A}});if(L)throw new Error(L.message||"Error al restablecer prompt");n(U=>({...U,[A]:{...U[A],current_prompt:U[A].default_prompt,is_custom:!1,char_count:U[A].default_prompt.length}})),c===A&&f(((M=r[A])==null?void 0:M.default_prompt)||""),W.success("Prompt restablecido a configuración por defecto")}catch(R){console.error("❌ Error restableciendo prompt:",R),W.error("No se pudo restablecer el prompt")}},S=async A=>{try{const{data:M,error:R}=await ue.functions.invoke("manage-custom-prompts",{body:{action:"preview",prompt_type:A,custom_prompt:d}});if(R)throw new Error(R.message||"Error en vista previa");m(M.data.preview)}catch(M){console.error("❌ Error en vista previa:",M),W.error("No se pudo generar vista previa")}},E=A=>{var M;f(A),y(A!==((M=r[c])==null?void 0:M.current_prompt))},P=A=>{switch(A){case"openrouter":return a.jsx(Qr,{className:"w-5 h-5 text-green-600"});case"gemini_flash":return a.jsx(kn,{className:"w-5 h-5 text-yellow-600"});case"gemini_pro":return a.jsx(nt,{className:"w-5 h-5 text-blue-600"});default:return a.jsx(wd,{className:"w-5 h-5 text-gray-600"})}},C=A=>A>=80?"text-green-600":A>=60?"text-yellow-600":"text-red-600";return s?a.jsxs("div",{className:"flex items-center justify-center h-96",children:[a.jsx(ws,{}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:"Cargando editor de prompts..."})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[a.jsx(wd,{className:"w-8 h-8 text-primary"}),"Editor de Prompts"]}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Personaliza los prompts utilizados por los diferentes proveedores de IA"})]})}),t&&a.jsxs(kr,{className:"border-primary/20 bg-primary/5",children:[a.jsx(He,{className:"h-4 w-4 text-primary"}),a.jsxs(ts,{className:"text-primary",children:[a.jsx("strong",{children:"Plan Pro Activo:"})," Tienes acceso completo al editor de prompts personalizados"]})]}),a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(GL,{className:"w-5 h-5"}),"Variables Disponibles"]})}),a.jsx(Q,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{variant:"outline",children:"[CONSULTA_USUARIO]"}),a.jsx("p",{className:"text-muted-foreground",children:"La consulta ingresada por el usuario"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{variant:"outline",children:"[LISTA_PASO_1]"}),a.jsx("p",{className:"text-muted-foreground",children:"Resultados del primer paso (flujo inteligente)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{variant:"outline",children:"[UBICACION_DETECTADA]"}),a.jsx("p",{className:"text-muted-foreground",children:"Ubicación geográfica detectada automáticamente"})]})]})})]}),a.jsxs(Mi,{value:w,onValueChange:p,className:"w-full",children:[a.jsxs(Fa,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ze,{value:"openrouter",className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-4 h-4"}),"OpenRouter"]}),a.jsxs(Ze,{value:"gemini_flash",className:"flex items-center gap-2",children:[a.jsx(kn,{className:"w-4 h-4"}),"Gemini Flash"]}),a.jsxs(Ze,{value:"gemini_pro",className:"flex items-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"}),"Gemini Pro"]})]}),Object.entries(r).map(([A,M])=>a.jsx(tt,{value:A,className:"space-y-6",children:a.jsxs(X,{children:[a.jsx(ne,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[P(A),a.jsxs("div",{children:[a.jsx(ie,{children:M.title}),a.jsx(ge,{children:M.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[M.is_custom&&a.jsx(K,{variant:"secondary",children:"Personalizado"}),a.jsxs(K,{variant:"outline",children:[M.char_count," caracteres"]})]})]})}),a.jsxs(Q,{className:"space-y-4",children:[c===A?a.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{htmlFor:`prompt-${A}`,children:"Prompt Personalizado"}),a.jsx(ss,{id:`prompt-${A}`,value:d,onChange:R=>E(R.target.value),rows:12,className:"font-mono text-sm",placeholder:"Ingresa tu prompt personalizado..."}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{children:[d.length," caracteres"]}),a.jsxs("span",{children:[Math.ceil(d.length/4)," tokens estimados"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(B,{onClick:()=>N(A),disabled:o||!v||!d.trim(),className:"gap-2",children:[a.jsx(lh,{className:"w-4 h-4"}),o?"Guardando...":"Guardar"]}),a.jsxs(B,{variant:"outline",onClick:()=>S(A),disabled:!d.trim(),className:"gap-2",children:[a.jsx(En,{className:"w-4 h-4"}),"Vista Previa"]}),a.jsx(B,{variant:"ghost",onClick:j,className:"gap-2",children:"Cancelar"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:a.jsx("pre",{className:"text-sm whitespace-pre-wrap font-mono",children:M.current_prompt})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(B,{onClick:()=>b(A),className:"gap-2",children:[a.jsx(wd,{className:"w-4 h-4"}),"Editar Prompt"]}),M.is_custom&&a.jsxs(B,{variant:"outline",onClick:()=>k(A),className:"gap-2",children:[a.jsx(gx,{className:"w-4 h-4"}),"Restablecer"]})]})]}),h&&c===A&&a.jsxs(Zt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg p-4 bg-muted/30",children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(En,{className:"w-4 h-4"}),"Vista Previa"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Caracteres:"}),a.jsx("div",{className:"font-medium",children:h.char_count})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Palabras:"}),a.jsx("div",{className:"font-medium",children:h.word_count})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Tokens:"}),a.jsx("div",{className:"font-medium",children:h.estimated_tokens})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Calidad:"}),a.jsxs("div",{className:`font-medium ${C(h.quality_score)}`,children:[h.quality_score,"%"]})]})]}),h.variables_found.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Variables encontradas:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:h.variables_found.map(R=>a.jsx(K,{variant:"outline",className:"text-xs",children:R},R))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ejemplo con consulta:"}),a.jsx("div",{className:"bg-background rounded p-2 mt-1 text-xs font-mono",children:h.example_with_query})]})]})]})]})},A))]})]})}const OY=new MI({defaultOptions:{queries:{retry:1,staleTime:5*60*1e3}}});function LY(){return a.jsx(OI,{client:OY,children:a.jsx(nL,{children:a.jsx(rL,{children:a.jsx(M6,{children:a.jsx(iI,{children:a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs(JD,{children:[a.jsx(Ve,{path:"/",element:a.jsx(I6,{})}),a.jsx(Ve,{path:"/login",element:a.jsx(pj,{type:"login"})}),a.jsx(Ve,{path:"/register",element:a.jsx(pj,{type:"register"})}),a.jsx(Ve,{path:"/auth/callback",element:a.jsx(uY,{})}),a.jsx(Ve,{path:"/pricing",element:a.jsx(Ou,{to:"/plans",replace:!0})}),a.jsx(Ve,{path:"/plans",element:a.jsx(T1,{})}),a.jsxs(Ve,{path:"/app",element:a.jsx(eC,{children:a.jsx(N6,{})}),children:[a.jsx(Ve,{index:!0,element:a.jsx(Ou,{to:"/app/dashboard",replace:!0})}),a.jsx(Ve,{path:"dashboard",element:a.jsx(QK,{})}),a.jsx(Ve,{path:"calendar",element:a.jsx(AZ,{})}),a.jsx(Ve,{path:"history",element:a.jsx(MZ,{})}),a.jsx(Ve,{path:"export",element:a.jsx(cY,{})}),a.jsx(Ve,{path:"settings",element:a.jsx(tY,{})}),a.jsx(Ve,{path:"settings/profile",element:a.jsx(F1,{})}),a.jsx(Ve,{path:"settings/subscription",element:a.jsx(LZ,{})}),a.jsx(Ve,{path:"profile",element:a.jsx(F1,{})}),a.jsx(Ve,{path:"plans",element:a.jsx(T1,{})}),a.jsx(Ve,{path:"convocatorias",element:a.jsx(Ou,{to:"/app/dashboard",replace:!0})}),a.jsx(Ve,{path:"convocatorias/new",element:a.jsx(FZ,{})}),a.jsx(Ve,{path:"convocatorias/new-ai",element:a.jsx(VZ,{})}),a.jsx(Ve,{path:"convocatorias/import",element:a.jsx(BZ,{})}),a.jsx(Ve,{path:"convocatorias/paste",element:a.jsx(WZ,{})}),a.jsx(Ve,{path:"convocatorias/:id",element:a.jsx(UZ,{})}),a.jsx(Ve,{path:"ai-search",element:a.jsx(bY,{})}),a.jsx(Ve,{path:"saved-searches",element:a.jsx(_Y,{})}),a.jsx(Ve,{path:"saved-convocatorias",element:a.jsx(MY,{})}),a.jsx(Ve,{path:"ai-config",element:a.jsx(DY,{})}),a.jsx(Ve,{path:"prompt-editor",element:a.jsx(IY,{})})]}),a.jsx(Ve,{path:"*",element:a.jsx(Ou,{to:"/",replace:!0})})]}),a.jsx(AL,{})]})})})})})})}Jm.createRoot(document.getElementById("root")).render(a.jsx(q.StrictMode,{children:a.jsx(LY,{})}));
